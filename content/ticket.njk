---
pagination:
  data: sampletickets
  size: 1
  alias: ticket
layout: layouts/ticket.njk
eleventyComputed:
  title: "#{{ ticket.id }} ({{ ticket.summary }}) - jQuery - Bug Tracker"
permalink: /ticket/{{ ticket.id }}/
tags: tickets
---

{% if pagination.href.previous or pagination.href.next %}
  <nav class="content-nav">
    <ul class="flex-row">
      {% if pagination.href.previous %}
        <li>
          <a href="{{ pagination.href.previous }}">← Previous Ticket</a>
        </Li>
      {% else %}
        <li>
          <a aria-disabled="true">← Previous Ticket</a>
        </li>
      {% endif %}
      {% if pagination.href.next %}
        <li>
          <a href="{{ pagination.href.next }}">Next Ticket →</a>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}

<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="{{ pagination.url }}">#{{ ticket.id }}</a>
      <span class="ticket-status">{{ ticket.status }}</span>
      <span class="ticket-type">{{ ticket.type }}</span>
      <span class="ticket-resolution">({{ ticket.resolution }})</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened {{ ticket.time | yearsAgo }}</p>
      {% if ticket.status == 'closed' and ticket.closedtime %}
        <p>Closed {{ ticket.closedtime | yearsAgo }}</p>
      {% endif %}
      <p>Last modified {{ ticket.changetime | yearsAgo }}</p>
    </div>
  </div>

  <h3 class="ticket-title">{{ ticket.summary }}</h3>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        {{ ticket.reporter }}
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        {{ ticket.priority }}
      </td>
      <th>
        Milestone:
      </th>
      <td>
        <a href="/milestone/{{ ticket.milestone }}">{{ ticket.milestone }}</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>{{ ticket.component }}</td>
      {% if ticket.version %}
        <th>Version:</th>
      {% else %}
        <th class="missing">Version:</th>
      {% endif %}
      <td>{{ ticket.version }}</td>
    </tr>
    <tr>
      {% if ticket.keywords %}
        <th>Keywords:</th>
      {% else %}
        <th class="missing">Keywords:</th>
      {% endif %}
      <td>{{ ticket.keywords }}</td>
      {% if ticket.cc %}
        <th>Cc:</th>
      {% else %}
        <th class="missing">Cc:</th>
      {% endif %}
      <td>{{ ticket.cc }}</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description">{{ ticket.description }}</div>
  </div>
</div>

<details open>
  <summary class="ticket-details-summary">Change History ({{ ticket.changes | length }})</summary>
  {% for change in ticket.changes %}
    <div class="ticket-comment flex-column" id="comment:{{ loop.index }}">
      <h3 class="flex-row flex-between-start ticket-comment-header">
        <span>Changed {{ change.time | yearsAgo }} by <span class="author">{{ change.author }}</span></span>
        <a class="ticket-comment-link" href="#comment:{{ loop.index }}">comment:{{ loop.index }}</a>
      </h3>
      <table class="ticket-changes">
        <tbody>
          {% for field in change.fields %}
            <tr>
              <th>{{ field.field }}:</th>
              <td>
                {% if field.oldvalue and field.newvalue %}
                  <span class="change-field-old">{{ field.oldvalue }}</span> → <span class="change-field-new">{{ field.newvalue }}</span>
                {% elif field.oldvalue %}
                  <span class="change-field-old strikethrough">{{ field.oldvalue }}</span>
                {% elif field.newvalue %}
                  <span class="change-field-new">{{ field.newvalue }}</span>
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endfor %}
</details>
