<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>$.ajax test</title>
</head>
<body>
  <div id="twitter_text">Fetching latest Twitter status...</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js"></script>
<script>

$(document).ready(function(){
  $.ajax({

    //The following "url" is valid, a "control" test.

    url : "http://twitter.com/status/user_timeline/twitter.json?count=10&callback=?",
    
    //The next "url" commented out below correctly triggers the error event, since it's completely invalid.

    //url : "___",
    
    //The next two "url"s commented out below SHOULD trigger the error event, but don't; execution just stops instead, which isn't the desired behavior.
    
    //url : "http://twi___tter.com/user_timeline/twiter.json?count=10&callback=?",
    //url : "http://twitter.com/status/user_timeline/twi___tter.json?count=10&callback=?",

    dataType : 'jsonp',
    data : {},
    success : function(data) {
      //Do stuff with the data
      $.each(data, function(i, item) {
        //console.log(item);
        $('#twitter_text').append('<br />');        
        $('#twitter_text').append(item.text);
      });
    },
    error: function(ajaxobj, txt, exceptobj) {
      //console.log(ajaxobj, txt, exceptobj);
      alert("AJAX Error triggered!");
    }
  });

});

</script>

</body>
</html>
