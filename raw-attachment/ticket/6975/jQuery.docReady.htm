<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script>

// use $(document).ready(documentReady) or window.onload=documentReady
var usejQueryDocumentReady	= true;

// set $(document).ready(documentReady) or window.onload=documentReady in head or in body element
var setDocumentReadyInHead	= !true;

if (setDocumentReadyInHead) {
	if (usejQueryDomReady)	$(document).ready(documentReady)
	else			window.onload=documentReady
}

function documentReady() {
	alert('documentReady called');
	$('h1').nextUntil('h1').wrap("<div style='background: red; ' />");
}
</script>
</head>

<body>

<h1>h1</h1>
<p>p</p>
<p>p</p>

<h2>h2</h2>
<p>p</p>
<p>p</p>

<h1>h1</h1>
<p>p</p>
<p>p</p>

<script>
if (!setDocumentReadyInHead) {
	if (usejQueryDocumentReady)	$(document).ready(documentReady)
	else				window.onload=documentReady
}
</script>

</body>
</html>