<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#999 (ASP.Net 2.0 Page Scroll code is triggering the jQuery event handler causing jQuery to throw a JavaScript error â€œthis.events is undefinedâ€) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/bugs.jquery.com/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/bugs.jquery.com/favicon.svg">
<link rel="apple-touch-icon" href="/bugs.jquery.com/apple-touch-icon.png">
    
    
    
    
    
    
    
    <style>
      :root{--ticket-info-background-color:#ffd;--ticket-info-border-color:#dd9;--ticket-table-border-color:#eed;--ticket-date-text-color:#996;--ticket-description-title-color:#663;--ticket-changes-text-color:#663;--ticket-changes-box-shadow:#f2f2f2}.ticket-info{position:relative;background-color:var(--ticket-info-background-color);border:1px solid var(--ticket-info-border-color);border-radius:var(--border-radius);padding:.5em .75em;margin-bottom:.5em}.ticket-number{font-size:1.15rem;font-weight:700;margin-right:.5em}.ticket-info span{font-size:.8125em;font-weight:700}.ticket-resolution,.ticket-status,.ticket-type{text-transform:uppercase}.missing{color:var(--text-color-link-disabled)}.ticket-title{border-bottom:1px solid #bbb;margin-top:1em;padding-bottom:.25em;font-weight:700;font-size:1.1875rem}.ticket-dates{color:var(--ticket-date-text-color);font-size:.8125rem}.ticket-dates p{margin:0 0 .5em}.ticket-properties{width:100%;text-align:left;font-size:.65rem;border-top:1px solid var(--ticket-table-border-color);margin:0}.ticket-properties th{font-weight:400;width:20%}.ticket-properties td,.ticket-properties th{padding:.25em .5em;border-bottom:1px dashed var(--ticket-table-border-color)}.ticket-info-bottom{padding:.5em}.ticket-description{font-size:.8125rem;margin-top:.5em}.ticket-description h2,.ticket-description h3,.ticket-description h4,.ticket-description h5,.ticket-description h6{text-transform:uppercase;font-weight:400}.ticket-description h1{font-size:1.1rem}.ticket-description h2{font-size:1rem}.ticket-description h3{font-size:.9rem}.ticket-description h4{font-size:.8rem}.ticket-description h5{font-size:.75rem}.ticket-description h6{font-size:.7rem}.ticket-description-title{color:var(--ticket-description-title-color);font-size:.75rem}details{padding:.5em 0;font-size:.8125rem}summary{color:var(--text-color-link);font-weight:700;font-size:.875rem;text-decoration:underline;cursor:pointer;text-shadow:.04em .04em var(--text-shadow-color)}.ticket-attachments{font-size:.75em}.ticket-comment-body{width:100%;padding-top:.5em}.ticket-change{margin:1em 0;clear:both}.ticket-change-header{font-size:.875rem;font-weight:700;box-shadow:1.4px 2.8px 5.6px 0 var(--ticket-changes-box-shadow)}.ticket-change-link{font-size:.85em}.ticket-change-content{width:100%}.ticket-changes{background-color:var(--ticket-info-background-color);border:1px solid var(--ticket-info-border-color);border-radius:var(--border-radius);color:var(--ticket-changes-text-color);font-size:.7rem;float:right;clear:right;margin:2em 0 1em 1.5em}.ticket-changes th{text-align:right;font-weight:400;text-transform:capitalize}.ticket-changes td,.ticket-changes th{padding:.25em;vertical-align:baseline}.ticket-changes .change-field-new{font-weight:700}:root{--font-family:'Trebuchet MS',Verdana,Helvetica,Arial,sans-serif;--font-family-header:var(--font-family);--font-family-alternate:Verdana,Arial,'Bitstream Vera Sans',Helvetica,sans-serif;--font-family-monospace:Monaco,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Courier New,Courier,monospace}:root{--primary-color:#192839;--secondary-color:#0f67a1;--text-color:#222;--text-color-dark-bg:#fff;--text-color-link:var(--secondary-color);--text-color-link-hover:#0e3a58;--text-color-link-active:#1695e9;--text-color-link-visited:var(--secondary-color);--text-color-link-disabled:#998;--main-link-hover-bg-color:#eee;--text-shadow-color:#fcfcfc;--button-color:var(--secondary-color);--button-hover-color:var(--text-color-link-hover);--button-text-color:#fff;--footer-text-color-link:#5db0e6;--background-color:#39414a;--nav-background-color:var(--primary-color);--secondary-nav-background-color:var(--secondary-color);--main-background-start-color:#000000;--main-background-end-color:#181c21;--content-background-color:#fafafa;--sidenav-header-background-color:#ddd;--banner-background-color:var(--primary-color);--footer-background-start-color:var(--primary-color);--footer-background-end-color:#0f1923;--nav-text-link-color:white;--nav-hover-link-color:rgba(0, 0, 0, 0.2);--nav-active-link-color:#176092;--border-color:#e4e4e4;--border-radius:4px;--input-border-color:white;--blockquote-border-color:#b44;--pre-color:#333;--pre-background-color:#fff;--code-color:#600;--code-background-color:var(--content-background-color);--syntax-tab-size:2}*{box-sizing:border-box}body,html{padding:0;margin:0 auto;font-family:var(--font-family);font-size:100%;color:var(--text-color);background-color:var(--background-color);line-height:1.4}html{overflow-y:auto}body{background-repeat:repeat-x;background-position:50% 80px}.banner{width:100%;height:80px;background-color:var(--banner-background-color);color:#fff;box-shadow:0 2px 5px rgba(0,0,0,.2);text-align:center;font-size:.875rem;padding:0 .25em}.banner a[href],.banner a[href]:visited{color:#5cb5f0}.banner a[href]:hover{color:var(--text-color-link-hover)}.banner a[href]:active{color:var(--text-color-link-active)}th,tr{font-family:var(--font-family-alternate)}.container{width:100%;max-width:910px;margin:0 auto;overflow:hidden}h1,h2,h3,h4,h5,h6{font-family:var(--font-family-header);font-weight:400;margin:0;padding:0;letter-spacing:0}h1{font-size:1.25rem;font-weight:700}.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}p{line-height:1.5;margin:.5em 0 1em}p:last-child{margin-bottom:0}ul{margin:0}li{line-height:1.5}hr{width:100%}blockquote{margin:-.3em 0 0 0;border-style:solid;border-width:0 0 0 2px;padding-left:.4em;border-color:var(--blockquote-border-color)}a[href]{color:var(--text-color-link)}a[href]:visited{color:var(--text-color-link-visited)}a[href]:hover,footer a[href]:hover{color:var(--text-color-link-hover)}a[href]:active,footer a[href]:hover{color:var(--text-color-link-active)}a[aria-disabled=true]{color:var(--text-color-link-disabled)}main{padding:1rem}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:var(--font-family-monospace)}pre:not([class*=language-]){margin:.5em 0;-moz-tab-size:var(--syntax-tab-size);-o-tab-size:var(--syntax-tab-size);tab-size:var(--syntax-tab-size);-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;width:100%;padding:.25em;font-size:.6875rem;border-radius:var(--border-radius);overflow-x:auto;background:var(--pre-background-color);color:var(--pre-color);border:1px solid #000;text-align:left}code{color:var(--code-color);border:1px solid var(--border-color);border-radius:.25em;padding:0 .3em;background:var(--code-background-color);word-break:break-all}pre[class*=language-] code{color:unset;border:none;border-radius:0;padding:0;background:0 0;word-break:normal}.strikethrough{text-decoration:line-through}header{position:relative;height:186px;display:flex;flex-wrap:wrap;padding:0 1.5rem}header h1{text-transform:uppercase}.nav{display:flex;flex-direction:column;padding:0;list-style:none}.nav a{display:flex;align-items:center;height:35px;font-size:.75rem;padding:0 1em;text-decoration:none;border-bottom:1px dotted var(--nav-text-link-color);white-space:nowrap;width:100%}.nav li:not(.active) a:active,.nav li:not(.active) a:hover{background-color:var(--nav-hover-link-color)}.nav a,.nav a:active,.nav a:hover,.nav a:visited{color:var(--nav-text-link-color)}.nav .active a{border-bottom:2px solid var(--nav-active-link-color)}#jq-siteLogo{margin-top:1em}#jq-primaryNavigation{padding:0 .5em;background-color:var(--nav-background-color)}#jq-secondaryNavigation{padding:0 .5em;background-color:var(--secondary-nav-background-color)}#jq-secondaryNavigation a{font-size:.8125rem}#bug-tracker-form{position:relative;width:100%;gap:16px;margin-top:25px;color:var(--text-color-dark-bg)}.content-nav{font-size:.8125rem;margin:1.2em 0;align-self:flex-end}.content-nav ul{list-style:none}.content-nav li{padding:0 .75em}.content-nav li:not(:last-of-type){border-right:1px solid var(--border-color)}.hamburger-lines{position:relative;width:18px;height:14px;align-self:center}.hamburger-line{width:100%;height:2px;background-color:#fff;transition:opacity .2s ease-in-out,transform .2s ease-in-out}.hamburger-toggle:checked+.hamburger-lines span:first-of-type{transform:rotateZ(45deg) translate(4px,4.5px) scaleX(1.2)}.hamburger-toggle:checked+.hamburger-lines span:nth-of-type(2){transform:rotateZ(135deg) scaleX(1.2)}.hamburger-toggle:checked+.hamburger-lines span:last-of-type{transform:translateY(-8px) scale(0);opacity:0}.hamburger-toggle:checked~#jq-menus{transform:none;opacity:1}form{gap:.5em}label{font-style:italic;font-size:.8125rem;font-weight:700}input{border:1px solid var(--input-border-color);border-radius:var(--border-radius);height:25px;padding:0 .5em;color:var(--text-color)}button{display:block;border:0;padding:5px 10px;border-radius:var(--border-radius);background:var(--button-color);color:var(--button-text-color);font-size:.875rem;cursor:pointer}button:active,button:hover{background-color:var(--button-hover-color)}button:active{box-shadow:inset 0 0 5px #000}main{padding:20px;background:linear-gradient(to bottom,var(--main-background-start-color),var(--main-background-end-color));gap:1em}main a[href]:active,main a[href]:hover{background-color:var(--main-link-hover-bg-color)}#jq-content{position:relative;padding:1em}#jq-sidenav{padding:2em 1em}#jq-sidenav a{font-size:.75rem;display:block;padding:.35em .625em;text-decoration:none;border-bottom:1px solid var(--border-color)}.sidenav-header{font-size:.75rem;font-weight:700;color:var(--primary-color);text-transform:uppercase;background-color:var(--sidenav-header-background-color);padding:.225em .625em;margin-bottom:.5em}footer{background-color:var(--nav-background-color);background:var(--nav-background-color) linear-gradient(to bottom,var(--footer-background-start-color),var(--footer-background-end-color));padding:2.5em;margin-bottom:2em;border-top:2px solid #000;border-bottom:2px solid #000;color:var(--text-color-dark-bg)}footer a[href],footer a[href]:visited{color:var(--footer-text-color-link)}.flex-row{display:flex;flex-direction:row}.flex-column{display:flex;flex-direction:column}.flex-between-start{justify-content:space-between;align-items:flex-start}.flex-between-center{justify-content:space-between;align-items:center}.flex-start-center{justify-content:flex-start;align-items:center}.flex-center{display:flex;justify-content:center;align-items:center}.items-start{align-items:start}.white-box{background-color:var(--content-background-color);border-radius:var(--border-radius);border:1px solid var(--border-color)}a.ext-link .icon{padding-left:15px}@media (max-width:919px){#jq-menus{position:absolute;top:80px;height:calc(100vh - 80px);left:0;right:0;background-color:var(--nav-background-color);z-index:5;transition:transform .2s ease-in-out,opacity .2s ease-in-out;transform:translateX(100%);opacity:0;display:flex;flex-direction:column-reverse;justify-content:flex-end}}@media (min-width:920px){body{background-position-y:60px}.banner{height:60px;font-size:1rem}header{padding:0 2.5rem}.nav{flex-direction:row}.nav a{width:auto}#jq-primaryNavigation a{height:27px}#jq-secondaryNavigation{border-radius:var(--border-radius);margin-top:2em}#jq-siteLogo{margin-top:59px}#bug-tracker-form{flex-direction:row;gap:0;position:absolute;bottom:15px;left:0;right:0;padding:0 40px 0 60px}.hamburger-lines{display:none}main.flex-column{padding:2.5em;display:flex;flex-direction:row}#jq-sidenav{width:196px;flex-shrink:0}.content-nav{margin-top:.4em}#jq-content{flex-grow:1;max-width:622px;min-height:520px;font-size:.875rem}}:root{--pagefind-ui-background-color:#fff}#search{position:relative;width:calc(100% - 85px - 22px - 1rem);margin-right:22px;align-self:flex-end}#search:before{content:'Search Tickets';position:absolute;right:100%;top:50%;transform:translate(-10px,-50%);color:#fff;font-size:.8125rem;font-style:italic;white-space:nowrap}#search:after{content:'';display:block;position:absolute;right:-22px;top:-4px;width:35px;height:35px;z-index:2}.pagefind-ui__search-input{width:100%}.pagefind-ui__search-clear{display:inline-block;position:absolute;width:25px;height:25px;right:15px;top:0;padding:0 0 0 25px;overflow:hidden;background-color:transparent;z-index:1}.pagefind-ui__search-clear:active,.pagefind-ui__search-clear:hover{background-color:rgba(0,0,0,.2)}.pagefind-ui__search-clear:after{content:'×';position:absolute;top:0;left:0;right:0;bottom:0;font-weight:700;font-size:1.5rem;line-height:26px;text-align:center;color:var(--text-color);opacity:1}.pagefind-ui__hidden{display:none}.pagefind-ui__suppressed{display:none}.pagefind-ui__drawer{position:absolute;top:100%;left:0;right:0;height:350px;background-color:var(--pagefind-ui-background-color);border:1px solid var(--border-color);border-top:0;border-radius:0 0 var(--border-radius) var(--border-radius);box-shadow:0 2px 4px rgba(0,0,0,.2);padding:10px;color:var(--text-color);font-size:.875rem;overflow-y:auto;word-break:break-word;z-index:1}.pagefind-ui__results-area{width:100%}.pagefind-ui__results{padding-left:20px}.pagefind-ui__result{margin-bottom:10px;vertical-align:top}.pagefind-ui__result-thumb{display:flex;flex-direction:column}.pagefind-ui__result-thumb .pagefind-ui__result-image{max-width:150px}.pagefind-ui__message{font-weight:700;text-transform:uppercase;font-size:1rem}.pagefind-ui__button{width:100%;padding:10px;margin-top:2em}@media(min-width:920px){#search{width:auto}.pagefind-ui__search-input{width:300px}.pagefind-ui__search-clear{right:auto;left:270px}.pagefind-ui__drawer{left:-200px;height:500px;padding:15px}}body{background-image:url(/bugs.jquery.com/img/bg-interior-tile-drk.jpg)}a.ext-link .icon{background:url(/bugs.jquery.com/img/extlink.png) 0 50% no-repeat}#search:after{background:url(/bugs.jquery.com/img/icon-search.png) 0 0 no-repeat}
    </style>
    
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/bugs.jquery.com/" title="jQuery Home">
            <img src="/bugs.jquery.com/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/bugs.jquery.com/newticket">New Ticket</a>
          <a href="/bugs.jquery.com/report">View Tickets</a>
          <a href="/bugs.jquery.com/ticketgraph">Ticket Graph</a>
          <a href="/bugs.jquery.com/roadmap">Roadmap</a>
          <a href="/bugs.jquery.com/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/bugs.jquery.com/ticket/998/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/bugs.jquery.com/ticket/1000/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="." class="ticket-number">#999</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 24, 2007 06:46PM UTC</p>
      
        <p>Closed April 24, 2007 09:54PM UTC</p>
      
      
        <p>Last modified March 15, 2012 05:39PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">ASP.Net 2.0 Page Scroll code is triggering the jQuery event handler causing jQuery to throw a JavaScript error â€œthis.events is undefinedâ€</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        ZombieBob
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/bugs.jquery.com/milestone/1.1.3">1.1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>event</td>
      
        <th>Version:</th>
      
      <td>1.1.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>ASP.Net, this.events, Error</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Description: ASP.Net 2.0 makes use of an automatic resource files generation via a server side web page called <a href="/bugs.jquery.com/wiki/WebResource">WebResource</a>.axd and this is common across the entire industry.  Changing how Microsoft renders these resource files and <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> is unlikely to happen so it is up to the community to provide workarounds.</p><p><strong>Im attaching a Microsoft Word .doc file with all the detials/screen prints and <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> debug session details in VS.Net but will add the basic text below.</strong></p><p>BUG: ASP.Net 2.0 Page Scroll code is triggering the jQuery event handler causing jQuery to throw a <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> error â€œthis.events is undefinedâ€</p><p>Description: ASP.Net 2.0 makes use of an automatic resource files generation via a server side web page called <a href="/bugs.jquery.com/wiki/WebResource">WebResource</a>.axd and this is common across the entire industry.  Changing how Microsoft renders these resource files and <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> is unlikely to happen so it is up to the community to provide workarounds.</p><p>Steps to reproduce: (Sorry I had to put a patch into the jQuery code to ensure our enterprise operations here at Intel Corp so the page below will not throw the error now.  If you want to schedule some time with me I can set the error condition back up or perhaps you could use Microsoft Fiddler to do an inline replace for the jQuery Script source reference.)</p><p>Step 1: Load the following webpage - <a href="http://serverconfigurator.intel.com/configure.aspx?id=1194" class="ext-link"><span class="icon"></span>http://serverconfigurator.intel.com/configure.aspx?id=1194</a></p><p>Step 2: Make your browser into a smaller scrolling footprint like the following screen print with images and set your scrollbar somewhere in the middle like shown below</p><p>Detail Note: ASP.Net 2.0 <a href="/bugs.jquery.com/wiki/PostBack">PostBack</a> event's are automatically triggered when you click on any any of the radio button on this web page.</p><p>Step 3: Clicking on a radio button with the screen setup in the above format causes an ASP.Net <a href="/bugs.jquery.com/wiki/PostBack">PostBack</a> event to fire re-loading the page.  When the page is loaded on a postback a call is made to <a href="/bugs.jquery.com/wiki/WebResource">WebResource</a>.axd that load some Javascript that is used to attempt to reposition the scroll bar.</p><p>Detail Note: The page postback adds javascript code to the page to assist in repositioning the scrollbar, here is the stub of code rendered right before the closing HTMLâ€™s &lt;/body&gt; tag.  This auto-rendered script grabs the windows onload and places it in theForm.oldOnLoad.</p><pre class="wiki">
&lt;script type="text/javascript"&gt;
&lt;!--

theForm.oldSubmit = theForm.submit;
theForm.submit = WebForm_SaveScrollPositionSubmit;

theForm.oldOnSubmit = theForm.onsubmit;
theForm.onsubmit = WebForm_SaveScrollPositionOnSubmit;

theForm.oldOnLoad = window.onload;
window.onload = WebForm_RestoreScrollPosition;
// --&gt;
&lt;/script&gt;
</pre><p>Detail Note: This file is referenced also referenced (<a href="http://serverconfigurator.intel.com/WebResource.axd?d=p6mYeAhud6PI4_X9tDzOXw2&amp;t=632777119425110309)" class="ext-link"><span class="icon"></span>http://serverconfigurator.intel.com/WebResource.axd?d=p6mYeAhud6PI4_X9tDzOXw2&amp;t=632777119425110309)</a> which contains the following snippet of code.  The BOLD item below is triggered in the code snippet</p><pre class="wiki">
function WebForm_RestoreScrollPosition() {
362 if (__nonMSDOMBrowser) {
363 window.scrollTo(theForm.elements['__SCROLLPOSITIONX'].value, theForm.elements['__SCROLLPOSITIONY'].value);
364 }
365 else {
366 window.scrollTo(theForm.__SCROLLPOSITIONX.value, theForm.__SCROLLPOSITIONY.value);
367 }
368 if ((typeof(theForm.oldOnLoad) != "undefined") && (theForm.oldOnLoad != null)) {
369 return theForm.oldOnLoad();
370 }
371 return true;
372}
</pre><p>Detail Notes: Screen print of Internet Explorer <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> debugging session trace - Notice in the Call stack below.  The Resource <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> supplied by â€œWebResource.axdâ€ is attempting to execute the old window.onload function call.  In this scripts context â€œthis.eventsâ€ has a valid value.</p><p>Detail Notes: The following screen-print shows the call-stack for jQuery right before the break occurs.  Note that â€œthis.eventsâ€ in jQueryâ€™s context is undefined.  Below are a couple more screen captures showing that the jQuery handle: function(event) is getting a good parameter and event.type is populated</p><p>Detail Notes: Below are a couple more screen captures showing that the jQuery handle: function(event) is getting a good parameter and event.type is populated</p><p>[images missing]</p><p>Final Thoughts & Fix Suggestion: I am not 100% sure about jQueryâ€™s event handling structure or the actual entry point that get triggered when the HTML in the page calls theForm.oldOnLoad() and I only had time to get to the actual point where the error was happening in jQuery.  Sorry about that.  You will have noticed that I had put in a try/catch originally but opted on the following single line of code change</p><p>Changed code from this -</p><pre class="wiki">
// If no correct event was found, fail
if ( !event) return false;

to this â€“

// If no correct event was found, fail
if ( !event || !this.events) return false;
</pre><p>I am not sure that this was the best way to handle this problem but it appears to be working and the problem seems to be gone.  I will know in a couple of days as we are using jQuery over somewhere between 5-10 thousand content pages for Page Voting, Page Tags retrieval and Page Comments.</p><p>Kevin Pirkl</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (4)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/bugs.jquery.com/attachment/ticket/999/BUG.doc/index.html">BUG.doc</a> (88.5 KB) - added by ZombieBob
        <strong>February 24, 2007 07:02PM UTC</strong>.<br>
        <p>jQueryBugReportASP_Net_Native_ScrollCode_Issue</p>
      </li>
    
      <li>
        <a href="/bugs.jquery.com/attachment/ticket/999/BUG_rtf.zip/index.html">BUG_rtf.zip</a> (83.6 KB) - added by ZombieBob
        <strong>February 25, 2007 03:46AM UTC</strong>.<br>
        <p>rtf version of the bugs details...</p>
      </li>
    
      <li>
        <a href="/bugs.jquery.com/attachment/ticket/999/dot_net_fix_Rev1373.diff/index.html">dot_net_fix_Rev1373.diff</a> (0.5 KB) - added by brandon
        <strong>February 26, 2007 02:01PM UTC</strong>.<br>
        <p>Patch for 1.1.1 event.js</p>
      </li>
    
      <li>
        <a href="/bugs.jquery.com/attachment/ticket/999/dot_net_fix_Rev1423.diff/index.html">dot_net_fix_Rev1423.diff</a> (0.5 KB) - added by brandon
        <strong>February 26, 2007 02:02PM UTC</strong>.<br>
        <p>Patch for latest SVN</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (10)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 24, 2007 07:14PM UTC by <span class="author">aheimlich</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I don't know how much this will help, but <code>events</code> was recently changed to <code>$events</code>. Try downloading the <a href="http://jquery.com/src/nightlies/jquery-nightly.release.zip" class="ext-link"><span class="icon"></span>latest nightly</a> and see if that helps at all. Or, since I noticed you're using 1.0.4, try doing a Find/Replace for events -&gt; $events. I can't really provide much more help as you don't have a demo of the issue in action (and I'm not familiar with ASP.NET).</p><p>Also, none of your attachments or images are showing up.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 24, 2007 07:16PM UTC by <span class="author">aheimlich</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:1 aheimlich]:</p><p>  Also, none of your attachments or images are showing up.</p><p>Well, I got the Word doc, but non of the inline images are showing up</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 25, 2007 04:11AM UTC by <span class="author">ZombieBob</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I placed the latest version of jQuery out on the Production server but the problem still appears and I left that latest version on our production site so you can see it.  Let me know when I can put the patch back in place per the attached bug report (or other fix.)</p><p>I gather from perusing the forums that this problem has been around off and on for some persons for a while now so I hope I found a goodie for you.  I know it took me hours to debug it and the write this whole thing up :)</p><p>The radio buttons in the ASPX page link above do a postback.  After the postback the page Response loads back up with some extra javascript "window.onload = <a href="/bugs.jquery.com/wiki/WebForm_RestoreScrollPosition">WebForm_RestoreScrollPosition</a>;" which is how ASP.Net 2.0 attempt to restore the scroll position.  After this method is triggered you will see the error and I think the bug report and potential fix will make sense.</p><p>One crummy gotcha that bit me in the a$$ quite a few times is something in Internet Explorer gets the <a href="/bugs.jquery.com/wiki/WebResource">WebResource</a>.axd file from the IIS server.  CGI Headers be dammned - IE appears to keep a local copy in IE cache directory and does not attempt to reload the file after it has been loaded once.  Even a Ctrl+F5 did not do a forced reload of (<a href="http://serverconfigurator.intel.com/WebResource.axd?d=p6mYeAhud6PI4_X9tDzOXw2&amp;t=632777119425110309)" class="ext-link"><span class="icon"></span>http://serverconfigurator.intel.com/WebResource.axd?d=p6mYeAhud6PI4_X9tDzOXw2&amp;t=632777119425110309)</a> file.  I had to clear my IE cache and close and reopen the browser to see it loaded.  Firefox just loads the darn thing every time so no problem there.  </p><p>I use Microsoft Fiddler to see all the file loading activity and I used Visual Studio.Net with <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> debugging enabled to track down the error to the degree that I have.  If I can find an another extra hour I can probably simplify a repeatable version of this bug and not be pointing you to the site you can see it at right now...  Anyway...</p><p>Let me know if I can give you more or better details or if you still can't see the images in the attached RTF file.  I can save it as HTML to my home server if need be...  </p><p>Kevin Pirkl (<a href="/bugs.jquery.com/wiki/ZombieBob">ZombieBob</a> at Intel.com)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 25, 2007 05:50AM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is an interesting issue. jQuery isn't even used to bind any events on that page, from what I can tell. So, I'm not sure why the jQuery.handle method is even being called. We really need a dumbed down page/test case to find the issue. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 25, 2007 05:56PM UTC by <span class="author">ZombieBob</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ok I have it down to some simple HTML that I will post here</p><p>jQuery appears to auto-bind code to the window.onload event when the jQuery script is loaded and hence when the ASP.Net 2.0 code renderer engine generates it's own code regarding scrollbar position (on a page postback event in this case) ASP.Net stores off the old window.onload and does it's work then tries to run the code as hooked by jQuery which throws the error.</p><p>Below is the boiled down version of that code with 99% of non-essentials stripped of. I imagine that lots of coders use this same pattern to play well with other window.onload handlers. </p><pre class="wiki">
&lt;HTML&gt;
&lt;HEAD&gt;
	&lt;title&gt;Test Error 999&lt;/title&gt;
	&lt;script language="javascript" src="http://jquery.com/src/jquery-latest.js"&gt;&lt;/script&gt;
&lt;/HEAD&gt;
&lt;body&gt;

	&lt;form name="Form1" method="post" action="configure.aspx?id=1194" id="Form1"&gt;		

&lt;script type="text/javascript"&gt;

	// I HAVE BOILED IT DOWN TO JUST THE BASICS NOW AND OTHER THAN COMMNETS THIS WOULD ALL BE AUTOGENERATE ASP.NET 2.0 Code


	var theForm = document.forms['Form1'];
	if (!theForm) {
	    theForm = document.Form1;
	}

	function WebForm_RestoreScrollPosition() {

		// I REMOVED THE EXTRANEOUS CODE FOR BREVITY - Kevin Pirkl

		if ((typeof(theForm.oldOnLoad) != "undefined") && (theForm.oldOnLoad != null)) {
			return theForm.oldOnLoad();
		}
		return true;
	}

	alert(window.onload);  // curious &lt;- jQuery has already hooked the load event.....

	// &lt;-- ASP.Net 2.0 produces this code to play nice when others who have set their own onload handler
	theForm.oldOnLoad = window.onload;  

	alert( "About to Error on jQuery.cs code of -- var c = this.events[event.type];   in  -- ")
	window.onload = WebForm_RestoreScrollPosition; // &lt;-- ASP.Net 2.0 on the postback Response tries to reposition the scrollbar.

&lt;/script&gt;

	&lt;/form&gt;

	&lt;/body&gt;
&lt;/HTML&gt;
</pre><p>I hope this helps.  My original fix suggestion may or may not be the best but I hope it helps get you in the right direction.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 26, 2007 04:56AM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The problem is that by storing the event handler on </p><pre class="wiki">theForm</pre>, the scope is changed from the <pre class="wiki">window</pre> to <pre class="wiki">theForm</pre>. Also they do not pass the original event to the handler. The fix you posted does prevent the error but it also prevents the handlers from being fired.<p></p><p>Since the generated <a href="/bugs.jquery.com/wiki/JavaScript">JavaScript</a> by ASP.Net changes the scope and does not pass the event object, I'm unsure how we will be able to fix this in the jQuery core.</p><p>Hopefully other libraries, frameworks and scripts do not use this technique as it completely renders the original event useless.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 26, 2007 05:36AM UTC by <span class="author">ZombieBob</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Sorry to push the point.... I want to re-open this but will accept your final decision.  I have 10 hours of my professional services in on this bug and would like to see it fixed for all ASP.Net developers.</p><p>I presented a very simple fix already that I don't think would cause any extraneous impact to jQuery users and would fix the problem once and for all ASP.Net coders reporting this same issue (bottom.)</p><p>Changing a single line of code within jQuery from this </p><pre class="wiki">
// If no correct event was found, fail
if ( !event) return false;
</pre><p>to this </p><pre class="wiki">
// If no correct event was found, fail
if ( !event || !this.events) return false;
</pre><p>fixes the problem for every ASP.Net developer and for that matter quite a few other third party frameworks likely.</p><p>I personally dont mind patching our production version of jQuery myself but I think you guys should consider it and give proper feedback if my proposed change causes issues for other jQuery users.</p><p>We at Intel Corporation have been pushing quite a few .Net teams into using jQuery and I would hate to have to entertain alternatives (5000 web pages are making use it right now.)  Please contact me direct via email if you would 9-5PM PST time Intel Corporation kevin.pirkl@intel.com</p><p>Here are others reporting the same problem but it has not been handled for.  </p><p><a href="http://72.14.253.104/search?q=cache:X-mj09gTLXIJ:jquery.com/discuss/2006-September/012820/+jQuery+this.events&hl=en&ct=clnk&cd=1&gl=us&client=firefox-a" class="ext-link"><span class="icon"></span>http://72.14.253.104/search?q=cache:X-mj09gTLXIJ:jquery.com/discuss/2006-September/012820/+jQuery+this.events&hl=en&ct=clnk&cd=1&gl=us&client=firefox-a</a></p><p><a href="http://www.nabble.com/IE6-ASP.NET-error-from-document.onload%3A-%27this.events%27-is-null-tf2356326.html#a6563200" class="ext-link"><span class="icon"></span>http://www.nabble.com/IE6-ASP.NET-error-from-document.onload%3A-%27this.events%27-is-null-tf2356326.html#a6563200</a></p><p><a href="http://www.nabble.com/Remove-from-JSON-tf2825664.html#a7887816" class="ext-link"><span class="icon"></span>http://www.nabble.com/Remove-from-JSON-tf2825664.html#a7887816</a></p><p>Sincerely </p><p>Kevin M Pirkl</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 26, 2007 02:00PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thank you Kevin for all your time and effort. It has been extremely valuable in tracking down the cause of this error. </p><p>I've created to patches that I have tested in the simplified test case you provided and it works. The first patch is for jQuery Rev 1373 (1.1.1) and the second patch is for jQuery Rev 1423 (latest SVN). Just apply the patches and rebuild the src files. Let me know if I need to provide a patch for an older tag or a specific revision.</p><p>This fix has a slightly better chance of making it into the core but I'm not very fond of it. In the mean time I'll leave this bug open for others to comment on. Perhaps we can come up with a better fix.</p><p>Again, thanks for the time and effort Kevin.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 27, 2007 04:51PM UTC by <span class="author">ZombieBob</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Works!</p><p>I see the general pattern here now.  </p><p>1&gt; Many re-usable component coders like to write code that is sensitive to any previously set windows.onload event in the body html tag or via javascript window.onload hooks.  </p><p>2&gt; In this case ASP.Net 2.0 injects code into the page for postback events to deals with vertical/horizontal scrollbar positioning after re-rendering the page.</p><p>3&gt; This injected code stored off the jQuery onload hook seeing and after re-positioning the scroll bar made tried to honor the original onload event that it usurped by triggering it thus creating the error condition.</p><p>We worked the patch through about 15 or more different ASP.Net 2.0/1.0 applications and some ASP and PHP apps as well and it not does not appears to change any existing/expected behavior.  Other tests included multiple per-page $.Ready event calls</p><p>Many thanks...  Kevin</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 24, 2007 09:54PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-new">→ Review</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>With the move to DOM Level 2 event handlers this is now resolved. Fixed in the latest SVN which will soon be 1.1.3.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2023
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/bugs.jquery.com/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script>
      window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({
          element: "#search",
          showImages: false,
          translations: {
            placeholder: '',
            zero_results: 'No matches found.'
          }
        })
      })
    </script>
  </body>
</html>
