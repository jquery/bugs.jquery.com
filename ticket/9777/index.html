<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9777 (.attr() changing wrong element on cloned elements (IE7 only)) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9776/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9778/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9777</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened July 07, 2011 07:22PM UTC</p>
      
        <p>Closed October 22, 2012 05:40PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">.attr() changing wrong element on cloned elements (IE7 only)</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        matthew.leonhardt@gmail.com
      </td>
      <th>Owned by:</th>
      <td>timmywil</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>manipulation</td>
      
        <th>Version:</th>
      
      <td>1.6.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The following script highlights the differences.  This works as expected in IE8 and FF, or using jQuery &lt;= v1.5.2.  It seems restricted to jQuery &gt;= 1.6 and IE7.</p><p>Basically, on cloned elements, .attr() seems to update the wrong element.</p><pre class="wiki">
&lt;html&gt;
  &lt;head&gt;
    &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
    
var curItem = 0;
$(document).ready(function()
{
  $("#newItem").click(function()
  {
    curItem++;
    addItem($("#items"), curItem);
  });
});

function addItem(elem, iter)
{
  var lastRow = elem.find("tr:last");
  var newRow = lastRow.clone(true);

  newRow.find(":input").each(function()
  {
    var newName = $(this).attr("name").replace(/^(.*)_\\d+$/, "$1_" + iter);

    // THIS CHANGES THE WRONG ELEMENT    
    $(this).attr("name", newName);
    
    // THIS WORKS
    //this.name = newName;
    
    $(this).val(newName);
    $("#thisData").text($(this).serialize());
  });
  
  lastRow.after(newRow);
  
  $("#formData").text($("form").serialize());
}

    &lt;/script&gt;
    &lt;/head&gt;
  &lt;body&gt;
    &lt;form action="#" method="post"&gt;
      &lt;table id="items"&gt;
        &lt;tr&gt;
          &lt;th&gt;Item&lt;/th&gt;
          &lt;td&gt;&lt;input type="text" name="item_0" value="item_0"&gt;&lt;td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;input type="button" id="newItem" value="Add Item"&gt;
    &lt;/form&gt;
    &lt;pre id="thisData"&gt;&lt;/pre&gt;
    &lt;pre id="formData"&gt;&lt;/pre&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (33)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 07:37PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ugh.  Failure to follow directions.  Sorry for the code post.  Here's the jsFiddle link: <a href="http://jsfiddle.net/MWfvw/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/MWfvw/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 07:42PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">manipulation</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ matthew.leonhardt@gmail.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The html shown is invalid.  That td needs a closing tag.</p><p>This works fine:</p><p><a href="http://jsfiddle.net/timmywil/f5Pmg/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/f5Pmg/</a></p><p>Let us know if that fixes the problem.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 08:24PM UTC by <span class="author">matthew.leonhardt@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for the input, but it doesn't really solve the problem.  Updated here: <a href="http://jsfiddle.net/MWfvw/6/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/MWfvw/6/</a>, but still fails in IE7.  The real world scenario involves cloning an entire table with 50+ input fields, so the each() method is unavoidable, I think.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 09:50PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">http://jsfiddle.net/timmywil/MWfvw/12/ test case with cloning]&#92;
[http://jsfiddle.net/timmywil/MWfvw/16/ test case without cloning]&#92;
&#92;
The right name is being set, but there is some weirdness with the manipulation.</span> → <span class="change-field-new">1310075423535805</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p><a href="http://jsfiddle.net/timmywil/MWfvw/12/" class="ext-link"><span class="icon"></span>test case with cloning</a></p><p><a href="http://jsfiddle.net/timmywil/MWfvw/16/" class="ext-link"><span class="icon"></span>test case without cloning</a></p><p>The right name is being set, but there is some weirdness with the manipulation.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 09:51PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here's <a href="http://jsfiddle.net/timmywil/MWfvw/15/" class="ext-link"><span class="icon"></span>another test case with cloning</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 12, 2011 08:56AM UTC by <span class="author">FND</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I can confirm this with another test case:&#92;
http://jsfiddle.net/wYYUL/&#92;
https://gist.github.com/1077553&#92;
&#92;
When replacing &#39;&#39;.attr(&quot;name&quot;)&#39;&#39; with &#39;&#39;.get(0).name&#39;&#39; (i.e. directly accessing DOM element properties), everything works as expected.</span> → <span class="change-field-new">1310461004691320</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I can confirm this with another test case:</p><p><a href="http://jsfiddle.net/wYYUL/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/wYYUL/</a></p><p><a href="https://gist.github.com/1077553" class="ext-link"><span class="icon"></span>https://gist.github.com/1077553</a></p><p>When replacing ''.attr("name")'' with ''.get(0).name'' (and the equivalent for setting values; i.e. directly accessing DOM element properties), everything works as expected.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 12, 2011 05:15PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can this be reduced to simple &lt; 5 line test case?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 13, 2011 03:21PM UTC by <span class="author">FND</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Reduced test case:&#92;
http://jsfiddle.net/mn7KG/1/&#92;
&#92;
(Not quite down to five lines, but that&#39;s mostly because we don&#39;t have &#39;&#39;console.log&#39;&#39; in IE... )&#92;
&#92;
Note that in regular browsers, each line being reported has one more &quot;x&quot; than the last one - but in IE7, all lines except the first have the same name, suggesting the respective element (or object) is erroneously modified retroactively.&#92;
&#92;
Again, when directly accessing the DOM element&#39;s &#39;&#39;.name&#39;&#39; property, the buggy behavior disappears.</span> → <span class="change-field-new">1310570629986361</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Reduced test case:&#92;
http://jsfiddle.net/mn7KG/2/&#92;
&#92;
(Not quite down to five lines, but that&#39;s mostly because we don&#39;t have &#39;&#39;console.log&#39;&#39; in IE... )&#92;
&#92;
Note that in regular browsers, each line being reported has one more &quot;x&quot; than the last one - but in IE7, all lines except the first have the same name, suggesting the respective element (or object) is erroneously modified retroactively.&#92;
&#92;
Again, when directly accessing the DOM element&#39;s &#39;&#39;.name&#39;&#39; property, the buggy behavior disappears.</span> → <span class="change-field-new">1310570698411258</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Reduced test case:</p><p><a href="http://jsfiddle.net/mn7KG/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/mn7KG/2/</a></p><p>(Not quite down to five lines, but that's mostly because we don't have ''console.log'' in IE... )</p><p>Note that in regular browsers, each line being reported has one more "x" than the previous one - but in IE7, all lines except the first have the same name, suggesting the respective element (or object) is erroneously modified retroactively.</p><p>Again, when directly accessing the DOM element's ''.name'' property, the buggy behavior disappears.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 28, 2011 08:01AM UTC by <span class="author">trac-o-bot</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Because we get so many tickets, we often need to return them to the initial reporter for more information. If that person does not reply within 14 days, the ticket will automatically be closed, and that has happened in this case. If you still are interested in pursuing this issue, feel free to add a comment with the requested information and we will be happy to reopen the ticket if it is still valid. Thanks!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 29, 2011 06:29AM UTC by <span class="author">FND</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This issue is still relevant - see reduced test case above.</p><p>Please reopen.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 29, 2011 02:35PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Confirmed. That retroactive modification is bizarre. Here is a screen shot: <a href="http://imgur.com/Ztfv0" class="ext-link"><span class="icon"></span>http://imgur.com/Ztfv0</a></p><p>I tried changing to use .prop() and it showed strange and incorrect but different behavior.</p><p>The reason the ticket was auto-closed is that the original reporter did not reply.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 29, 2011 02:36PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">manipulation</span> → <span class="change-field-new">attributes</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2011 01:39PM UTC by <span class="author">Martin</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I also stumbled upon this today. Complete short test case for IE7 is already posted here:</p><p><a href="http://stackoverflow.com/questions/7539354/jquery-1-6-4-cloning-problems-in-internet-explorer-7" class="ext-link"><span class="icon"></span>http://stackoverflow.com/questions/7539354/jquery-1-6-4-cloning-problems-in-internet-explorer-7</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2011 01:56PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-old">matthew.leonhardt@gmail.com</span> → <span class="change-field-new">timmywil</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2011 07:07PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">It seems setting any attribute node on a clone sets all previous clones as well.  It has a weird affect on the property as well.&#92;
&#92;
set name         =&gt; http://jsfiddle.net/timmywil/mn7KG/19/&#92;
set id               =&gt; http://jsfiddle.net/timmywil/mn7KG/21/&#92;
using property =&gt; http://jsfiddle.net/timmywil/mn7KG/28/</span> → <span class="change-field-new">1316891264914294</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>It seems setting any attribute node on a clone sets all previous clones as well.  It has a weird affect on the property as well.</p><p>set name         =&gt; <a href="http://jsfiddle.net/timmywil/mn7KG/19/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/19/</a></p><p>set id               =&gt; <a href="http://jsfiddle.net/timmywil/mn7KG/21/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/21/</a></p><p>using property =&gt; <a href="http://jsfiddle.net/timmywil/mn7KG/28/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/28/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2011 07:57PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>What about a feature detection for this? That way we could create an element instead of cloning (only for cases meeting the detection condition)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 08:46PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/10453">#10453</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 14, 2011 04:17AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hmmm, perhaps this is happening because the attribute nodes are not being copied but instead are referenced from both elements? Also this somewhat newish version of the docs for .mergeAttributes() gives some more info on the API and its poorly explained Boolean argument.</p><p><a href="http://msdn.microsoft.com/en-us/library/ms536614%28v=vs.85%29.aspx" class="ext-link"><span class="icon"></span>http://msdn.microsoft.com/en-us/library/ms536614%28v=vs.85%29.aspx</a></p><p>Notice the docs specifically mention the NAME and ID attributes/properties which seem to be the problems. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 15, 2011 04:24PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Looking further at this issue, I tried an html5 element vs a div and found that the inner/outerHTML method for cloning does not have this issue.</p><p><a href="http://jsfiddle.net/timmywil/mn7KG/30/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/30/</a></p><p><a href="http://jsfiddle.net/timmywil/mn7KG/31/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/31/</a></p><p>rwaldron suggested using setAttribute, but that sets the property, which has the same issue as the third fiddle I've posted above:</p><p><a href="http://jsfiddle.net/timmywil/mn7KG/32/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/mn7KG/32/</a></p><p>This is about the way we clone.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 24, 2012 07:22PM UTC by <span class="author">FND</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm not sure whether this is relevant (or even new), but it appears IE7's ''innerHTML'' includes DOM properties as HTML attributes: <a href="http://jsbin.com/ejurey/2" class="ext-link"><span class="icon"></span>http://jsbin.com/ejurey/2</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 30, 2012 07:45PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I too found this issue (affects jQuery 1.7.0 and 1.7.1 (not sure about before that)).</p><p>Here was my simple jsFiddle: <a href="http://jsfiddle.net/f2cxc/10/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/f2cxc/10/</a>  the issue as far as I can tell is actually that there is no clear separation in IE7 from the original, and the cloned selection set.</p><p>My suspicion is that internally there is a reference to the old set that is not properly being broken in IE7 (e.g. this is still likely an IE7 bug under the covers)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 30, 2012 08:27PM UTC by <span class="author">scunliffe</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi I'm "scunliffe" (I was the anonymous commenter above (didn't realize I wasn't logged in)... I ran some further tests and it appears that the behavior worked fine back in jQuery 1.5.2.  I think it would be prudent to run a diff between how .clone() and/or .attr() changed between 1.5.2 and 1.6.4.</p><p>Again, here's the jsFiddle that FAILS in IE6/IE7 on jQuery 1.6.4,1.7.1</p><p><a href="http://jsfiddle.net/f2cxc/10/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/f2cxc/10/</a></p><p>Yet with the same code WORKS fine in IE6/IE7 on jQuery 1.5.2</p><p><a href="http://jsfiddle.net/f2cxc/12/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/f2cxc/12/</a></p><p>PS I have access to IE6/IE7/IE8 should anyone have a patch they'd like an extra set of eyes to test/check.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 30, 2012 08:48PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">attributes</span> → <span class="change-field-new">manipulation</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@scunliffe: Yes, it's because we stopped using innerHTML to clone in IE and switched to cloneNode.  We'd like to keep using cloneNode if we can.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 31, 2012 03:38PM UTC by <span class="author">scunliffe</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Understood.  Is it a matter then of determining which parts of cloneNode for IE6/IE7 needs "polyfills" of some sort to maintain compatibility?</p><p>I'm not sure if/when IE fixed their issues with cloneNode but I do recall that at one point (again due to related IE bugs with readonly attributes) the cloneNode method was effectively useless as all copies would auto-inherit the "name" attributes from their originator.</p><p>(this is an old report, but seems to suggest this might be impossible in IE6/IE7)</p><p><a href="http://webbugtrack.blogspot.com/2008/03/bug-199-cant-clone-form-element-in-ie.html" class="ext-link"><span class="icon"></span>http://webbugtrack.blogspot.com/2008/03/bug-199-cant-clone-form-element-in-ie.html</a></p><p>Combined with IE's cluster muck with ID's and NAME attributes sharing the same namespace I don't know if there even is a way to coerce IE into behaving using .cloneNode in IE6/IE7. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 14, 2012 05:28PM UTC by <span class="author">Stephen Cunliffe &lt;stephen.cunliffe@gmail.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Is there a workaround in place for this? or a fix coming?  If not, can we update the documentation <a href="http://docs.jquery.com/Clone" class="ext-link"><span class="icon"></span>http://docs.jquery.com/Clone</a> to indicate that there are issues in IE (below IE8) if you plan to manipulate the cloned element(s)... specifically the name and id attributes.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 06:46PM UTC by <span class="author">teresa@twohemisphere.com</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I noticed the priority on this issue is low, but this change has introduced a significant bug into my codebase. Is there a possibility for a patch or workaround anytime soon?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 06:57PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The only way I can think of to fix this is to use innerHTML to clone all nodes in IE 6/7. That may not be possible, at least for a while. It is not an issue with attr or prop, but prop will give you slightly more consistency in the values. It will still not be entirely correct, but may be enough for regular use cases.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 07:03PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Also note that cloning via <code>.innerHTML</code> is the approach we abandoned as of version 1.5 due to its drawbacks, so unless it was some more complex hybrid of the two approaches we might just be bringing back all those older bugs. </p><p><a href="https://github.com/jquery/jquery/commit/4fae75d575b20d887e4a273c7991c55f8821a62c" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/commit/4fae75d575b20d887e4a273c7991c55f8821a62c</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:29">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 23, 2012 11:00AM UTC by <span class="author">regisbsbittencourt@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:29">comment:29</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Could we raise it to medium at least? it looks like regression of the 1.7.x branch.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:30">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 23, 2012 01:28PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:30">comment:30</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The priority DOESN'T MATTER if nobody has a solution.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:31">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 23, 2012 01:42PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:31">comment:31</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I would say that reverting back to copying the html is the solution. I'm using this workaround now.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:32">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 23, 2012 02:03PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:32">comment:32</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>That just opens up the old bugs that existed when we used to copy the html. Since then we've started supporting HTML5 elements in oldIE for example, and I suspect that wouldn't fly in the old code without additional work.</p><p>Patches welcome though.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:33">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 22, 2012 05:40PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:33">comment:33</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I don't think we're going to go back to innerHTML for cloning, which is what is required to fix this.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
