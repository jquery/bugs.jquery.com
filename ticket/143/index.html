<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#143 (&amp;#39;.&amp;#39;s in element ids) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/141/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/144/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#143</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">enhancement</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened August 27, 2006 01:33PM UTC</p>
      
        <p>Closed March 25, 2007 02:04AM UTC</p>
      
      
        <p>Last modified March 15, 2012 04:22PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">&#39;.&#39;s in element ids</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        anonymous
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.1.3">1.1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>core</td>
      
        <th>Version:</th>
      
      <td>1.1.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>$(Expression) does not find element</p><p>ID and NAME tokens must begin with a letter ([A-Za-z]) and may be followed by any number of letters, digits ([0-9]), hyphens ("-"), underscores ("_"), colons (":"), and periods (".").</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (3)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/143/jquery-1.0a.js.2.dotAndColon/index.html">jquery-1.0a.js.2.dotAndColon</a> (37.9 KB) - added by anonymous
        <strong>August 27, 2006 03:36PM UTC</strong>.<br>
        
      </li>
    
      <li>
        <a href="/attachment/ticket/143/jquery-1.0a.js.dotAndColon/index.html">jquery-1.0a.js.dotAndColon</a> (37.9 KB) - added by anonymous
        <strong>August 27, 2006 03:34PM UTC</strong>.<br>
        <p>Fix proposal for the dot and colon problem</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/143/jquery-1_0a-DotColon.js/index.html">jquery-1_0a-DotColon.js</a> (37.9 KB) - added by anonymous
        <strong>August 27, 2006 03:37PM UTC</strong>.<br>
        
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (14)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 27, 2006 01:45PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">ajax</span> → <span class="change-field-new">core</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>oops... accidentally submitted the message while editing.</p><p>What I wanted to say:</p><p>$(Expression) does not find elements that contain a dot in their id, if you search like $("#foo.bar"). The same is true for the colon, I guess, as it also has a special meaning in the (really great!) jQuery lib.</p><p>The paragraph "ID and NAME..." in the original post was copied from</p><p><a href="http://www.w3.org/TR/html4/types.html#type-name" class="ext-link"><span class="icon"></span>http://www.w3.org/TR/html4/types.html#type-name</a></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 27, 2006 05:29PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The period has special meaning in CSS - which is what jQuery implements. For example, try to write the CSS selector #foo.bar { ... } and it will completely not work. It is strange, though, that the CSS spec does only implement a subset of the HTML ID/NAME spec. Oh well.</p><p>The suggestion, up to this point, has been to use '-' instead of '.'.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 27, 2006 06:45PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I implemented a fallback solution for jQuery.Select which tries to use the "foo.bar" as tagname (resp. id value) and if it does not find any matching elements falls back to the usual jQuery behaviour. Unfortunately, I cannot upload files using the "Attach File" button on this page, otherwise I would have posted it, but the patch is quite trivial anyway.</p><p>No chance to include such a fallback solution in the standard jQuery lib?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 27, 2006 07:09PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>FYI: In css you can escape the dot and the colon, like</p><p>#foo.bar { ... }</p><p>#foo:bar { ... }</p><p>But that's not a solution I'd like to see for jQuery, as this would require changes in some (many?) plugins, that work with ids, at least in the datepicker plugin, that I tried to use with a id that contains a dot.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 06, 2007 01:22AM UTC by <span class="author">rbygrave</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I want to use jQuery with Java Server Faces (JSF).  JSF by default uses colons when naming elements which is not too helpful. ... id="formname:controlid"</p><p>I understand that this is currently considered a WONTFIX type bug.</p><p>I have come up with a possible workaround for my current issues and would like to know if it is reasonable. I am new to jQuery so this could be a silly thing to do??</p><p>The "PLAN" is to use $id() rather than $() when I am only finding a single element by its id.</p><p><em> example... the colon is not treated as part of the id (nothing found)</em></p><p>$("#formname:control").addClass("");	</p><p> for me: I can change this to use my global $id function instead </p><p>$id("#formname:control").addClass("");	</p><p>/**</p><p>  $id returns a jQuery object using a 'normal' document.getElementById.</p><p>  Note that this will return a jQuery object that contains an empty list if</p><p>  no such object is found.</p><p> */</p><p>function $id(el) {</p><p>	var el = getById(el);</p><p>	return el? $(el): $([]);</p><p>}</p><p>function getById(el) {</p><p>	if (typeof el == 'string') {</p><p>		if (el[0] == "#") el = el.substring(1);</p><p>		el = document.getElementById(el);</p><p>	}</p><p>	return el;</p><p>} </p><p>Thanks for your consideration - Rob.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 07, 2007 02:03PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Perhaps we could do a quick id search before breaking it out into different selectors. If it finds an element, return it. Otherwise, do the typical search. It would add a couple of milliseconds to each request that starts with # but maybe worth it.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 08, 2007 10:14PM UTC by <span class="author">joern</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>How about another custom selector as a workaround, something like $("$my:id")</p><p>You can always fall back to your custom byID function that returns a jQuery object, but that is more limiting, I can't combine it with following selectors without great effors, eg.</p><p>$("$my:id div&gt;ul") is way better then $id("my:id").find("div&gt;ul")</p><p>The check-first-for-id-then-fall-back approach has obvious drawbacks:</p><p>&lt;form id="form:first"&gt;</p><p>&lt;div id="form"&gt;</p><p>Now what does $("#form:first") select? That isn't too unlikely.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 09, 2007 10:20AM UTC by <span class="author">cdonat</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@anonymous</p><p>I don't see a reason, why that would need any changes in any plugins. if you write </p><pre class="wiki">$('#foo.bar')</pre> or <pre class="wiki">$('#foo:bar')</pre> everything will be as it is. Change it to <pre class="wiki">$('#foo.bar')</pre> or <pre class="wiki">$('#foo:bar')</pre> and jQuery can search for IDs with <pre class="wiki">.</pre> or <pre class="wiki">:</pre> inside, just as it is with CSS.<p></p><p>I think that using a </p><pre class="wiki">}}} as escape character is the best way to solve the problem, since[[BR]]
1. jQuery claims to (mostly) implement CSS selectors and CSS does it that way[[BR]]
2. most existing code that uses jQuery doesn't have a Problem with that change as long as you don't use {{{</pre> as the last character in an ID or classname and append a custom selector to it. In those rare case you simply need to add another {{{}}}.<p></p><p>3. it can easily be implemented in jQuery.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 09, 2007 10:45AM UTC by <span class="author">klaus</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>From CSS 2.1 Spec:</p><p>  In CSS 2.1, a backslash () character indicates three types of </p><p>  character escapes.</p><p>  [...]</p><p>  Second, it cancels the meaning of special CSS characters. Any </p><p>  character (except a hexadecimal digit) can be escaped with a backslash </p><p>  to remove its special meaning. For example, """ is a string consisting </p><p>  of one double quote. Style sheet preprocessors must not remove these </p><p>  backslashes from a style sheet since that would change the style sheet's </p><p>  meaning.</p><p><a href="http://www.w3.org/TR/CSS21/syndata.html#q6" class="ext-link"><span class="icon"></span>http://www.w3.org/TR/CSS21/syndata.html#q6</a></p><p>Thus, I think a selector like "#my:elem" is perfectly valid and that </p><p>should be part of jQuery's selector engine.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 09, 2007 02:19PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>From Christof Donat via Discuss mailing list</p><p>To make the patch to jQuery as small as possible and let most existing code</p><p>continue to work: How about something like this: $('#my:elem') selects the</p><p>Element with the ID "my:elem" whereas $('#my:elem') selects the Element with</p><p>the ID "my" and uses :elem as custom selector. That could be achieved by</p><p>simply changing the regular expression, Manfred named to</p><p>/^(<a href="#." class="ext-link"><span class="icon"></span>#.</a>?)(([a-z0-9\\*_-]|\\:)*)/i</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 09, 2007 02:21PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:10 brandon]:</p><p>The regex should be: </p><pre class="wiki"> /^([#.]?)(([a-z0-9\\*_-]|\\:)*)/i </pre><p></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 15, 2007 04:44PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:11 brandon]:</p><p>We could very easily just make that "\\." and handle any special character. However, there's a big "gotchya" here. You can't just escape any character. For example: "#foo:bar" becomes just "#foo:bar" since <a href="/wiki/JavaScript">JavaScript</a> auto-escapes strings. You'd have to do: "#foo\\:bar" - which is downright horrible.</p><p>That being said, I like the idea of being able to escape the characters - I'm just not sure how it'd work best in practice. Is requiring "#foo\\:bar" acceptable?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2007 02:04AM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-new">→ 1.1.3</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-new">→ Review</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>type:</th>
                  <td>
                    
                      <span class="change-field-old">bug</span> → <span class="change-field-new">enhancement</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>version:</th>
                  <td>
                    
                      <span class="change-field-new">→ 1.1.2</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Fixed in SVN rev [1578].</p>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 26, 2007 09:31PM UTC by <span class="author">aakoch</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:5 rbygrave]:</p><pre class="wiki">
if (el[0] == "#")
</pre><p>doesn't work in IE6. I use </p><pre class="wiki">
if (el.charAt(0) == "#")
</pre><p>instead.</p><p>Exactly how was this fixed?</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
