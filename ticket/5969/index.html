<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5969 (&amp;#39;Access Denied&amp;#39; on 2nd time for wrap().) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5968/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5970/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#5969</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 28, 2010 06:34PM UTC</p>
      
        <p>Closed November 10, 2010 09:21PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">&#39;Access Denied&#39; on 2nd time for wrap().</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        PedroLuz
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4.1">1.4.1</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>core</td>
      
        <th>Version:</th>
      
      <td>1.4.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>wrap access denied frames patchwelcome</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I've a page with 3 frames (nav, main and dummy). Where frame main contains the page itself.</p><p>This page executes this script on load:</p><pre class="wiki">
$(frames["main"].document).ready(function() {
   $("frame[name=main]").bind("load", function() { 
       NormalizarSiga(frames["main"]);
   })
});
</pre><p>The erroneous line inside <a href="/wiki/NormalizarSiga">NormalizarSiga</a>() is:</p><p>$(":button, :reset, :submit", frameMain.document).wrap("&lt;span class='btnSiga'&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;"); </p><p>'frameMain' variable is the same as 'frames["main"]'</p><p>The problem is: The error (Access Denied) is only raised at the 2nd time this line is executed. At the 1st time everything goes just fine and the results are O.K</p><p>Error is raised at line 117 of jQuery-1.4.1.js (development)</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 28, 2010 07:19PM UTC by <span class="author">PedroLuz</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've managed to fix it, but it's just a shoot in the dark:</p><p>On function buildFragment(), I've made the following change:</p><p>cacheresults = jQuery.fragments[ args[0] ]; is now</p><p>cacheresults = undefined</p><p>Doing that, I get no more Access Denied errors.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 29, 2010 02:58AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">I&#39;ve a page with 3 frames (nav, main and dummy). Where frame main contains the page itself.&#92;
&#92;
This page executes this script on load:&#92;
&#92;
$(frames[&quot;main&quot;].document).ready(function() { $(&quot;frame[name=main]&quot;).bind(&quot;load&quot;, function() { NormalizarSiga(frames[&quot;main&quot;]); }) });&#92;
&#92;
The erroneous line inside NormalizarSiga() is:&#92;
&#92;
$(&quot;:button, :reset, :submit&quot;, frameMain.document).wrap(&quot;&lt;span class=&#39;btnSiga&#39;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&quot;); &#92;
&#92;
&#39;frameMain&#39; variable is the same as &#39;frames[&quot;main&quot;]&#39;&#92;
&#92;
The problem is: The error (Access Denied) is only raised at the 2nd time this line is executed. At the 1st time everything goes just fine and the results are O.K&#92;
&#92;
Error is raised at line 117 of jQuery-1.4.1.js (development)&#92;
&#92;
&#92;
&#92;
</span> → <span class="change-field-new">I&#39;ve a page with 3 frames (nav, main and dummy). Where frame main contains the page itself.&#92;
&#92;
This page executes this script on load:&#92;
{{{&#92;
$(frames[&quot;main&quot;].document).ready(function() {&#92;
   $(&quot;frame[name=main]&quot;).bind(&quot;load&quot;, function() { &#92;
       NormalizarSiga(frames[&quot;main&quot;]);&#92;
   })&#92;
});&#92;
}}}&#92;
The erroneous line inside NormalizarSiga() is:&#92;
&#92;
$(&quot;:button, :reset, :submit&quot;, frameMain.document).wrap(&quot;&lt;span class=&#39;btnSiga&#39;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&quot;); &#92;
&#92;
&#39;frameMain&#39; variable is the same as &#39;frames[&quot;main&quot;]&#39;&#92;
&#92;
The problem is: The error (Access Denied) is only raised at the 2nd time this line is executed. At the 1st time everything goes just fine and the results are O.K&#92;
&#92;
Error is raised at line 117 of jQuery-1.4.1.js (development)&#92;
&#92;
&#92;
&#92;
</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">blocker</span> → <span class="change-field-new">major</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You didn't say this was IE but from the description I am pretty sure that it is.</p><p>I think this is another case of <a href="/ticket/4280">#4280</a>. Whenever you change the contents of a document in another iframe, IE invalidates the DOM object references that you may be holding. jQuery can't really work around this so you will need to change your code to avoid the problem.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 10, 2010 09:21PM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old">wrap access denied frames</span> → <span class="change-field-new">wrap access denied frames patchwelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>As this is not something jQuery can currently work around in IE and there are no known patch for it, we're going to have to close this. If however you or another community member come up with a patch for this issue and would like to submit it we would be more than happy to review. Thanks.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
