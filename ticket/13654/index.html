<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#13654 (Ajax response with status code 204 triggers fail() on cross-domain requests) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/13651/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/13655/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#13654</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(notabug)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened March 23, 2013 08:54PM UTC</p>
      
        <p>Closed March 26, 2013 11:55PM UTC</p>
      
      
        <p>Last modified March 27, 2013 04:46PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Ajax response with status code 204 triggers fail() on cross-domain requests</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        ojak
      </td>
      <th>Owned by:</th>
      <td>ojak</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.9.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th>Cc:</th>
      
      <td>jaubourg</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Ajax response with status code 204 triggers fail() on cross-domain requests.  Example</p><pre class="wiki">
http://localhost:8080/served_page.html
  &gt;&gt; .ajax() to localhost:8080 with response 204 triggers .done()
  &gt;&gt; .ajax() to localhost:8081 with response 204 triggers .fail() with xhr.status = 0
</pre></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (15)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2013 08:57PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>A fix was attempted in ticket:13261 that seems to have only solved same domain requests.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2013 09:10PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">One note, the ajax request works when &#39;script&#39; or &#39;jsonp&#39; is specified as the dataType, but fails on &#39;text&#39;.  Since 204 is a success with No Content, a 204 response should always trigger a success unless there is any content, which would be an invalid 204.&#92;
&#92;
I think the most correct way to handle this would probably be to define an expected dataType return of &#39;none&#39; or &#39;empty&#39;.  Any thoughts?&#92;
</span> → <span class="change-field-new">1364073107655813</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>One note, the ajax request works when 'script' is specified as the dataType, but fails on 'text'.  Since 204 is a success with No Content, a 204 response should always trigger a success unless there is any content, which would be an invalid 204.</p><p>I think the most correct way to handle this would probably be to define an expected dataType return of 'none' or 'empty'.  Any thoughts?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 02:13PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ jaubourg</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Julian can you take a look?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 02:37PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm ready to look into this, with a proper test case ;)</p><p>Off the top of my head, if it's cross-domain, using script tag injection, then we don't get the status code anyway, so we just cannot handle it appropriately.</p><p>I'm really confused about the dataType juggling described but I cannot draw any conclusion out of vague descriptions: test cases are mandatory especially for ajax bugs.</p><p>Also, which browser ? What is the error triggered (the args given to the error callbacks) ? etc etc</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 02:52PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ ojak</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We're awaiting a test case from the reporter then; @ojak please provide more information as requested above.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 10:16PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Here&#39;s a test example code, firebug console logs, and sample nginx.conf to setup 204&#39;s:&#92;
&#92;
https://gist.github.com/ojak/5241273</span> → <span class="change-field-new">1364250261617965</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Here&#39;s a test example code, firebug console logs, and sample nginx.conf to setup 204&#39;s:&#92;
&#92;
https://gist.github.com/ojak/5241273&#92;
&#92;
I tested on Firefox 19 and Chrome 25.0.1364.172 (although Chrome needs to be run with flags to avoid Access-Control-Allow-Origin issues).</span> → <span class="change-field-new">1364250309685894</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Here's some example code with 4 tests, the resulting firebug console logs, and sample nginx.conf to setup 204's on localhost:</p><p><a href="https://gist.github.com/ojak/5241273" class="ext-link"><span class="icon"></span>https://gist.github.com/ojak/5241273</a></p><p>I tested on Firefox 19 and Chrome 25.0.1364.172 (although Chrome needs to be run with flags to avoid Access-Control-Allow-Origin issues).</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 10:52PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>All right:</p><ul><li>for dataType "script", a script tag is used as a transport, so jQuery **cannot** access the actual status code, so it assumes 200 for success, 404 for error. There is no way around it. It is working as expected. If you wanna avoid the script transport, force crossDomain to false.</li><li>for dataType "text", could you log the actual arguments in the fail callback ? Logging "Fail" doesn't give much information as to why the request actually fails.</li></ul><p>Thanks for the follow up btw. If you can log the arguments given to the fail handler in TEST4, I may be able to assess what's going on without having to setup the env you've already setup yourself.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 10:53PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 11:25PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I updated the gist on the fail with some xhr response information:</p><p><a href="https://gist.github.com/ojak/5241273" class="ext-link"><span class="icon"></span>https://gist.github.com/ojak/5241273</a></p><pre class="wiki">

--- TEST4: Test different port with 'text' dataType
GET http://localhost:8082/204 204 No Content
Fail
- xhr.status : 0
- xhr.statusText : error
- xhr.response : undefined
- xhr.responseText :
- xhr.responseXML : undefined
- textStatus : error
- errorThrown :
=== FAIL AND INCORRECT STATUSCODE
</pre>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2013 11:48PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hmmm, looks a lot like a network error (status code 0, no errorThrown). At least we know it's not the conversion logic going wrong.</p><p>Just out of curiosity, and before I dive deeper in there, does the request work using pure xhr?</p><p>Something along the lines of the following snippet (untested):</p><pre class="wiki">var xhr = $.ajaxSettings.xhr();

xhr.open( "GET", "http://localhost:8082/204" );

xhr.onsuccess = function() {
   console.log( "success", xhr, arguments );
};

xhr.onerror = function() {
   console.log( "error", xhr, arguments );
};

xhr.onabort = function() {
   console.log( "abort", xhr, arguments );
};

xhr.ontimeout = function() {
   console.log( "abort", xhr, arguments );
};

xhr.send();
</pre><p>Also, you should test with <a href="http://code.jquery.com/jquery-git.js" class="ext-link"><span class="icon"></span>http://code.jquery.com/jquery-git.js</a> so that you use jQuery latest (not that it should matter much but you never know).</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2013 05:08PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Interesting.  Tried that out and here are the results:&#92;
&#92;
Screenshot of firebug results:&#92;
http://s3.amazonaws.com/ojak/screenshot-jquery-xhr.png&#92;
&#92;
Code to reproduce:&#92;
https://gist.github.com/ojak/5247073&#92;
&#92;
</span> → <span class="change-field-new">1364317973143701</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Interesting.  Tried that out and here are the results:</p><p>Screenshot of firebug results:</p><p><a href="http://s3.amazonaws.com/ojak/screenshot-jquery-xhr.png" class="ext-link"><span class="icon"></span>http://s3.amazonaws.com/ojak/screenshot-jquery-xhr.png</a></p><p>Code to reproduce:</p><p><a href="https://gist.github.com/ojak/5247073" class="ext-link"><span class="icon"></span>https://gist.github.com/ojak/5247073</a></p><p>Same results against the current jQuery dist built from the master branch.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2013 05:37PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>My guess is you have a <code>Content-Type</code> in your response headers that trigger the xml parsing logic in FF. Same in Chrome?</p><p>Sounds less and less like a jQuery bug...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2013 09:10PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I still think it&#39;s a jQuery bug since 204s should not return a &quot;Content-Type&quot; from the server, since by definition there should be no content, so maybe that&#39;s the problem?:&#92;
&#92;
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5&#92;
&#92;
The attached screenshot shows the Response Header, which show that the response headers do not have a Content-Type:&#92;
&#92;
http://s3.amazonaws.com/ojak/screenshot-xhr-response-headers.png&#92;
</span> → <span class="change-field-new">1364332397281296</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>The attached screenshot shows the Response Header, which show that the response headers do not have a Content-Type:</p><p><a href="http://s3.amazonaws.com/ojak/screenshot-xhr-response-headers.png" class="ext-link"><span class="icon"></span>http://s3.amazonaws.com/ojak/screenshot-xhr-response-headers.png</a></p><p>I still think it's a jQuery bug since 204s should not return a "Content-Type" from the server, since by definition there should be no content:</p><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5" class="ext-link"><span class="icon"></span>http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5</a></p><p>But in the end, both Chrome and Firefox are seeing failures, so maybe that's the problem?  There should probably be a dataType of "none" defined in jQuery, since the response is not failing.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2013 11:55PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ notabug</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think you should take this discussion into the forums or stackoverflow.</p><p>From what you showed, the response is **not** successful. The error handler is triggered on the native XHR. The native XHR is not part of jQuery just replace <code>$.ajaxSettings.xhr()</code> by <code>new XMLHttpRequest()</code> to convince yourself no jQuery code is used here.</p><p>What this means is that browsers seem to have a problem with your 204 responses. From what I gather from the error message in firebug, it seems as if Firefox is trying to parse the response as XML (not jQuery but Firefox itself), hence why I made the wild guess you had a Content-Type response header (a header that is provided by the server, not something jQuery would incante out of thin air). It doesn't seem to be the problem though. Maybe your 204 response has a body (I see an XML tab in <a href="http://s3.amazonaws.com/ojak/screenshot-xhr-response-headers.png" class="ext-link"><span class="icon"></span>http://s3.amazonaws.com/ojak/screenshot-xhr-response-headers.png</a> which doesn't seem right at all), again something that is provided by the **server** not client-side code.</p><p>I dunno if it's a configuration problem server-side, a bug in the browsers, a problem specific to CORS or some convoluted behaviour that makes no sense but is actually standard. What's clear though is that jQuery is not responsible for the problem and no action on our part is needed nor possible: if the native XHR notifies an error with the wrong status code, jQuery just cannot "guess" what the original status code was.</p><p>I'll close this as notabug but, please, feel free to add a link to any forum or stackoverflow discussion/question related to the issue.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 27, 2013 04:46PM UTC by <span class="author">ojak</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Gotcha, thanks.&#92;
&#92;
Just for a little extra color on the issue, there appears to be a 3+ year old bug in Firefox for this behavior:&#92;
&#92;
https://bugzilla.mozilla.org/show_bug.cgi?id=521301&#92;
&#92;
Anyhow, thanks so much for helping track down these issues.  I think the best advice going forward for others coming across this issue is: &#39;&#39;&#39;&quot;don&#39;t use 204&#39;s for AJAX requests, use 200&#39;s with empty content&quot;&#39;&#39;&#39;... which is a bummer.&#92;
&#92;
Might be worth updating the jQuery docs to mention this note?</span> → <span class="change-field-new">1364402810139103</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Gotcha, thanks.</p><p>Just for a little extra color on the issue, there appears to be a 3+ year old bug in Firefox for this behavior:</p><p><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=521301" class="ext-link"><span class="icon"></span>https://bugzilla.mozilla.org/show_bug.cgi?id=521301</a></p><p>Anyhow, thanks so much for helping track down these issues.  I think the best advice going forward for others coming across this issue is: '''"don't use 204's for AJAX requests, use 200's with empty content"'''... which is a bummer.</p><p>Might be worth updating the jQuery docs to mention this behavior as a warning?</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
