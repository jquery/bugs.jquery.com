<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4837 (ToggleClass Bug) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4836/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4838/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#4837</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened July 01, 2009 11:35AM UTC</p>
      
        <p>Closed July 02, 2009 01:16AM UTC</p>
      
      
        <p>Last modified March 15, 2012 04:07PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">ToggleClass Bug</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        vectorman
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        critical
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.3.1">1.3.1</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.3.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>toogleclass bug</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>hi, there is problem with toogleclass i have 3 div in my page. and i have 3 clases for toggleclass. my class names are s1,s2,s3 i have simple hover and click fuction first div working and it's class name is s1 but the same code second div doesnt work. there is animate code with toogle class 2nd div no problem with animate but toggleclass doesnt work.</p><p>you can see sample</p><p><a href="http://www.logmania.com/jk/bug.asp" class="ext-link"><span class="icon"></span>http://www.logmania.com/jk/bug.asp</a></p><p>my codes.</p><p>&lt;!DOCTYPE html PUBLIC "-<em>W3C</em>DTD XHTML 1.0 Transitional<em>EN" "http:</em>www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</p><p>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</p><p>&lt;head&gt;</p><p>&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;</p><p>&lt;title&gt;Jquery Toggle Class Bug&lt;/title&gt;</p><p>&lt;script type="text/javascript" src="jquery-1.3.1.js"&gt;&lt;/script&gt;</p><p>&lt;script type="text/javascript"&gt;</p><p>&lt;!--</p><p>$(document).ready(function(){</p><p>	$("div#oy div").hover(function () {</p><p>var ad= $(this).attr("id").replace("sa","");</p><p>$(this).toggleClass('s2');</p><p>$(this).animate({opacity: "0.5"});</p><p>    },function(){</p><p>var ad= $(this).attr("id").replace("sa","");</p><p>$(this).toggleClass('s2');</p><p>$(this).animate({opacity: "1"});</p><p>    }).click(function(){</p><p> var ad= $(this).attr("id").replace("sa","");</p><p>$(this).attr("class", "s1");</p><p>$(this).toggleClass('s3');</p><p>    }); </p><p>});</p><p>//--&gt;</p><p>&lt;/script&gt;</p><p>&lt;style type="text/css"&gt;</p><p>&lt;!--</p><p>body,td,th {</p><p>	font-family: Arial, Helvetica, sans-serif;</p><p>	font-size: 9px;</p><p>	color: <a href="/ticket/333333">#333333</a>;</p><p>}</p><p>.s1</p><p>{</p><p>width:50px;</p><p>margin:2px;</p><p>height:50px;</p><p>float:left;</p><p>cursor:pointer;</p><p>background-repeat:no-repeat;</p><p>background-color:#999999;</p><p>}</p><p>.s2</p><p>{</p><p>width:50px;</p><p>margin:2px;</p><p>height:50px;</p><p>float:left;</p><p>cursor:pointer;</p><p>background-repeat:no-repeat;</p><p>background-color:#3399CC;</p><p>}</p><p>.s3</p><p>{</p><p>width:50px;</p><p>margin:2px;</p><p>height:50px;</p><p>float:left;</p><p>cursor:pointer;</p><p>background-repeat:no-repeat;</p><p>background-color:#FFCC00;</p><p>}</p><p>#oy</p><p>{</p><p>width:155px;</p><p>margin:2px;</p><p>height:55px;</p><p>float:left;</p><p>}</p><p>#sonuc</p><p>{</p><p>width:155px;</p><p>margin:2px;</p><p>height:55px;</p><p>float:left;</p><p>}</p><p>.style2 {font-size: 24px}</p><p>--&gt;</p><p>&lt;/style&gt;</p><p>&lt;/head&gt;</p><p>&lt;body&gt;</p><p>&lt;div id="oy"&gt;</p><p>&lt;div class="s1" id="sa1"&gt;&lt;/div&gt;</p><p>&lt;div class="s3" id="sa2"&gt;&lt;/div&gt;</p><p>&lt;div class="s1" id="sa3"&gt;&lt;/div&gt;</p><p>&lt;/div&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (2)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/4837/bug.asp/index.html">bug.asp</a> (1.8 KB) - added by vectorman
        <strong>July 01, 2009 11:36AM UTC</strong>.<br>
        <p>toggleclass bug file</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/4837/jquery-1.3.1.js/index.html">jquery-1.3.1.js</a> (114.7 KB) - added by vectorman
        <strong>July 01, 2009 11:36AM UTC</strong>.<br>
        <p>1.3.1</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (1)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 02, 2009 01:16AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Basic code, reformatted</p><pre class="wiki">
$("div#oy div")
 .hover(
  function () {
   $(this).toggleClass('s2'); 
   $(this).animate({opacity: "0.5"});
  },
  function(){
   $(this).toggleClass('s2');
   $(this).animate({opacity: "1"});
  })
 .click(function(){
   $(this).attr("class", "s1");
   $(this).toggleClass('s3');
 });
</pre><p>I don't know what your expected behavior was, but as far as I can tell this is working as the code is written. The hover is toggling the s2 class. When you click one of the boxes, it *assigns* class="s1" (removing s2) and the toggleClass('s3') always *adds* s3 as a result. Take a look at the HTML with Firebug to see what is going on.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
