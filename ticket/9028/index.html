<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9028 (IE8 crashes while loading 1.6rc1 if using body background image) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9027/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9032/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9028</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened April 30, 2011 02:13PM UTC</p>
      
        <p>Closed May 02, 2011 03:57PM UTC</p>
      
      
        <p>Last modified August 05, 2011 08:23PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">IE8 crashes while loading 1.6rc1 if using body background image</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        JorisDebonnet
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        blocker
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.6">1.6</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>support</td>
      
        <th>Version:</th>
      
      <td>1.6rc1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th>Cc:</th>
      
      <td>jaubourg</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Hi, </p><p>I noticed my application crashing in IE8 after starting to use 1.6rc1. I reduced the code as far as I could, and the only significant things that remain are doctype tag, one css rule (setting a png file as background), and the script tag that loads jQuery 1.6rc1. If I remove any of those three, it no longer crashes. </p><p>I realise this is quite vague, but I hope my jsFiddle will help. I had to upload my image to postimage.org first, apparently it needs the png to work (i.e. crash). </p><p><a href="http://jsfiddle.net/fdACd/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/fdACd/</a></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (28)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 02:57PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Further reduction...&#92;
&#92;
http://jsfiddle.net/rwaldron/fdACd/1/</span> → <span class="change-field-new">1304175760255996</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">support</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Further reduction...</p><p><a href="http://jsfiddle.net/rwaldron/fdACd/1/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/rwaldron/fdACd/1/</a></p><p>(Sorry, I'm on an IE-free machine right now)</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 03:14PM UTC by <span class="author">JorisDebonnet</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well, that doesn't crash IE8 -- it seems to be important that jQuery is loaded after the css rule is created. </p><p>Here's a version that is better reduced (the way you did), but still loads jQuery 'late enough' (I don't manage to achieve this effect using the onLoad dropdown):</p><p><a href="http://jsfiddle.net/fdACd/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/fdACd/2/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 03:27PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for the clarification there.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 05:41PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">support</span> → <span class="change-field-new">core</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.next</span> → <span class="change-field-new">1.6</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">blocker</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Confirmed.  Not sure this is a jQuery problem, but we should probably look into it before 1.6 final.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 09:02PM UTC by <span class="author">JorisDebonnet</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>For what it's worth, it also occurs when setting any other type of image as background, even when I use a data URI instead of an actual external image file, such as in this example. </p><p><a href="http://jsfiddle.net/fdACd/6/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/fdACd/6/</a></p><p>Also, the background does not need to be set on the body. It also happens if the background is set on 'div', even if there is no div present. But it does not happen if a class or id is given ... </p><p>I'll try to summarize that a bit. </p><p>It happens: </p><ul><li>If jQuery 1.6rc1 is loaded after the css rule</li><li>If the css rule applies to a definition with only elements, also if they are combined using &gt;. Examples: 'body'; 'div'; 'body, div'; 'body &gt; div'; ...)</li></ul><p>It does not happen: </p><ul><li>If the background-image resolves to '404' or to a non-image file</li><li>If the css rule includes a class, id, attribute, pseudoclass,... (such as div.a, div#a, div[style], a:link). </li><li>If the css rule is for 'body ~ div' or 'body + div'</li></ul>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 03:01AM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ jaubourg</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">core</span> → <span class="change-field-new">support</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>After some testing, I've discovered the crash occurs when removing the mock body we add in support.js.  Setting background to none on that body and anything attached to the body fixes this issue, but there is probably a better way to fix it.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 03:22AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:6 timmywil]:</p><blockquote> After some testing, I've discovered the crash occurs when removing the mock body we add in support.js.  Setting background to none on that body and anything attached to the body fixes this issue, but there is probably a better way to fix it.</blockquote><p>If there is, what could it be? Setting the body as "display:none" before removing it? Why IE is crashing is what we should try and determine. Do we have anyone who knows the internals of IE that could answer this question?</p><p>Setting background to none is "ok" somehow but god is IE frustrating.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 03:57PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Set background to none on our mock body and remove its contents to avoid a crash in IE when removing it. Fixes <a href="/ticket/9028">#9028</a>. </p><p> Changeset: f1392d82089323ec9ef97b33909b960cc16c25b6</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 13, 2011 04:40PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>after using 1.6.1 my background image in ie-8 disappeared!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 13, 2011 05:03PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@anonymous: see <a href="/ticket/9239">#9239</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 07:51PM UTC by <span class="author">Josh &lt;torque18@aol.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:8 timmywil]:</p><blockquote> Set background to none on our mock body and remove its contents to avoid a crash in IE when removing it. Fixes <a href="/ticket/9028">#9028</a>.   Changeset: f1392d82089323ec9ef97b33909b960cc16c25b6</blockquote><p>Have you tried removing these changes in light of the fix made for bug <a href="/ticket/9239">#9239</a>? Perhaps just not creating the duplicate body element will have fixed the IE crash without the need for the background:"none" hack.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 11:22PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@Josh: already done</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 03, 2011 01:40PM UTC by <span class="author">Josh &lt;torque18@aol.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@timmywil: Way ahead of me, thanks! Somehow I was not looking at the master branch before.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 28, 2011 03:11PM UTC by <span class="author">amira@activeinsight.net</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>encountered this bug in a different form. in specific versions of IE 7 and 8 a body with a background color simply disappears, along with the text inside.</p><p>see example in </p><p><a href="http://test.activeinsight.net/ieBackgroundExample.html" class="ext-link"><span class="icon"></span>http://test.activeinsight.net/ieBackgroundExample.html</a></p><p>Amir.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 28, 2011 03:31PM UTC by <span class="author">JorisDebonnet</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I can confirm, as I get the same result on IE8 on Windows XP (within Virtual PC on Windows 7). This is IE 8.0.6001.18702 (compared to 8.0.760016385 as stated on the test page). </p><p>I don't get the problem on IE 6, IE 7 or IE 9. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 08, 2011 10:01AM UTC by <span class="author">kingham</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I am getting the same problem using jQuery 1.6.2 and IE 8.0.6001.18702.</p><p>The fix for this bug does fix the problem but has been taken out in the fix for <a href="/ticket/9239">#9239</a>.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 08, 2011 02:27PM UTC by <span class="author">JorisDebonnet</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>After my application's last update (when I started using jQuery 1.6.2), IE8 crashes when I refresh the page (one of three things happens: the tab crashes and is reopened, or it says "can't open that page, click here to try again", or IE8 completely crashes). </p><p>So yes ... a problem is definitely back since 1.6.2. And yes: the problem does not occur when I remove the body background. </p><p>Sadly I can't reproduce it in a jsFiddle :(</p><p>In fact, I could eliminate the problem in my application by disabling most of my own javascript. So apparently it needs some kind of complexity before it crashes. Hard to figure out what exactly... </p><p>In any case, it doesn't happen with 1.6.1., and it doesn't happen if there's no body background. I'm assuming it's related with the previous posts, so I'm hoping there's enough clues to fix it again... :)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 13, 2011 10:30PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I noticed in 1.6.2 the Changeset: f1392d82089323ec9ef97b33909b960cc16c25b6 disappeared. If I add background:"none" to jquery-1.6.2.js. It no longer crashes IE 8.  </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 17, 2011 04:26PM UTC by <span class="author">kevin@allpoetry.com</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Grr this bug has been causing me massive pain in a production project - could someone please reopen this, as its fix has somehow been removed from 1.6.2</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2011 11:03PM UTC by <span class="author">riboyoflavin@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Production project pain here also.  We can only reproduce it in IE8 on Windows XP, with JQuery 1.6.2. Could not reproduce in IE6/XP, IE7/XP, IE9/Win7, or IE9/Win7 in any of its legacy modes.</p><p>As with the previous commenters, moving the CSS style to after the script tag prevents the crash, and it doesn't happen with JQ 1.6.1.</p><p>Steps to reproduce in IE8/XP:</p><p>1. Go to <a href="http://www.msn.com/?ocid=iehp" class="ext-link"><span class="icon"></span>http://www.msn.com/?ocid=iehp</a> (IE default home page)</p><p>2. In the same tab, go to this jsFiddle: <a href="http://fiddle.jshell.net/ZKPZq/6/show/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/ZKPZq/6/show/</a></p><p>Main fiddle page is here: <a href="http://fiddle.jshell.net/ZKPZq/6/show/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/ZKPZq/6/show/</a></p><p>The crash doesn't seem to occur as consistently if iframes and seperate tabs are involved, but visiting MSN first is a necessary step in any case.  Crash still happens if you visit other sites after MSN and before the jsFiddle.</p><p>Blocking js on MSN.com prevents the crash also.  So my best guess is that some script there is having a persistent effect on the browser window.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2011 11:50PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You do realize that it's not possible that "visiting MSN first" would have anything to do with the background of another website, right?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 22, 2011 12:48AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:21 rwaldron]:</p><blockquote> You do realize that it's not possible that "visiting MSN first" would have anything to do with the background of another website, right?</blockquote><p>Are we that sure with IE?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 22, 2011 03:34PM UTC by <span class="author">riboyoflavin@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:22 jaubourg]:</p><blockquote> Replying to [comment:21 rwaldron]: &gt; You do realize that it's not possible that "visiting MSN first" would have anything to do with the background of another website, right?  Are we that sure with IE?</blockquote><p>Exactly. Whether something makes sense isn't too relevant when it comes to IE bugs.</p><p>Believe me, I tested every other variable I could think of before concluding that the MSN site must be involved.  It's not directly affecting the background image in any way I could find.  I can only guess that it's having some side effect on IE's browser session that creates the conditions for the crash.</p><p>I ran those tests on XPMode in Win7's virtual PC, with a fresh install of IE8 and all critical updates installed.</p><p>This morning I tried on a few other machines.  Win7+IE8 had no crashing.  Vista+IE8 crashed consistently, without the MSN step, and could not recover the page.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 28, 2011 03:11PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This bug is incorrectly marked as closed, IE8 on XP still exhibits the crash bug when css containing a body background image is specified before calling jquery-1.6.2.min.js</p><p>Fixes for this:</p><ul><li>commenting out /* background: ...; */</li><li>moving css containing body{ background: ...; } below jquery-1.6.2.min.js call.</li><li>The REAL solution: adding  background: "none"  to the jQuery code which seems to have gone missing from the fix as per comment:18 on this page which refers to</li></ul><p><a href="https://github.com/jquery/jquery/commit/f1392d82089323ec9ef97b33909b960cc16c25b6/" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/commit/f1392d82089323ec9ef97b33909b960cc16c25b6/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 28, 2011 04:00PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I don't think it's possible that 1.6.2 interferes with the background anymore as the "background: none" was removed from the support source. <a href="https://github.com/jquery/jquery/blob/master/src/support.js#L144" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/blob/master/src/support.js#L144</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 31, 2011 08:43PM UTC by <span class="author">JorisDebonnet</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hmm... I understand it's confusing why there is still a problem, but I see four different people reporting that there's still a problem. Regardless how strange it is, isn't that reason enough to reopen this ticket?... :)</p><p>Replying to [comment:20 riboyoflavin@…]:</p><blockquote> Steps to reproduce in IE8/XP: 1. Go to <a href="http://www.msn.com/?ocid=iehp" class="ext-link"><span class="icon"></span>http://www.msn.com/?ocid=iehp</a> (IE default home page) 2. In the same tab, go to this jsFiddle: <a href="http://fiddle.jshell.net/ZKPZq/6/show/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/ZKPZq/6/show/</a></blockquote><p>There's a way to reproduce this problem without involving MSN or any other site. </p><p>1. Go to <a href="http://fiddle.jshell.net/ZKPZq/6/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/ZKPZq/6/</a> with IE8.</p><p>2. Right click in the result screen, and make it refresh. </p><p>3. Boom, crash. </p><p>And it messes up IE8 pretty good, because after it 'recovers' the tab, jsFiddle doesn't work anymore until I completely restart IE8. </p><p>So what have we learned: whether it's MSN or jsFiddle or any other site with heavy javscript (perhaps onunload handlers?), the problem seems to occur only when IE8 has certain things in the tab's memory. </p><p>Perhaps some jQuery initialisation code is begin executed "too soon" for IE8? We'd expect a clean sheet to initialise in of course, but perhaps IE8 isn't completely giving us that. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 05, 2011 07:26PM UTC by <span class="author">pennedav</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I can confirm this is still an issue with jQuery 1.6.2.</p><p>Removing background: declaration for &lt;body&gt; resolves the issue.</p><p>Visiting MSN has nothing to do with it.</p><p>There's a <a href="http://stackoverflow.com/questions/6828214/jquery-1-6-2-crashes-ie8-tabs/" class="ext-link"><span class="icon"></span>Stack Overflow post</a> about this that references <a href="http://onpoint.wbur.org/op_full.html" class="ext-link"><span class="icon"></span>http://onpoint.wbur.org/op_full.html</a> as an example. Load the second link, hit the refresh button, and the tab crashes. (This is on XP SP3.)</p><p>In rare cases I've had it actually crash the iexplore.exe process, but I've not been able to reproduce that case easily.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 05, 2011 08:23PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>See <a href="http://bugs.jquery.com/ticket/9823" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/9823</a></p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
