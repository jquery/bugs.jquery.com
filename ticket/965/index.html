<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#965 (Interface-Draggable breaks inputs) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/964/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/966/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#965</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 15, 2007 03:34PM UTC</p>
      
        <p>Closed March 31, 2008 01:29AM UTC</p>
      
      
        <p>Last modified March 15, 2012 05:02PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Interface-Draggable breaks inputs</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        michal.aichinger@gma
      </td>
      <th>Owned by:</th>
      <td>stefan</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.1.3">1.1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>interface</td>
      
        <th class="missing">Version:</th>
      
      <td></td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>When I try use Draggable on this div, it broke a city input. I cannot click into it to place there text cursor. When the div is not draggable it work fine. </p><p>&lt;div id="form"  style="border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; "&gt;</p><p>      &lt;input class="bor" value="Close" onclick="closeForm('xxx', '')" type="button"&gt;</p><p>      &lt;fieldset&gt;</p><p>			&lt;div class="formLine"&gt;&lt;label for="pusobnost_region"&gt;Region: &lt;/label&gt; &lt;select id="region" name="_region" class="bor"&gt;</p><p>&lt;option title="xxx" value="7"&gt;xxx&lt;/option&gt;</p><p>&lt;option title="zzz" value="8"&gt;zzz&lt;/option&gt;</p><p>&lt;/select&gt;&lt;/div&gt;</p><p>&lt;div class="formLine"&gt;&lt;label for="city"&gt;City: &lt;/label&gt; &lt;input class="bor" id="city" style="position: relative; z-index: 20;" type="text"&gt;&lt;/div&gt;</p><p>			&lt;div class="formLine"&gt;&lt;input id="addFOAFormButton" class="bor" value="Add" onclick="add('xxx')" type="button"&gt;&lt;/div&gt;</p><p>      &lt;/fieldset&gt;</p><p>              &lt;/div&gt;</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (7)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 10, 2007 03:04AM UTC by <span class="author">shenanime</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here's a workaround to try. However, in IE, you can focus your input fields but you can't select them. Hope this helps</p><p>jQuery</p><p>$('#form').Draggable({</p><p> handle : 'drag_handle' //add this line</p><p>});</p><p>HTML</p><p>&lt;div id="form" style="border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; "&gt;</p><p>&lt;div class="drag_handle"&gt;[Drag Me!]&lt;/div&gt; &lt;!-- This line is added --&gt;</p><p>&lt;div id="form" style="border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; "&gt;</p><p>    &lt;input class="bor" value="Close" onclick="closeForm('xxx', )" type="button"&gt; &lt;fieldset&gt;</p><p>        &lt;div class="formLine"&gt;&lt;label for="pusobnost_region"&gt;Region: &lt;/label&gt; &lt;select id="region" name="_region" class="bor"&gt;</p><p>&lt;option title="xxx" value="7"&gt;xxx&lt;/option&gt; &lt;option title="zzz" value="8"&gt;zzz&lt;/option&gt; &lt;/select&gt;&lt;/div&gt; &lt;div class="formLine"&gt;&lt;label for="city"&gt;City: &lt;/label&gt; &lt;input class="bor" id="city" style="position: relative; z-index: 20;" type="text"&gt;&lt;/div&gt;</p><p>    &lt;div class="formLine"&gt;&lt;input id="addFOAFormButton" class="bor" value="Add" onclick="add('xxx')" type="button"&gt;&lt;/div&gt;</p><p>&lt;/fieldset&gt;</p><p>&lt;/div&gt;</p><p>Replying to [ticket:965 michal.aichinger@gmail.com]:</p><blockquote> When I try use Draggable on this div, it broke a city input. I cannot click into it to place there text cursor. When the div is not draggable it work fine.     &lt;div id="form"  style="border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; "&gt;        &lt;input class="bor" value="Close" onclick="closeForm('xxx', '')" type="button"&gt;       &lt;fieldset&gt; 			&lt;div class="formLine"&gt;&lt;label for="pusobnost_region"&gt;Region: &lt;/label&gt; &lt;select id="region" name="_region" class="bor"&gt; &lt;option title="xxx" value="7"&gt;xxx&lt;/option&gt; &lt;option title="zzz" value="8"&gt;zzz&lt;/option&gt; &lt;/select&gt;&lt;/div&gt; &lt;div class="formLine"&gt;&lt;label for="city"&gt;City: &lt;/label&gt; &lt;input class="bor" id="city" style="position: relative; z-index: 20;" type="text"&gt;&lt;/div&gt; 			&lt;div class="formLine"&gt;&lt;input id="addFOAFormButton" class="bor" value="Add" onclick="add('xxx')" type="button"&gt;&lt;/div&gt;       &lt;/fieldset&gt;               &lt;/div&gt;</blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 29, 2007 09:46PM UTC by <span class="author">kalperin</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>i was able to hack idrag.js to work around this issue.  Add a few lines to the "draginit" method like so:</p><pre class="wiki">
draginit : function (e)
{
	var targetName=e.target?e.target.nodeName:e.srcElement.nodeName //add
	if (targetName.toLowerCase() == 'input') { //these
		return true; //four
	} //lines

</pre><p>and voila!  Now my input fields are editable again.  What we're doing here is propagating the original event without doing any of the drag mojo.  This lets the browser handle the event in the best way it knows how (namely, but putting the cursor in the text input field).</p><p>cheers,</p><p>Keith</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 06, 2007 11:49AM UTC by <span class="author">Cheez</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is good, although the contents of the select can't be selected. I've done a partial workaround by adding code to select it, as in:</p><pre class="wiki">&lt;input type="text" onfocus="this.select();" /&gt;</pre><p>The biggest problem with the whole thing is that it means you've got to use the uncompressed version of interface, I'm only using the dependencies of the sortables, but that alone is twice the size of jQuery itself. I can't repack it because it throws errors about missing ; (I've not missed any out when adding those 4 lines)</p><p>Chris</p><p>Replying to [comment:2 kalperin]:</p><blockquote> i was able to hack idrag.js to work around this issue.  Add a few lines to the "draginit" method like so:  <pre class="wiki">
&gt; draginit : function (e)
&gt; {
&gt; 	var targetName=e.target?e.target.nodeName:e.srcElement.nodeName //add
&gt; 	if (targetName.toLowerCase() == 'input') { //these
&gt; 		return true; //four
&gt; 	} //lines
&gt; 
&gt; </pre>  and voila!  Now my input fields are editable again.  What we're doing here is propagating the original event without doing any of the drag mojo.  This lets the browser handle the event in the best way it knows how (namely, but putting the cursor in the text input field).  cheers,  Keith </blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 06, 2007 11:50AM UTC by <span class="author">Cheez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>correction, contents of the <strong>input</strong> can't be selected. Not contents of the select.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2008 01:29AM UTC by <span class="author">scott.gonzal</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">When I try use Draggable on this div, it broke a city input. I cannot click into it to place there text cursor. When the div is not draggable it work fine. &#92;
&#92;
&#92;
&#92;
&lt;div id=&quot;form&quot;  style=&quot;border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; &quot;&gt;&#92;
&#92;
      &lt;input class=&quot;bor&quot; value=&quot;Close&quot; onclick=&quot;closeForm(&#39;xxx&#39;, &#39;&#39;)&quot; type=&quot;button&quot;&gt;&#92;
      &lt;fieldset&gt;&#92;
			&lt;div class=&quot;formLine&quot;&gt;&lt;label for=&quot;pusobnost_region&quot;&gt;Region: &lt;/label&gt; &lt;select id=&quot;region&quot; name=&quot;_region&quot; class=&quot;bor&quot;&gt;&#92;
&lt;option title=&quot;xxx&quot; value=&quot;7&quot;&gt;xxx&lt;/option&gt;&#92;
&lt;option title=&quot;zzz&quot; value=&quot;8&quot;&gt;zzz&lt;/option&gt;&#92;
&lt;/select&gt;&lt;/div&gt;&#92;
&lt;div class=&quot;formLine&quot;&gt;&lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt; &lt;input class=&quot;bor&quot; id=&quot;city&quot; style=&quot;position: relative; z-index: 20;&quot; type=&quot;text&quot;&gt;&lt;/div&gt;&#92;
			&lt;div class=&quot;formLine&quot;&gt;&lt;input id=&quot;addFOAFormButton&quot; class=&quot;bor&quot; value=&quot;Add&quot; onclick=&quot;add(&#39;xxx&#39;)&quot; type=&quot;button&quot;&gt;&lt;/div&gt;&#92;
      &lt;/fieldset&gt;&#92;
              &lt;/div&gt;</span> → <span class="change-field-new">When I try use Draggable on this div, it broke a city input. I cannot click into it to place there text cursor. When the div is not draggable it work fine. &#92;
&#92;
&#92;
&#92;
&lt;div id=&quot;form&quot;  style=&quot;border: 1px solid black; background: lightblue none repeat scroll 0%; display: block; position: absolute; &quot;&gt;&#92;
&#92;
      &lt;input class=&quot;bor&quot; value=&quot;Close&quot; onclick=&quot;closeForm(&#39;xxx&#39;, &#39;&#39;)&quot; type=&quot;button&quot;&gt;&#92;
      &lt;fieldset&gt;&#92;
			&lt;div class=&quot;formLine&quot;&gt;&lt;label for=&quot;pusobnost_region&quot;&gt;Region: &lt;/label&gt; &lt;select id=&quot;region&quot; name=&quot;_region&quot; class=&quot;bor&quot;&gt;&#92;
&lt;option title=&quot;xxx&quot; value=&quot;7&quot;&gt;xxx&lt;/option&gt;&#92;
&lt;option title=&quot;zzz&quot; value=&quot;8&quot;&gt;zzz&lt;/option&gt;&#92;
&lt;/select&gt;&lt;/div&gt;&#92;
&lt;div class=&quot;formLine&quot;&gt;&lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt; &lt;input class=&quot;bor&quot; id=&quot;city&quot; style=&quot;position: relative; z-index: 20;&quot; type=&quot;text&quot;&gt;&lt;/div&gt;&#92;
			&lt;div class=&quot;formLine&quot;&gt;&lt;input id=&quot;addFOAFormButton&quot; class=&quot;bor&quot; value=&quot;Add&quot; onclick=&quot;add(&#39;xxx&#39;)&quot; type=&quot;button&quot;&gt;&lt;/div&gt;&#92;
      &lt;/fieldset&gt;&#92;
              &lt;/div&gt;</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-new">→ Review</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Interface is no longer supported; consider switching to <a href="http://ui.jquery.com/" class="ext-link"><span class="icon"></span>jQuery UI</a>.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 15, 2008 10:01AM UTC by <span class="author">emccolgan</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 Cheez]:</p><blockquote> correction, contents of the <strong>input</strong> can't be selected. Not contents of the select.</blockquote><p>The problem is caused by the following lines in the "build" method of idrag.js</p><pre class="wiki">
	if (window.ActiveXObject) {
		this.onselectstart = function(){return false;};
		this.ondragstart = function(){return false;};
	}
</pre><p>Remove these lines and the problem goes away!  I have not noticed any side effects of removing this.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 15, 2008 10:21AM UTC by <span class="author">emccolgan</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Alternatively, change the the onselectstart and ondragstart object to the drag handle element.  This should prevent selecting the text only in the drag handle.</p><p>Change:</p><pre class="wiki">
	if (window.ActiveXObject) {
		this.onselectstart = function(){return false;};
		this.ondragstart = function(){return false;};
	}
</pre><p>To:</p><pre class="wiki">
	if (window.ActiveXObject) {
		dhe.onselectstart = function(){return false;};
		dhe.ondragstart = function(){return false;};
	}
</pre><p>Remember to move this to after the declaration of the "dhe" variable.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
