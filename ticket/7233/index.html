<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#7233 (jQuery 1.4.3 changes behaviour of $(&amp;#39;.e&amp;#39;).css(&amp;#39;width&amp;#39;, null)) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/7232/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/7234/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#7233</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened October 18, 2010 08:50AM UTC</p>
      
        <p>Closed October 18, 2010 02:02PM UTC</p>
      
      
        <p>Last modified March 13, 2012 09:17PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">jQuery 1.4.3 changes behaviour of $(&#39;.e&#39;).css(&#39;width&#39;, null)</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        kelvin@kelvinluck.com
      </td>
      <th>Owned by:</th>
      <td>kelvin@kelvinluck.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.5">1.5</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>css</td>
      
        <th>Version:</th>
      
      <td>1.4.3</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>css null</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>My jScrollPane plugin [ <a href="http://jscrollpane.kelvinluck.com/" class="ext-link"><span class="icon"></span>http://jscrollpane.kelvinluck.com/</a> ] breaks when I update to jQuery 1.4.3. I haven't gone over it fully yet but I suspect that this line is no longer working as it did:</p><p>elem.css('width', null);</p><p>The aim of this line is to remove any styles added by jQuery which were effecting the width of the element so that it can take up it's natural space in the page. It is used so that you can reinitialise the plugin after the size of elements on the page has changed (e.g. <a href="http://jscrollpane.kelvinluck.com/dynamic_width.html" class="ext-link"><span class="icon"></span>http://jscrollpane.kelvinluck.com/dynamic_width.html</a> ).</p><p>You can experiment here:</p><p><a href="http://www.jsfiddle.net/VKYHK/" class="ext-link"><span class="icon"></span>http://www.jsfiddle.net/VKYHK/</a></p><p>Try resizing your browser window. The scrollbars will update correctly. Now change it to jQuery 1.4.3 on the left hand side and re-run the page. When you resize you will see that the scroll pane doesn't correctly calculate its new width...</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (7)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 09:08AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ kelvin@kelvinluck.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Please provide a reduced test case.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 09:24AM UTC by <span class="author">kelvin@kelvinluck.com</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I will as soon as I get a spare few minutes... As mentioned, I suspect the cause is that </p><pre class="wiki">.css('width', null)</pre> (in the block starting on line 129 of <a href="http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js" class="ext-link"><span class="icon"></span>http://jscrollpane.kelvinluck.com/script/jquery.jscrollpane.js</a> ) is now behaving differently in 1.4.3<p></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 10:18AM UTC by <span class="author">jitter</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">@kelvin&#92;
You are right `.css( &#39;width&#39;, null )` in the plugins code is the culprit.&#92;
&#92;
Using `null` as value is just wrong. The correct way to remove a style is `css( &#39;width&#39;, &#39;&#39;)`.&#92;
&#92;
Calling `css( key, null )` in jQuery &lt; 1.4.3 just seemed to work but actually did the wrong thing by setting the value to `nullpx` which throws errors in IE.&#92;
&#92;
This behavior was fixed in 1.4.3 see #7116&#92;
&#92;
So you should report this invalid use of `css( key, null )` to the plugins author and request that he fixes it in his code.&#92;
</span> → <span class="change-field-new">1287397163078914</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">@kelvin&#92;
You are right `.css( &#39;width&#39;, null )` in the plugins code is the culprit.&#92;
&#92;
Using `null` as value is just wrong. The correct way to remove a style is `css( &#39;width&#39;, &#39;&#39;)`.&#92;
&#92;
Calling `css( key, null )` in jQuery &lt; 1.4.3 just seemed to work but actually did the wrong thing by setting the value to `nullpx` which throws errors in IE.&#92;
&#92;
This behavior was fixed in 1.4.3 see #7116&#92;
&#92;
So you should report this invalid use of `css( key, null )` to the plugins author and request that he fixes it in his code.&#92;
&#92;
P.S.: Condensed [http://www.jsfiddle.net/WuW9L/ live test case]&#92;
</span> → <span class="change-field-new">1287397229194520</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>@kelvin</p><p>You are right <code>.css( 'width', null )</code> in the plugins code is the culprit.</p><p>Using <code>null</code> as value is just wrong. The correct way to remove a style is <code>css( 'width', '')</code>.</p><p>Calling <code>css( key, null )</code> in jQuery &lt; 1.4.3 just seemed to work but actually did the wrong thing by setting the value to <code>nullpx</code> which throws errors in IE.</p><p>This behavior was fixed in 1.4.3 see <a href="/ticket/7116">#7116</a></p><p>So you should report this invalid use of <code>css( key, null )</code> to the plugins author and request that he fixes it in his code.</p><p>P.S.: Condensed <a href="http://www.jsfiddle.net/jitter/e4s7z/" class="ext-link"><span class="icon"></span>live test case</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 01:28PM UTC by <span class="author">Kelvin Luck &lt;kelvin@kelvinluck.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@jitter thanks for the clarification and the condensed test case!</p><p>I am the author of the plugin and have fixed the code. I thought that I ran into a difference between setting css(key, '') and css(key, null) while I was developing the plugin (and that null worked while '' didn't). However, I've just tested and the empty string seems to work great.</p><p>Thanks again for the help,</p><p>Kelvin :)</p><p>p.s. This ticket can be closed as a user error. I don't seem to have permission to do it...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 01:30PM UTC by <span class="author">Kelvin Luck &lt;kelvin@kelvinluck.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 Kelvin Luck &lt;kelvin@…&gt;]:</p><blockquote> @jitter thanks for the clarification and the condensed test case!  I am the author of the plugin and have fixed the code. I thought that I ran into a difference between setting css(key, "") and css(key, null) while I was developing the plugin (and that null worked while "" didn't). However, I've just tested and the empty string seems to work great.  Thanks again for the help,  Kelvin :)  p.s. This ticket can be closed as a user error. I don't seem to have permission to do it...</blockquote><p>Sorry for the messed up formatting - it appears that two single quotes next to each other mean something in Trac. In the quote above I've turned them into double quotes... </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 02:02PM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">css</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ css null</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>As this issue has been resolved as a user error I am closing it as an invalid ticket for now. </p>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 18, 2010 07:22PM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/7240">#7240</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
