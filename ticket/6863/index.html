<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6863 (faster getText) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6862/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6864/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#6863</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">enhancement</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened August 03, 2010 02:15PM UTC</p>
      
        <p>Closed September 28, 2011 08:47PM UTC</p>
      
      
        <p>Last modified March 08, 2012 09:54PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">faster getText</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        steida
      </td>
      <th>Owned by:</th>
      <td>timmywil</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        blocker
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.7">1.7</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>selector</td>
      
        <th>Version:</th>
      
      <td>1.4.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>speed,getText,1.7-discuss</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>var getText = function (elem) {</p><p>		var text = [];</p><p>		for (var node = elem.firstChild; node; node = node.nextSibling) {</p><p>			<em> Get the text from text nodes and CDATA nodes</em></p><p>			if (node.nodeType == 3 || node.nodeType == 4)</p><p>				text.push(node.nodeValue);</p><p>			 Traverse everything else, except comment nodes</p><p>			else if (elem.nodeType !== 8)</p><p>				text.push(getText(node));</p><p>		}</p><p>		return text.join('');</p><p>	};</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (25)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 04, 2010 12:53AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">selector</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This wouldn't make much of a difference unless there were a lot of strings being concatenated, which is probably not the most common case. However, it seems like pretty low hanging fruit and I know it makes a big difference in IE6/7.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 05, 2010 04:20PM UTC by <span class="author">steida</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Also DOM traversing by nextSibling is almost twice faster then index based.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 07, 2010 04:31PM UTC by <span class="author">WouterTinus</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This new implementation suffers from the same inconsistency as the current version, reported in ticket:6827. A corrected version would be</p><pre class="wiki">
var getText = function (elem) {
	var text = []; 
	for (var node = elem.firstChild; node; node = node.nextSibling) {

		// Get the text from text nodes and CDATA nodes
		if (node.nodeType == 3 || node.nodeType == 4)
			text.push(node.nodeValue);

		// Special case for script nodes
		else if (node.tagName === 'SCRIPT')
			text.push(node.text);

		// Traverse everything else, except comment nodes 
		else if (elem.nodeType !== 8)
			text.push(getText(node));

	} 
	return text.join();
};
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 27, 2010 05:49PM UTC by <span class="author">SlexAxton</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ speed getText</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.4.3</span> → <span class="change-field-new">1.5</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-new">→ low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 30, 2010 04:26AM UTC by <span class="author">paul.irish</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Should definitely be using <code>elem.textContent</code> if supported.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2011 11:25PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:5 paul.irish]:</p><blockquote> Should definitely be using <code>elem.textContent</code> if supported.</blockquote><p>We had problems getting a consistent value back from the built-in string methods. The only way to get consistent results across all browsers was to do the traversal.</p><p>Naturally, a patch to the contrary would be welcome.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2011 11:25PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-new">→ 1.next</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is a relatively simple change (using arrays instead of concatenation). Should be low-hanging fruit for someone - possibly in 1.7.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 17, 2011 08:52PM UTC by <span class="author">wookiehangover</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ wookiehangover</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'd like to take a crack at this!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 18, 2011 01:20AM UTC by <span class="author">wookiehangover</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">wookiehangover</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>didn't realize that this was related to sizzle... bailing out</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 27, 2011 08:34PM UTC by <span class="author">barberboy</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I created a pull request that fixes this issue at <a href="http://github.com/jquery/sizzle/pull/59." class="ext-link"><span class="icon"></span>http://github.com/jquery/sizzle/pull/59.</a></p><p>As noted in the pull request, this change may have a negative impact on performance in Chrome, Firefox 4 and IE8+. It will have a minor performance benefit in IE6 and IE7, Safari (as of version 5.0.5) and Opera (as of 11.10). </p><p><a href="http://jsperf.com/ultimate-string-concatenation-tests." class="ext-link"><span class="icon"></span>http://jsperf.com/ultimate-string-concatenation-tests.</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 29, 2011 04:57PM UTC by <span class="author">barberboy</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="https://github.com/jquery/sizzle/pull/59" class="ext-link"><span class="icon"></span>https://github.com/jquery/sizzle/pull/59</a></p><p>I updated the pull request based on feedback from dmethvin and created a jsPerf that measures the performance improvement: <a href="http://jsperf.com/sizzle-gettext-bugfix-6863." class="ext-link"><span class="icon"></span>http://jsperf.com/sizzle-gettext-bugfix-6863.</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 22, 2011 07:27PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old">speed getText</span> → <span class="change-field-new">speed,getText,1.7-discuss</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Nominating ticket for 1.7 discussion.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 22, 2011 10:06PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">+1, Changes actually go to Sizzle I believe</span> → <span class="change-field-new">1306102007682618</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>+1, Changes actually go to Sizzle I believe - if it can be reasonably achieved</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2011 12:08AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, If performance gain is proven... and only if it proven.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2011 02:04AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, Yes, but also +1 on jaubourg's sentiment above !</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2011 03:31AM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+0, skeptical on the performance gain.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 23, 2011 09:51PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, Worth a look with <a href="/ticket/3144">#3144</a> as well.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 25, 2011 06:39PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>See also this forum post with a link to perf tests there and also linked above:</p><p><a href="http://forum.jquery.com/topic/sizzle-gettext-open-pull-request-for-ticket-6863#14737000002377958" class="ext-link"><span class="icon"></span>http://forum.jquery.com/topic/sizzle-gettext-open-pull-request-for-ticket-6863#14737000002377958</a></p><p>Would still like to see <a href="/ticket/3144">#3144</a> tackled at the same time if possible to reduce some of the quirks of IE6/7/8 text behavior using the code suggested by ioquatix and linked in the fiddle at the bottom. It might make the function even faster since it eliminates recursion for all but XML documents.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 03, 2011 01:36PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, Well, certainly seems to be running faster. If it's passing, let's get it in.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 03, 2011 02:55PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, perf test shows improvements across all browsers</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 06, 2011 03:52PM UTC by <span class="author">jzaefferer</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 12, 2011 02:54PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span> → <span class="change-field-new">var getText = function (elem) {&#92;
		var text = [];&#92;
		for (var node = elem.firstChild; node; node = node.nextSibling) {&#92;
			// Get the text from text nodes and CDATA nodes&#92;
			if (node.nodeType == 3 || node.nodeType == 4)&#92;
				text.push(node.nodeValue);&#92;
			// Traverse everything else, except comment nodes&#92;
			else if (elem.nodeType !== 8)&#92;
				text.push(getText(node));&#92;
		}&#92;
		return text.join(&#39;&#39;);&#92;
	};</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.next</span> → <span class="change-field-new">1.7</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">low</span> → <span class="change-field-new">blocker</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2011 04:19PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ dmethvin</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 22, 2011 02:07PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-old">dmethvin</span> → <span class="change-field-new">timmywil</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking this timmywil!</p><p>TL;DR: There is a pull already for this in Sizzle's tracker:</p><p><a href="http://bugs.jquery.com/ticket/6863#comment:10" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/6863#comment:10</a></p><p>Ticket <a href="/ticket/3144">#3144</a> has an alternate implementation using .textContent/.innerText when possible that may be even faster, and it addresses issues with IE6/7/8 losing spaces.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 28, 2011 08:47PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Update Sizzle. Fixes <a href="/ticket/3144">#3144</a>, <a href="/ticket/6863">#6863</a>. </p><p> Changeset: 22fcc7744daded0dc0783d85df3bd88c6dbc4544</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
