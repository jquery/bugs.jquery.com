<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#12097 (crossDomain in IE9 is interpreted wrong) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/12096/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/12098/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#12097</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened July 17, 2012 04:17PM UTC</p>
      
        <p>Closed July 25, 2012 01:20PM UTC</p>
      
      
        <p>Last modified July 25, 2012 01:54PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">crossDomain in IE9 is interpreted wrong</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        youcangetme@yahoo.com
      </td>
      <th>Owned by:</th>
      <td>youcangetme@yahoo.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.7.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th>Cc:</th>
      
      <td>jaubourg</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>In jQuery 1.7.2 downloaded today I have to enter the crossDomain value as false in order to get it to do CORS. If <a href="/wiki/FireFox">FireFox</a> the value only works when set to true.</p><p>My ugly workaround is below;</p><p>$.ajax({</p><p>	url: this.dfcore.settings.server+'API/Login.jsp',</p><p>	type: 'POST',</p><p>	crossDomain: true == !(document.all),</p><p>	processData: false,</p><p>	data: lreq,</p><p>	success: function(data) {</p><p>		console.log('Success: '+data);</p><p>	},</p><p>	error: function(jqXHR,err) {</p><p>		console.log(jqXHR.status+": "+jqXHR.statusText);</p><p>	}</p><p>});</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 24, 2012 08:47PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">ajax</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ youcangetme@yahoo.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This isn't enough information for a bug report. Is it actually a cross-domain request? IE9 doesn't support CORS. Can you reproduce in jsFiddle.net, perhaps less the cross-domain request, so we have some real code to use as a starting point for a repro?</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 11:57AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <pre class="wiki">
"Is it actually a cross-domain request? IE9 doesn't support CORS."
</pre><p>Sorry to inform you but IE9 supports CORS. Maybe the reason you think it doesn't is because you have the values backwards in IE? Is this enough information now to consider this a valid bug report? Maybe instead of being a bug its simply a bad implementation?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 12:05PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here you go, IE7 thru IE10 CORS using jQuery! Note that I have to reverse the "crossDomain" value inorder to get it to work, which is the bug or bad implementation I am reporting;</p><pre class="wiki">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;jQuery CORS in IE7 - IE10&lt;/title&gt;
		&lt;script src="http://code.jquery.com/jquery-1.7.2.min.js"&gt;&lt;/script&gt;
		&lt;script&gt;
			$(document).ready(function() {
			  $.ajax({
			    url: "http://dreamfactorysql.cloudapp.net/API/index.php",
			    dataType: "text",
					async: true,
					type: 'GET',
					cache: false,
					crossDomain: true == !(document.all),
			    success: function(txt) {
			    	alert(txt);
			    }
			  });
			});
		&lt;/script&gt;
		&lt;/head&gt;
	&lt;body&gt;
		IE7 thru IE10 CORS Example Using jQuery
	&lt;/body&gt;
&lt;/html&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 12:44PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Okay you got me there. IE9 supports the CORS protocol via XDomainRequest, just not through a <a href="/wiki/JavaScript">JavaScript</a> API that matches the other browsers. I am assuming you've included that elsewhere? </p><p>Your code snippet threads its way through several <a href="http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx" class="ext-link"><span class="icon"></span>XDomainRequest limitations</a> such as the inability to specify a content type other than text. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 12:46PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ jaubourg</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>You mentioned IE7 though, I don't think XDomainRequest works on IE7.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:11PM UTC by <span class="author">youcangetme@yahoo.com</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>"You mentioned IE7 though, I don't think XDomainRequest works on IE7."</p><p>Gotcha Again! Test the code on IE7, IE8, IE9 and IE10 ;-)</p><p>If I'm not mistaken, CORS is a Microsoft contribution, like Canvas was from Apple.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:13PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Perhaps my copy/paste skills are lacking. Please provide a jsFiddle.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:20PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">http://jsfiddle.net/44yue/3/&#92;
&#92;
This is, of course, failing in IE9 with an Access Denied error.&#92;
&#92;
That&#39;s the reason why we ask for jsFiddle test cases. You have something specific in your environment that enables cross-domain requests (I gather you load the page from the file system).&#92;
&#92;
BTW, the IE9- XHR implementation doesn&#39;t support CORS or else https://github.com/jquery/jquery/blob/master/src/ajax/xhr.js#L43 would be true.&#92;
&#92;
You can get IE to accept cross-domain requests but it involves something we do not support: phone app environment, page accessed through the file system protocol (your case most probably), custom security settings, etc. As usual with unsupported environments, you have to use tricks.&#92;
&#92;
Here, what you should do is this:&#92;
&#92;
```&#92;
jQuery.support.cors = true;&#92;
```&#92;
&#92;
Which is, of course, wrong but close enough for your specific use-case and should take care of all your needs.&#92;
&#92;
Oh, BTW, gotcha.</span> → <span class="change-field-new">1343222527669895</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p><a href="http://jsfiddle.net/44yue/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/44yue/3/</a></p><p>This is, of course, failing in IE9 with an Access Denied error.</p><p>That's the reason why we ask for jsFiddle test cases. You have something specific in your environment that enables cross-domain requests (I gather you load the page from the file system).</p><p>BTW, the IE9- XHR implementation doesn't support CORS or else <a href="https://github.com/jquery/jquery/blob/master/src/ajax/xhr.js#L43" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/blob/master/src/ajax/xhr.js#L43</a> would be true.</p><p>You can get IE to accept cross-domain requests but it involves something we do not support: phone app environment, page accessed through the file system protocol (your case most probably), custom security settings, etc. As usual with unsupported environments, you have to use tricks.</p><p>Here, what you should do is this:</p><pre class="wiki">
jQuery.support.cors = true;
</pre><p>Which is, of course, wrong but close enough for your specific use-case and should take care of all your needs.</p><p>Oh, BTW, gotcha.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:25PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Also, please, read the wikipedia article about CORS for proper information:</p><ul><li><a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing#Browser_support" class="ext-link"><span class="icon"></span>http://en.wikipedia.org/wiki/Cross-origin_resource_sharing#Browser_support</a></li><li><a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing#History" class="ext-link"><span class="icon"></span>http://en.wikipedia.org/wiki/Cross-origin_resource_sharing#History</a></li></ul>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:47PM UTC by <span class="author">youcangetme@yahoo.com</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>*sigh*</p><p>This is an existing app that is being ported to jQuery. It runs currently without any problems and yes, it does cross domain posts and gets. Yes, it doesn't run in other browsers though. I believe the app is 8 years old now? I see a lot of code from 2004 where this cross-domain implementation sits. I would have to check when the owner gets back from Airventure.</p><p>I guess what I will do is revert back to the old way since it works without any of these issues. I will simply do a manual "everybody else" branch in execution and role my own.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 25, 2012 01:54PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">If you set jQuery.support.cors to true, it should work flawlessly, provided you limit yourself to text-only requests (which you probably do since it worked before in plain javascript). I know it sucks but there is a limit to what jQuery can infer without assuming too much. That&#39;s why it&#39;s so awesome to work on end-products, you can assume so much more ;)&#92;
&#92;
Best of luck for the port :)</span> → <span class="change-field-new">1343224533632663</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>If you set jQuery.support.cors to true, it should work flawlessly ((''provided you limit yourself to text-only requests -- which you probably do since it worked before in plain javascript --'' edited because I'm probably confusing with the XDR imp here)). I know it sucks but there is a limit to what jQuery can infer without assuming too much. That's why it's so awesome to work on end-products, you can assume so much more ;)</p><p>Best of luck for the port :)</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
