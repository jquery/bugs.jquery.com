<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9851 (jquery的ajax在XP sp2系统不能响应) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9850/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9852/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9851</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened July 18, 2011 05:20AM UTC</p>
      
        <p>Closed July 21, 2011 11:30AM UTC</p>
      
      
        <p>Last modified July 29, 2011 05:57AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">jquery的ajax在XP sp2系统不能响应</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        bd_cool
      </td>
      <th>Owned by:</th>
      <td>bd_cool</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.6.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>XP sp3一切正常，在sp2没有响应。</p><p>请求已经发送到服务器，服务器工作正常，但ajax既不执行success，也不执行error，也不执行complete。</p><p>上代码</p><p>$.ajax({     </p><p>        type: "get",                       </p><p>        async:false,</p><p>        timeout:10000,</p><p>        url: "/login.do", </p><p>        data: "username="+userName+"&pwd="+password+"&d="+new Date(), </p><p>        contentType:"text/html",</p><p>        success: function(responseText){</p><p>                alert("searchUserInfo_2");</p><p>        } ,</p><p>        error:function(x,e){</p><p>                alert("searchUserInfo_3");</p><p>        },</p><p>        complete:function(jqXHR, textStatus){</p><p>                alert("searchUserInfo_4");</p><p>        }</p><p>});</p><p>另外，以下方式可以通过</p><p>var xmlhttp = new <a href="/wiki/ActiveXObject">ActiveXObject</a>("Microsoft.XMLHTTP"); </p><p>xmlhttp.Open("GET",CURL, false); </p><p>try </p><p>{  </p><p>        xmlhttp.Send();  </p><p>        var resultNum = xmlhttp.status; </p><p>          if(resultNum==200) </p><p>          { </p><p>                 return true; </p><p>          }</p><p>} </p><p>catch(e) {}</p><h18>=</h18><p>sp2默认ie6，升级到ie8问题仍然存在，只能打上sp3补丁。</p><p>原来 jquery1.3.2，升级到最新1.6.2也不行。</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (7)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 18, 2011 06:23AM UTC by <span class="author">bd_cool</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Do you understand Chiness? But my English is bad.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 18, 2011 07:06AM UTC by <span class="author">bd_cool</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If it changes to [type: "post"] , it's OK.</p><p>But I must use "get" ,I will read from IE catch when the line off.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 19, 2011 12:55AM UTC by <span class="author">bd_cool</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I will make a English description as simple.&#92;
&#92;
The ajax does not answer to the response with type:get in XP sp2. &#92;
It does not work with ie6 or ie8, jquery1.3.2 or jquery1.6.2.</span> → <span class="change-field-new">1311037021409431</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I will make a English description simply.&#92;
&#92;
The ajax does not answer to the response with type:get in XP sp2. &#92;
It does not work with ie6 or ie8, jquery1.3.2 or jquery1.6.2.</span> → <span class="change-field-new">1311037189072798</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment2:</th>
                  <td>
                    
                      <span class="change-field-old">I will make a English description simply.&#92;
&#92;
The ajax does not answer to the response with type:get in XP sp2. Neither success and error nor complete method be called.&#92;
&#92;
It does not work with ie6 or ie8, jquery1.3.2 or jquery1.6.2.</span> → <span class="change-field-new">1311037414165558</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I will make a English description simply.</p><p>The ajax does not answer to the response with type:get in XP sp2. Neither success and error nor complete method be called.</p><p>It does not work with ie6 or ie8, jquery1.3.2 or jquery1.6.2.</p><p>But it works fine in XP sp3 and Win7.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 19, 2011 01:33PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">ajax</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ bd_cool</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a reduced test case on <a href="http://jsfiddle.net" class="ext-link"><span class="icon"></span>http://jsfiddle.net</a> that reproduces the issue experienced to help us assess your ticket.</p><p>Additionally, test against the jQuery (edge) version to ensure the issue still exists.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2011 01:34AM UTC by <span class="author">bd_cool</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have add a fiddle <a href="http://jsfiddle.net/ag953/1/." class="ext-link"><span class="icon"></span>http://jsfiddle.net/ag953/1/.</a></p><p>But, I do not know how it works.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 21, 2011 11:30AM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here is a translation from google translate, followed by my response:</p><p></p><hr><p></p><p>XP sp3 everything is normal, the sp2 is not responding. Request has been sent to the server, the server works fine, but not execute ajax success, do not perform error, do not perform complete. The code $. Ajax ({</p><p>type: "get", async: false, timeout: 10000, url: "/ login.do", data: "username =" + userName + "& pwd =" + password + "& d =" + new Date (), contentType: "text / html ", success: function (responseText) {</p><p>alert ("searchUserInfo_2");</p><p>}, Error: function (x, e) {</p><p>alert ("searchUserInfo_3");</p><p>}, Complete: function (jqXHR, textStatus) {</p><p>alert ("searchUserInfo_4");</p><p>}</p><p>});</p><p>In addition, the following methods can be var xmlhttp = new <a href="/wiki/ActiveXObject">ActiveXObject</a> ("Microsoft.XMLHTTP"); xmlhttp.Open ("GET", CURL, false); try {</p><p>xmlhttp.Send (); var resultNum = xmlhttp.status;</p><p>if (resultNum == 200) {</p><p>return true;</p><p>}</p><p>} Catch (e) {}</p><h19>Sp2 default ie6, upgrading to ie8 problem still exists, can only be marked with sp3 patch.</h19><p>Original jquery1.3.2, upgrade to the latest 1.6.2 does not work.</p><p></p><hr><p></p><p>Thanks for submitting a ticket. I've just re-tested the $.ajax .success(), .complete() and .error() methods with jQuery edge (1.6.2+) and they all appear to be working fine with suggests there is something wrong with the server-side login.do you appear to be calling. If you take a look at the test cases below, you'll see the $.ajax methods mentioned working fine on jsfiddle.net.</p><p>Demonstration of .success and .complete working fine: <a href="http://jsfiddle.net/addyosmani/2vMgE/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/addyosmani/2vMgE/</a></p><p>Demonstration of .error working fine: <a href="http://jsfiddle.net/addyosmani/2vMgE/1/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/addyosmani/2vMgE/1/</a></p><p>With async false: <a href="http://jsfiddle.net/addyosmani/2vMgE/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/addyosmani/2vMgE/2/</a></p><p>Closing as this does not appear to be an issue related to core's $.ajax module functioning incorrectly.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 29, 2011 05:57AM UTC by <span class="author">bd_cool</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Thanks a lot!&#92;
&#92;
It&#39;s OK with code response.getWriter().write(outputString) at the server-side .&#92;
But it&#39;s not responding with code response.getWriter().print(outputString).&#92;
&#92;
May be the print method send some invalid charactors to the XP SP2 .</span> → <span class="change-field-new">1311919178488599</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Thanks a lot!&#92;
&#92;
It&#39;s OK with the code below at the server-side .&#92;
response.getWriter().write(outputString)&#92;
&#92;
But it&#39;s not responding with code &#92;
response.getWriter().print(outputString).&#92;
&#92;
May be the print method send some invalid charactors to the XP SP2 .</span> → <span class="change-field-new">1311921969040127</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>Thanks a lot!</p><p>It's OK with the code below at the server-side .</p><p>response.getWriter().write(outputString)</p><p>But it's not responding with code </p><p>response.getWriter().print(outputString).</p><p>May be the print method send some invalid charactors to the XP SP2 .</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
