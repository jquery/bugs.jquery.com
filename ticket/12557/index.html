<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#12557 (attr(&amp;#39;selectedIndex&amp;#39;) fails with 1.5.2+) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/12556/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/12558/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#12557</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(notabug)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened September 18, 2012 03:42PM UTC</p>
      
        <p>Closed September 18, 2012 03:56PM UTC</p>
      
      
        <p>Last modified September 18, 2012 05:22PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">attr(&#39;selectedIndex&#39;) fails with 1.5.2+</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        Denis TRUFFAUT
      </td>
      <th>Owned by:</th>
      <td>Denis TRUFFAUT</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.8.0</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Tested on 1.8.1</p><p>It is a regression since it was working with 1.5.2.</p><p>Test : <a href="http://jsfiddle.net/G9U6N/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/G9U6N/</a></p><p>Tags : JQuery select attr selectedIndex fail bug list change bind index</p><p>Test summary :</p><p>/**********************************************/</p><p>/*      attr('selectedIndex') fail test       */</p><p>/* ------------------------------------------ */</p><p>/* Scenario is a beautiful CSS list binded    */</p><p>/* on an ugly select. Click on list elements  */</p><p>/* (1,2,3) to attempt to trigger the select   */</p><p>/* ------------------------------------------ */</p><p>/* .fail works with 1.5 but fails with 1.5+   */</p><p>/**********************************************/</p><p>$('.fail').click(function() {    </p><p>    /* This line fails */</p><p>    $('#my_select').attr('selectedIndex',parseInt($(this).html()) - 1);    </p><p>    $('#my_select').trigger('change');</p><p>    return false;</p><p>});</p><p>$('.ok').click(function() {    </p><p>    document.getElementById('my_select').selectedIndex = parseInt($(this).html()) - 1;    </p><p>    $('#my_select').trigger('change');</p><p>    return false;</p><p>});</p><p>&lt;select id="my_select"&gt;</p><p>    &lt;option value='1'&gt;Option 1&lt;/option&gt;</p><p>    &lt;option value='2'&gt;Option 2&lt;/option&gt;</p><p>    &lt;option value='3'&gt;Option 3&lt;/option&gt;</p><p>&lt;/select&gt;</p><p>&lt;br/&gt;</p><p>&lt;table border=1 cellpadding=5 cellspacing=0&gt;</p><p>    &lt;tr&gt;</p><p>        &lt;td width=100 align=center&gt;Fail&lt;/td&gt;</p><p>        &lt;td width=100 align=center&gt;OK&lt;/td&gt;</p><p>    &lt;/tr&gt;</p><p>    &lt;tr&gt;</p><p>        &lt;td align=center&gt;</p><p>            &lt;a class="fail" href="#"&gt;1&lt;/a&gt;&lt;br/&gt;</p><p>            &lt;a class="fail" href="#"&gt;2&lt;/a&gt;&lt;br/&gt;</p><p>            &lt;a class="fail" href="#"&gt;3&lt;/a&gt;&lt;br/&gt;</p><p>        &lt;/td&gt;</p><p>        &lt;td align=center&gt;</p><p>            &lt;a class="ok" href="#"&gt;1&lt;/a&gt;&lt;br/&gt;</p><p>            &lt;a class="ok" href="#"&gt;2&lt;/a&gt;&lt;br/&gt;</p><p>            &lt;a class="ok" href="#"&gt;3&lt;/a&gt;&lt;br/&gt;</p><p>        &lt;/td&gt;</p><p>    &lt;/tr&gt;</p><p>&lt;/table&gt;​</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 18, 2012 03:51PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ Denis TRUFFAUT</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a complete reduced test case on jsFiddle to help us assess your ticket!</p><p>Additionally, be sure to test against the "jQuery (edge)" version to ensure the issue still exists. To get you started, use this boilerplate: <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a>  </p><p>Open the link and click to "Fork" (in the top menu) to begin.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 18, 2012 03:56PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ notabug</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Yes, in older jQuery we mixed up the concepts of attributes and properties which we fixed in 1.6. There isn't a <code>selectedIndex</code> attribute:</p><p><a href="http://www.w3.org/TR/1998/REC-html40-19980424/interact/forms.html#edef-SELECT" class="ext-link"><span class="icon"></span>http://www.w3.org/TR/1998/REC-html40-19980424/interact/forms.html#edef-SELECT</a></p><p>However there is a property by that name so you want <code>.prop()</code> which retrieves properties. <code>selectedIndex</code> is a property of the <code>select</code> element. </p><p><a href="http://www.w3.org/TR/2000/WD-DOM-Level-1-20000929/level-one-html.html#ID-94282980" class="ext-link"><span class="icon"></span>http://www.w3.org/TR/2000/WD-DOM-Level-1-20000929/level-one-html.html#ID-94282980</a></p><p>Note that the DOM spec calls them "attributes" but they're properties. So it's understandable that everyone gets confused. But they're definitely different things, which is why there is now <code>.attr()</code> and <code>.prop()</code>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 18, 2012 05:22PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>When reading the spec on the w3 website, you can differentiate what we refer to as attributes and properties by looking for the names content attributes (attributes) and IDL (Interface Definition Language) attributes (we call these properties).  Both are called "attributes" in the spec, but they are clearly differentiated by what kind of "attribute" they mean. content -&gt; <code>.attr()</code>, IDL -&gt; <code>.prop()</code>.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
