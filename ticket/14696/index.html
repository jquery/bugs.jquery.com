<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#14696 (The stop method of jQuery 1.10.2 (1.7-1.10) will interrupt custom queue which is running delay element) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/14695/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/14698/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#14696</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 16, 2014 02:27AM UTC</p>
      
        <p>Closed February 07, 2014 08:59AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">The stop method of jQuery 1.10.2 (1.7-1.10) will interrupt custom queue which is running delay element</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        wangzhenhua1020@126.com
      </td>
      <th>Owned by:</th>
      <td>wangzhenhua1020@126.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.10.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>&lt;html&gt;</p><p>&lt;head&gt;&lt;/head&gt;</p><p>&lt;script type="text/javascript" src="jquery-1.10.2.js"&gt;&lt;/script&gt;</p><p>&lt;script type="text/javascript"&gt;</p><p>	$(document).ready(function() {</p><p>		var $a = $("#a");</p><p>		$a.animate({left: 300}, 5000);</p><p> 		$a.delay(3000, "aa").queue("aa", function() {</p><p> 			alert("---");<em>Can't be excuted, unless use $a.stop("fx")</em></p><p> 			$(this).dequeue("aa");</p><p> 		}).dequeue("aa");</p><p> 		setTimeout(function() {</p><p> 			$a.stop();$a.stop("fx");</p><p> 		}, 2000);</p><p> 	});</p><p>&lt;/script&gt;</p><p>&lt;body&gt;</p><p>	&lt;div id="a" style="position:relative;width:50px;height:50px;background:red;"&gt;&lt;/div&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p><p>Explanation: </p><p>    The stop method of jQuery 1.10.2 will interrupt custom queue which is running delay element.</p><p>    First, If you change "$a.stop()" to "$a.stop ('fx')", then the custom queue "alert('---')" will be executed, but doing so requires passes a "fx" parameter when calling stop method, it seem redundant. Second, the arguments length in the stop method of jquery-1.7 before is two, not three as the lastest jquery, so pass "fx" parameter to stop method of jquery-1.6.4 or earlier versions is not allowed. so I believed that this phenomenon is the bug of jquery-1.10.2(Accurate to say, version 1.7 to 1.10).</p><p>As my bad English，The following provides Chinese Explanation.</p><p>说明：</p><p>    当调用jQuery 1.10.2的stop方法时，若此时自定义队列的delay方法中的函数（它并不是一个动画）正在运行，则会被停止。</p><p>    首先，上面的$a.stop()如果改为$a.stop("fx")，那么自定义队列的alert("---")就会执行，但这样做就需要在调用stop方法时多传递一个“fx”参数，显得多余；第二，在jquery1.7之前的版本stop方法的参数为2个，并非新版本的3个参数，所以在1.7之前的jquery中向stop方法传递“fx”参数是不允许的。所以怀疑这个现象是不是jquery-1.10.2(准确的说是1.7到1.10版本似乎都有这个问题)的bug。</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 16, 2014 02:33AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <pre class="wiki">
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;script type="text/javascript" src="jquery-1.10.2.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
	$(document).ready(function() {
		var $a = $("#a");
		$a.animate({left: 300}, 5000);
 		$a.delay(3000, "aa").queue("aa", function() {
 			alert("---");//Can't be excuted, unless use $a.stop("fx")
 			$(this).dequeue("aa");
 		}).dequeue("aa");
 		setTimeout(function() {
 			$a.stop();//$a.stop("fx");
 		}, 2000);
 	});
&lt;/script&gt;
&lt;body&gt;
	&lt;div id="a" style="position:relative;width:50px;height:50px;background:red;"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 23, 2014 04:31PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ wangzhenhua1020@126.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a complete reduced test case on jsFiddle to help us assess your ticket.</p><p>Additionally, be sure to test against the "jQuery(edge)" version to ensure the issue still exists—you may need to change this to a specific version depending on the test case.</p><p>To get you started, use the appropriate boilerplate:</p><ul><li>jQuery 1.x <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a></li><li>jQuery 2.x <a href="http://jsfiddle.net/VUp3e/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/VUp3e/</a></li></ul><p>Open the link and click to "Fork" (in the top menu) to begin.</p><p>Also, please read:</p><ul><li><a href="http://blog.jquery.com/2013/03/01/jquery-2-0-beta-2-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2013/03/01/jquery-2-0-beta-2-released/</a></li><li><a href="http://blog.jquery.com/2013/01/15/jquery-1-9-final-jquery-2-0-beta-migrate-final-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2013/01/15/jquery-1-9-final-jquery-2-0-beta-migrate-final-released/</a></li></ul><p>Additional resources:</p><ul><li>Won't Fix: <a href="http://contribute.jquery.org/wont-fix/" class="ext-link"><span class="icon"></span>http://contribute.jquery.org/wont-fix/</a></li><li>CLA: <a href="http://contribute.jquery.org/CLA/" class="ext-link"><span class="icon"></span>http://contribute.jquery.org/CLA/</a></li><li>Style Guide: <a href="http://contribute.jquery.org/style-guide/js/" class="ext-link"><span class="icon"></span>http://contribute.jquery.org/style-guide/js/</a></li></ul>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 07, 2014 08:59AM UTC by <span class="author">trac-o-bot</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Because we get so many tickets, we often need to return them to the initial reporter for more information. If that person does not reply within 14 days, the ticket will automatically be closed, and that has happened in this case. If you still are interested in pursuing this issue, feel free to add a comment with the requested information and we will be happy to reopen the ticket if it is still valid. Thanks!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
