<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#1121 (iutil.js (Interface version 1.2) - getScroll() incorrect 0 scrollTop and scrollLeft offset for IE 5.5) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/1120/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/1122/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#1121</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened April 12, 2007 12:58AM UTC</p>
      
        <p>Closed March 31, 2008 02:14AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">iutil.js (Interface version 1.2) - getScroll() incorrect 0 scrollTop and scrollLeft offset for IE 5.5</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        rbygrave
      </td>
      <th>Owned by:</th>
      <td>stefan</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        minor
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.1.3">1.1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>interface</td>
      
        <th>Version:</th>
      
      <td>1.1.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>scrollTop scrollLeft</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>It seems to me that the getScroll() method of iutil.js may have a bug with IE5.5 (unable to test IE6 yet).</p><p>More specifically the scrollTop and scrollLeft (t and l variables) return 0 values when they should not.</p><p>After reviewing the 'scrolling offset' section from...</p><p><a href="http://www.quirksmode.org/viewport/compatibility.html" class="ext-link"><span class="icon"></span>http://www.quirksmode.org/viewport/compatibility.html</a></p><p>Using the code from the quirksmode site seems to fix the issue for me. The code that works to calculate scrollTop and scrollLeft correctly is...</p><p>	var x,y;</p><p>	if (self.pageYOffset) <em> all except Explorer</em></p><p>	{</p><p>		x = self.pageXOffset;</p><p>		y = self.pageYOffset;</p><p>	}</p><p>	else if (document.documentElement && document.documentElement.scrollTop)</p><p>		 Explorer 6 Strict</p><p>	{</p><p>		x = document.documentElement.scrollLeft;</p><p>		y = document.documentElement.scrollTop;</p><p>	}</p><p>	else if (document.body) // all other Explorers</p><p>	{</p><p>		x = document.body.scrollLeft;</p><p>		y = document.body.scrollTop;</p><p>	}</p><p>	return {x:x, y:y};</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (2)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/1121/iutil.js/index.html">iutil.js</a> (6.0 KB) - added by rbygrave
        <strong>April 12, 2007 02:36AM UTC</strong>.<br>
        <p>Iterface iUtil.js</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/1121/viewport.html/index.html">viewport.html</a> (2.2 KB) - added by rbygrave
        <strong>April 12, 2007 02:36AM UTC</strong>.<br>
        
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (2)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 12, 2007 02:46AM UTC by <span class="author">rbygrave</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have attached a test case... (that also requires jquery-1.1.2.js)</p><p>Note that if there is no doctype then Firefox 2 goes into quicks mode, and in this mode getScroll() incorrectly returns 0 for scrollLeft and scrollTop.</p><p>The test case html also includes javascript code that seems to always return the correct values for scrollLeft and scrollTop (t and l) no matter if there is a doctype or not, and also for IE5.5.</p><p>To reproduce you need to make the browser window small enough that scroll bars appear, and scroll the window left and down a little bit (so that scrollLeft and scrollTop should NOT be 0), and then click on the 'viewport' link. This gets and checks the getScroll() results and alerts if it thinks there is an incorrect value.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2008 02:14AM UTC by <span class="author">scott.gonzal</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">It seems to me that the getScroll() method of iutil.js may have a bug with IE5.5 (unable to test IE6 yet).&#92;
&#92;
More specifically the scrollTop and scrollLeft (t and l variables) return 0 values when they should not.&#92;
&#92;
After reviewing the &#39;scrolling offset&#39; section from...&#92;
http://www.quirksmode.org/viewport/compatibility.html&#92;
&#92;
Using the code from the quirksmode site seems to fix the issue for me. The code that works to calculate scrollTop and scrollLeft correctly is...&#92;
&#92;
	var x,y;&#92;
	if (self.pageYOffset) // all except Explorer&#92;
	{&#92;
		x = self.pageXOffset;&#92;
		y = self.pageYOffset;&#92;
	}&#92;
	else if (document.documentElement &amp;&amp; document.documentElement.scrollTop)&#92;
		// Explorer 6 Strict&#92;
	{&#92;
		x = document.documentElement.scrollLeft;&#92;
		y = document.documentElement.scrollTop;&#92;
	}&#92;
	else if (document.body) // all other Explorers&#92;
	{&#92;
		x = document.body.scrollLeft;&#92;
		y = document.body.scrollTop;&#92;
	}&#92;
	return {x:x, y:y};&#92;
</span> → <span class="change-field-new">It seems to me that the getScroll() method of iutil.js may have a bug with IE5.5 (unable to test IE6 yet).&#92;
&#92;
More specifically the scrollTop and scrollLeft (t and l variables) return 0 values when they should not.&#92;
&#92;
After reviewing the &#39;scrolling offset&#39; section from...&#92;
http://www.quirksmode.org/viewport/compatibility.html&#92;
&#92;
Using the code from the quirksmode site seems to fix the issue for me. The code that works to calculate scrollTop and scrollLeft correctly is...&#92;
&#92;
	var x,y;&#92;
	if (self.pageYOffset) // all except Explorer&#92;
	{&#92;
		x = self.pageXOffset;&#92;
		y = self.pageYOffset;&#92;
	}&#92;
	else if (document.documentElement &amp;&amp; document.documentElement.scrollTop)&#92;
		// Explorer 6 Strict&#92;
	{&#92;
		x = document.documentElement.scrollLeft;&#92;
		y = document.documentElement.scrollTop;&#92;
	}&#92;
	else if (document.body) // all other Explorers&#92;
	{&#92;
		x = document.body.scrollLeft;&#92;
		y = document.body.scrollTop;&#92;
	}&#92;
	return {x:x, y:y};&#92;
</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Interface is no longer supported; consider switching to <a href="http://ui.jquery.com/" class="ext-link"><span class="icon"></span>jQuery UI</a>.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
