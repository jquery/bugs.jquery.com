<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#8489 (Add a &amp;#39;complete&amp;#39; parameter to .delay() for using callbacks. That was it&amp;#39;s super simple to delay custom, non-jQuery functions.) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/8488/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/8490/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#8489</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">enhancement</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened March 10, 2011 10:05AM UTC</p>
      
        <p>Closed March 30, 2011 07:08PM UTC</p>
      
      
        <p>Last modified March 14, 2012 06:26PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Add a &#39;complete&#39; parameter to .delay() for using callbacks. That was it&#39;s super simple to delay custom, non-jQuery functions.</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        trusktr
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>queue</td>
      
        <th>Version:</th>
      
      <td>1.5.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>For example, it'd be super nifty to do this:</p><pre class="wiki">
$(this).delay(5000, function() {
    non_jquery_function();
});
</pre><p>The above would have the effect of executing non_jquery_function() after waiting 5 seconds when .delay() is added to the object's queue.</p><p>This would be super convenient!</p><p>Is there already a way to do this?</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (6)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 10, 2011 10:49AM UTC by <span class="author">trusktr</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">How about&#92;
&#92;
{{{&#92;
$(this).delay(5000).queue( function(){&#92;
    non_jquery_function();&#92;
    $(this).dequeue();&#92;
});&#92;
}}}&#92;
&#92;
?&#92;
&#92;
Is that the way to do it? If so, I&#39;m not able to achieve my result still. :/</span> → <span class="change-field-new">1299755388123982</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I guess&#92;
&#92;
{{{&#92;
$(this).delay(5000).queue( function(next){&#92;
    non_jquery_function();&#92;
    next();&#92;
});&#92;
}}}&#92;
&#92;
?&#92;
&#92;
Is the way to do it. However, it&#39;d still be convenient to just use a callback within .delay().</span> → <span class="change-field-new">1299755483949106</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I guess</p><pre class="wiki">
$(this).delay(5000).queue( function(next){
    non_jquery_function();
    next();
});
</pre><p>?</p><p>Is the way to do it. However, it'd still be convenient to just use a callback within .delay(). It'd save you about 18 characters of typing. Besides, don't we want jQuery to be as easy to use as possible?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 10, 2011 11:01AM UTC by <span class="author">trusktr</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Actually, yeah, using .queue() is working. But it&#39;d still be nice to just use delay with a callback function.</span> → <span class="change-field-new">1299755276815218</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">Actually, yeah, using .queue() is working. But it&#39;d still be nice to just use delay() with a callback function.</span> → <span class="change-field-new">1299755296912286</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 10, 2011 04:50PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">queue</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>As it says on the <a href="http://api.jquery.com/delay" class="ext-link"><span class="icon"></span>docs for .delay()</a></p><p>"The .delay() method is best for delaying between queued jQuery effects. Because it is limited—it doesn't, for example, offer a way to cancel the delay—.delay() is not a replacement for <a href="/wiki/JavaScript">JavaScript</a>'s native setTimeout function, which may be more appropriate for certain use cases."</p><p>I can't see why we'd add this parameter - I understand why one might think it convenient, but it's really just a super thin layer around setTimeout that obscures users from actually writing basic <a href="/wiki/JavaScript">JavaScript</a>.  On the other hand, there might be a valid use case here, so I'm going to throw this into the feature proposals for 1.6 so we can get more opinions on this and we can evaluate based on whatever consensus is generated there.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 10, 2011 06:21PM UTC by <span class="author">scottgonzalez</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think the use case provided is a bit silly, but I think there are valid use cases and I would've expected this to work. I could see users wanting to do:</p><pre class="wiki">
$( el )
    .animate( ..., fn1 )
    .delay( duration, fn2 )
    .animate( ..., fn3 );
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 10, 2011 09:11PM UTC by <span class="author">trusktr</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I agree scott.gonzales: my example was very simple for the sole purpose of showing how it&#39;d work. Of course, in a more realistic situation, you&#39;d be calling .delay() amidst a chain of multiple jQuery animations where in the middle of this chain you might need to call a function that has no duration time associated with it but wherein you would still need a padding of time around that said function. This would come in handy when you want to pad .css(), .remove(), .append(), or any other durationless methods/functions with time.&#92;
&#92;
I&#39;m guessing that using .delay() incorporates javascript&#39;s native setTimeout() somewhere in the source code, right?&#92;
&#92;
I guess the feature I&#39;m asking for would do nothing more than the exact same thing you are doing when you use .queue() and .dequeue() like in my example above. It would be identical to the functionality of jQuery animations that use a &quot;complete&quot; parameter to launch functions only &#39;&#39;after&#39;&#39; animations are complete. In the case of .delay(), the animation is an animation-less animation that acts on nothing, but it still has a duration.&#92;
&#92;
All in all, it&#39;d be a simple way to type a few less characters, while maintaining the same exact functionality as animated methods that wait the &#39;&#39;duration&#39;&#39; of their respective animations to execute the next function.&#92;
&#92;
Taking into account the time it took to type this reply, and if this feature request (enhancement) gets approved, then it&#39;d be cool to know my time spent on this would save thousands of developers a few seconds each time they need to queue custom functions with a time delay, which would happen most often when they need to compensate for previous animations where the duration of said animations are known in order to execute functions that don&#39;t normally queue themselves to the queue.</span> → <span class="change-field-new">1299791562217270</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>I agree scott.gonzales: my example was very simple for the sole purpose of showing how it'd work. Of course, in a more realistic situation, you'd be calling .delay() amidst a chain of multiple jQuery animations where in the middle of this chain you might need to call a function that has no duration time associated with it but wherein you would still need a padding of time around that said function. This would come in handy when you want to pad .css(), .remove(), .append(), or any other durationless methods/functions with time.</p><p>ajpiano, I'm guessing that using .delay() incorporates javascript's native setTimeout() somewhere in the source code, right?</p><p>I guess the feature I'm asking for would do nothing more than the exact same thing you are doing when you use .queue() and .dequeue() like in my example above. It would be identical to the functionality of jQuery animations that use a "complete" parameter to launch functions only ''after'' animations are complete. In the case of .delay(), the animation is an animation-less animation that acts on nothing, but it still has a duration.</p><p>All in all, it'd be a simple way to type a few less characters, while maintaining the same exact functionality as animated methods that wait the ''duration'' of their respective animations to execute the next function.</p><p>Taking into account the time it took to type this reply, and if this feature request (enhancement) gets approved, then it'd be cool to know my time spent on this would save thousands of developers a few seconds each time they need to queue custom functions with a time delay, which would happen most often when they need to compensate for previous animations where the duration of said animations are known in order to execute functions that don't normally queue themselves to the queue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2011 07:08PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We looked at this proposal for 1.6, but the consensus was against landing this.  We appreciate the time you took to put this together, but it introduces complexity and obscures around the fact that sometimes, using native <a href="/wiki/JavaScript">JavaScript</a> methods (setTimeout) or a plugin (like <a href="http://benalman.com/projects/jquery-dotimeout-plugin/" class="ext-link"><span class="icon"></span>doTimeout</a> is a better solution than us adding functionality directly to jQuery core.  </p><p>(FYI, delay does use setTimeout internally.)</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
