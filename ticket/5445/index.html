<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5445 (position() returns wrong value in Safari when margin: 0 auto;) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5444/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5446/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#5445</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened November 03, 2009 02:00PM UTC</p>
      
        <p>Closed October 06, 2010 02:29AM UTC</p>
      
      
        <p>Last modified March 10, 2012 10:46AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">position() returns wrong value in Safari when margin: 0 auto;</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        repthe415
      </td>
      <th>Owned by:</th>
      <td>brandon</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4">1.4</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>dimensions</td>
      
        <th>Version:</th>
      
      <td>1.3.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>position</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Expierenced problems with the position() function when:</p><p>&lt;div id="page" style="width: 900px; margin: 0 auto;&gt;</p><p>  &lt;div id="field" style="width; 800; margin: 0 auto; position: relative; text-align:left;"&gt; CONTENT &lt;/div&gt;</p><p>&lt;/div&gt;</p><p>trying to get info from $("#field").position().left. This is returning the left position of the parent element #page and not #field. Only occured under Safari Mac, was good on Chrome, Firefox and IE. Setting a fixed margin helps solving this problem but not fixing the behavior of .position() This might occur on other browsers and systems.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (6)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2010 02:29AM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If you take a look at your code (specifically your width being set for the field) you'll notice that you have a syntax error that can prevent browsers from correctly reading in the width of the field. If you correct this and provide field with the width 800px, you will see that Safari, Chrome, <a href="/wiki/FireFox">FireFox</a> etc are all able to provide individual values for both the page position().left value and the field position().left value.</p><p>Live test case: <a href="http://jsbin.com/opife3/edit" class="ext-link"><span class="icon"></span>http://jsbin.com/opife3/edit</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 16, 2010 04:00PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>this not work for me.</p><p>&lt;div id="midiv"&gt;</p><p>&lt;img id="myimg"&gt;&lt;/img&gt;</p><p>&lt;/div&gt;</p><p>style:</p><p>#mydiv{</p><p>width: 100%; height: 100% position:absolute; top:0; left:0;</p><p>}</p><p>#myimg{</p><p>display: block;</p><p>height: 100%;</p><p>width: auto;</p><p>margin: 0 auto;</p><p>}</p><p>and when i try to show alert( $("#myimg").position().left );</p><p>this return to me with value = 0.</p><p>I need to know the position of the image that is aligned to center with margin auto!¡</p><p>The problem is only in safari web browser. Firefox and Ie work fine.</p><p>Thanks.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 23, 2010 10:03PM UTC by <span class="author">sriolo@raptus.com</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>i have the same problem. this bug is on chrome too. maybe a problem with webkit?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 24, 2010 08:41AM UTC by <span class="author">jitter</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:2 anonymous]:</p><blockquote> this not work for me.</blockquote><p>Replying to [comment:3 sriolo@…]:</p><blockquote> i have the same problem. this bug is on chrome too. maybe a problem with webkit?</blockquote><p>The jQuery bug tracker is not for support requests. Please use the <a href="http://forum.jquery.com" class="ext-link"><span class="icon"></span>jQuery Forum</a> for support requests.</p><p>Unless you can be more specific what the bug should be and provide a working test case on <a href="http://jsfiddle.net." class="ext-link"><span class="icon"></span>http://jsfiddle.net.</a> <a href="http://docs.jquery.com/How_to_Report_Bugs" class="ext-link"><span class="icon"></span>How to report bugs</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 31, 2011 02:41PM UTC by <span class="author">vbilenko</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">This bug should be open.&#92;
I have the same error.&#92;
This exaple:&#92;
[http://jsbin.com/opife3/edit] &#92;
returns wrong values for Safari browser.&#92;
&#92;
In any case offset() can be used instead position().</span> → <span class="change-field-new">1296484927772190</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">This bug should be open.[[BR]]&#92;
I have the same error.[[BR]][[BR]]&#92;
&#92;
This exaple:[[BR]]&#92;
[http://jsbin.com/opife3/edit] [[BR]]&#92;
returns wrong values for Safari browser.[[BR]]&#92;
[[BR]]&#92;
In any case offset() can be used instead position().</span> → <span class="change-field-new">1296484949978025</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>This bug should be open.</p><p>I have the same error.</p><p>This exaple:</p><p><a href="http://jsbin.com/opife3/edit" class="ext-link"><span class="icon"></span>http://jsbin.com/opife3/edit</a> </p><p>returns wrong values for Safari browser.</p><p>In any case offset() can be used instead position().</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 07, 2011 12:02AM UTC by <span class="author">Yannis</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>THE ISSUE: I just came across the same issue and I figured out what is going on. The problem is on how webkit based browsers render/interpret the CSS box model in this particular case.</p><p>TEST CASE: </p><p>Here is a simple test case for illustrating the difference in reported position().left and css("marginLeft") values between webkit and other rendering engines.    <a href="http://jsfiddle.net/6Nexn/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/6Nexn/3/</a> </p><p>DESCRIPTION:</p><p>When an element's left and right margins are set to "auto" in order to center it horizontally as in the test case, Firefox and IE8 report position().left equal to the distance from the edge of the container and css("marginLeft") "auto" (IE8) or "0px" (Firefox). In contrast, webkit (tested on safari5 winXP) reports them the other way around, that is, position().left==0 and css("marginLeft") equal to the distance from the container's edge. This is clearly a browser difference on how they handle margins set to "auto" and not a bug on jquery's end. It will be good though if it can be managed transparently by jquery so that the user does not have to handle this exception in browser behaviour.</p><p>POSSIBLE SOLUTION:</p><p>This is not a generic solution but rather a domain specific solution which I used for the purposes of the project I met this issue on. Using  </p><p>    leftValue = parseInt($('#inner').css("marginLeft")) + </p><p>                $('#inner').position().left;</p><p>is a simple approach that worked for my purposes giving me a cross-browser consistent value. However, a more elaborate approach should be taken for a generic solution within jquery.</p><p>Thanks.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
