<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#1726 (Flashing bug in slideUp/Down in Internet Explorer 7) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/1725/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/1727/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#1726</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened September 25, 2007 09:40AM UTC</p>
      
        <p>Closed February 05, 2008 10:17PM UTC</p>
      
      
        <p>Last modified March 15, 2012 12:12AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Flashing bug in slideUp/Down in Internet Explorer 7</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        StevenTyler
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.2.2">1.2.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>effects</td>
      
        <th>Version:</th>
      
      <td>1.2.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The sliding component flashes the whole of itself right before  slideDown() starts, and right before slideUp() finishes. Which browser? Only in Internet Explorer! Surprised?</p><p>Code:</p><p>&lt;script type="text/javascript" src="../js/jquery-1.2.js"&gt;&lt;/script&gt;</p><p>&lt;script type="text/javascript"&gt;</p><p>var open = false;</p><p>$(document).ready(function() {</p><p>	$('#har').click(function() {</p><p>		if (open) {</p><p>			$('#ok').slideDown(1000);</p><p>			open = false;</p><p>		} else {</p><p>			$('#ok').slideUp(1000);</p><p>			open = true;</p><p>		}</p><p>	});</p><p>});</p><p>&lt;/script&gt;</p><p>&lt;div style="height:100px; width:200px; background: yellow" id="ok"&gt;</p><p>HEY!</p><p>&lt;br/&gt;&lt;br/&gt;</p><p>if you think users aren’t able to discern between their preview, then you </p><p>&lt;/div&gt;</p><p>&lt;br/&gt;</p><p>&lt;input type="button" value="CLICK" id="har"/&gt;</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (2)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/1726/1726.diff/index.html">1726.diff</a> (0.9 KB) - added by davidserduke
        <strong>October 05, 2007 05:12PM UTC</strong>.<br>
        
      </li>
    
      <li>
        <a href="/attachment/ticket/1726/test.html/index.html">test.html</a> (19.9 KB) - added by pixelwiz
        <strong>February 05, 2008 07:56PM UTC</strong>.<br>
        <p>Code for the file that has the problem</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 27, 2007 06:29PM UTC by <span class="author">brandon</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">The sliding component flashes the whole of itself right before  slideDown() starts, and right before slideUp() finishes. Which browser? Only in Internet Shithole Explorer! Surprised?&#92;
&#92;
Code:&#92;
&#92;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/jquery-1.2.js&quot;&gt;&lt;/script&gt;&#92;
&#92;
&lt;script type=&quot;text/javascript&quot;&gt;&#92;
&#92;
var open = false;&#92;
&#92;
$(document).ready(function() {&#92;
	$(&#39;#har&#39;).click(function() {&#92;
		if (open) {&#92;
			$(&#39;#ok&#39;).slideDown(1000);&#92;
			open = false;&#92;
		} else {&#92;
			$(&#39;#ok&#39;).slideUp(1000);&#92;
			open = true;&#92;
		}&#92;
	});&#92;
});&#92;
&#92;
&lt;/script&gt;&#92;
&#92;
&lt;div style=&quot;height:100px; width:200px; background: yellow&quot; id=&quot;ok&quot;&gt;&#92;
HEY!&#92;
&lt;br/&gt;&lt;br/&gt;&#92;
if you think users aren’t able to discern between their preview, then you &#92;
&lt;/div&gt;&#92;
&#92;
&lt;br/&gt;&#92;
&#92;
&lt;input type=&quot;button&quot; value=&quot;CLICK&quot; id=&quot;har&quot;/&gt;</span> → <span class="change-field-new">The sliding component flashes the whole of itself right before  slideDown() starts, and right before slideUp() finishes. Which browser? Only in Internet Explorer! Surprised?&#92;
&#92;
Code:&#92;
&#92;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/jquery-1.2.js&quot;&gt;&lt;/script&gt;&#92;
&#92;
&lt;script type=&quot;text/javascript&quot;&gt;&#92;
&#92;
var open = false;&#92;
&#92;
$(document).ready(function() {&#92;
	$(&#39;#har&#39;).click(function() {&#92;
		if (open) {&#92;
			$(&#39;#ok&#39;).slideDown(1000);&#92;
			open = false;&#92;
		} else {&#92;
			$(&#39;#ok&#39;).slideUp(1000);&#92;
			open = true;&#92;
		}&#92;
	});&#92;
});&#92;
&#92;
&lt;/script&gt;&#92;
&#92;
&lt;div style=&quot;height:100px; width:200px; background: yellow&quot; id=&quot;ok&quot;&gt;&#92;
HEY!&#92;
&lt;br/&gt;&lt;br/&gt;&#92;
if you think users aren’t able to discern between their preview, then you &#92;
&lt;/div&gt;&#92;
&#92;
&lt;br/&gt;&#92;
&#92;
&lt;input type=&quot;button&quot; value=&quot;CLICK&quot; id=&quot;har&quot;/&gt;</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>summary:</th>
                  <td>
                    
                      <span class="change-field-old">Flashing bug in slideUp/Down in Internet Fuckin Explorer 7</span> → <span class="change-field-new">Flashing bug in slideUp/Down in Internet Explorer 7</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 02, 2007 04:39AM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think this is a quirksmode only issue.  If you add a DOCTYPE to this example it will work.  The problem comes when the style.height = "0px".  In quirksmode (for both IE6 and IE7), it appears to decide the height should be shown as the minimum where all the contents of the div can be shown.  </p><p>The solution appears to be to change jQuery.fx.prototype.custom such that the 'from' and 'to' parameters are never 0 for quirksmode but rather 1.</p><pre class="wiki">
custom: function(from, to, unit) {
  if (isQuirksmode) {
    if (!from) from = 1;
    if (!to) to = 1;
  }
</pre><p>Worth it?  I don't know but I figured I'd pass on what I found.  I haven't tested for any additional side effects.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 02, 2007 05:02AM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well I just thought of at least one negative side effect for when the units aren't px.  A '1em' could be pretty big for example.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 05, 2007 11:09AM UTC by <span class="author">catch</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I can confirm this is present in IE6 and IE7 in jQuery 2.1 with a transitional doctype - I reproduced the behaviour reported here: </p><p><a href="http://groups.google.com/group/jquery-dev/browse_thread/thread/85c2d334fae35d85" class="ext-link"><span class="icon"></span>http://groups.google.com/group/jquery-dev/browse_thread/thread/85c2d334fae35d85</a></p><p><a href="http://sd-5269.dedibox.fr/temp/jquery/bug114T.html" class="ext-link"><span class="icon"></span>http://sd-5269.dedibox.fr/temp/jquery/bug114T.html</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 05, 2007 04:34PM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ahh I hadn't tested transitional, just strict and quirks.  Great test cases by the way.  In the end, it was the same problem.  Since it was quirks AND transitional I did some more digging.  As near as I can tell, when using fx.show() and fx.hide() the units can only be "px" so instead of patching fx.custom() it looks like patching fx.show() and fx.hide() is the way to go.  It seemed to work fine starting and ending at 1 instead of 0 for all browsers I tested (IE6/7, FF2, Opera 9) so it doesn't have to be special cased.  </p><p>The only issue I can see here is if someone uses fx.custom() directly then it might flash if they start it at zero.  It might be something that should be covered in documentation instead of code though.  </p><p>I attached a patch with the changes.  Any help testing the millions of possible situations to make sure the bug is really fixed and it didn't mess up anything else would be great.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 05, 2007 06:52PM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ack, nevermind all that.  The transitional doctype was incorrect in the test case (missing "http://www.w3.org/TR/html4/loose.dtd" at the end).  Thus it really was still in quirksmode.  Thank Brandon for pointing that out.  </p><p><a href="http://groups.google.com/group/jquery-dev/browse_thread/thread/5feeb8d6f869cc30" class="ext-link"><span class="icon"></span>http://groups.google.com/group/jquery-dev/browse_thread/thread/5feeb8d6f869cc30</a></p><p>So this is back to an IE quirksmode only bug.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 19, 2007 12:06AM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The official position stated in the above thread is "Right now we are not really supporting fx in quirks mode." so I'm closing this bug.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 05, 2008 07:57PM UTC by <span class="author">pixelwiz</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi,</p><p>I am having this exact problem with a menu I created in IE6.  When it is expanded <a href="/wiki/SlideDown">SlideDown</a>('Slow'), or <a href="/wiki/SlideUp">SlideUp</a>('Slow'), before and after it's done moving there is a flash on the screen in Internet Explorer 6.  In Firefox 1.0.7 it's not as apparent, but the links inside the menu blink very briefly, but it's not nearly as apparent.  I've tried different DOCTYPE declaration, and everyone I tried has the same problem.  How do I get around this problem?</p><p>I attached the test.html code with the problem</p><p>-Roman</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 05, 2008 10:17PM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>That test case is running in Quirks mode (which is no longer supported for jQuery effects).  Try loading it and running in the address bar:</p><p>javascript:alert(document.compatMode);</p><p>and it will alert "BackCompat".</p><p>The problem is you have something before the DOCTYPE declaration.  If you remove the first 4 lines and put them in the &lt;body&gt; element (where they should probably be anyway?) such that the DOCTYPE is on the very first line of the html file then when you reload and check the document.compatMode it will show "CSS1Compat" and will no longer blink the way this ticket mentions.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 20, 2010 05:45PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Try: animate the height to 1, then hide (if it is text in a div, make sure the div has style of 'overflow:hidden') and it should work.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 20, 2011 06:45PM UTC by <span class="author">cl_liu@30web.com</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:13 anonymous]:</p><blockquote> Try: animate the height to 1, then hide (if it is text in a div, make sure the div has style of 'overflow:hidden') and it should work.</blockquote><p>Yep this works:</p><p>divLinked.animate({height: '1px'}, 300, 'swing', function(){</p><p>			divLinked.hide();</p><p>			divLinked.css('height', '');</p><p>		});</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
