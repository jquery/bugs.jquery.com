<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9036 ($(..).hide(XX) -- unexpected behavior for elem with either 0px width or height) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9035/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9037/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9036</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened May 01, 2011 06:39AM UTC</p>
      
        <p>Closed May 02, 2011 02:08AM UTC</p>
      
      
        <p>Last modified March 14, 2012 05:09AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">$(..).hide(XX) -- unexpected behavior for elem with either 0px width or height</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        shadedecho
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>effects</td>
      
        <th>Version:</th>
      
      <td>1.5.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p><a href="http://test.getify.com/test-jqhide-bug.html" class="ext-link"><span class="icon"></span>http://test.getify.com/test-jqhide-bug.html</a></p><p>If an element either has a 0px width or height (or both), but it has contents that are visible (via overflow), the expectation would be that the element would still have some sort of reasonable hiding behavior, such as the alpha fading.</p><p>However, by virtue of the fact that clipping occurs immediately, all the contents are hidden (since the 0px width or height will show nothing if overflow:hidden is applied) immediately, effectively making any smooth animation (of alpha) of the hiding of the element moot.</p><p>So, I would request one or more of the following:</p><p>1. jQuery *not* apply the clipping to an element (and thus not do the animation of the width/height shrinking) if either dimension of the element is already 0px. By not applying the <code>overflow:hidden</code> clipping, it would leave the alpha animation hiding to still work, which I think is the most default expectation.</p><p>2. Change the .hide() method to allow some option/param to tell jQuery not to try and animate the dimensions (only the alpha), and thus not apply the <code>overflow:hidden</code> clipping.</p><p>3. Have jQuery discover the actual overflow dimensions of the element, first change the dimensions to match that measurement, and THEN do the animated hiding.</p><p>4. Add some note to the documentation for .hide(), in the section where it talks about width/height being animated during hide, to call out the fact that an element with smaller dimensions that its visible content (even 0px) will get clipped immediately (not animated), and the result can be either partial or full hiding of the content immediately, without animation.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 02:08AM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">effects</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ needsdocs</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hiding the overflow is required for animation to run smoothly.  And discovering the overflow dimensions would be far too costly.  If you fix the dimensions of the element you are hiding, the animation will run smoothly.  This occurs most often when you have floated elements within the element you are animating.  There are several resources for doing a <a href="http://www.google.com/search?q=clearfix" class="ext-link"><span class="icon"></span>clearfix</a> so that the dimensions of the main element are automatically fixed without having to set them manually.  Nevertheless, we could add a note in the documentation clarifying that hidden overflow occurs.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 04:20AM UTC by <span class="author">shadedecho</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>There are legitimate, if a bit niche, reasons why an element would have a 0px dimension, while taking advantage of its ability to still show content via its overlay. For instance, I use the technique of centering a position:fixed element by having a container div of 0x0 dimensions, which is fixed at 50%/50% (direct center of viewport), and then I locate elements (like modal popins, ajax loading spinner messages, etc) inside that container, so that those elements appear relative to the full center of the viewport, in a 'fixed' fashion regardless of scrolling or browser window changing.</p><p>In any case, I think it's inappropriate to say "just *fix* your dimensions", because it's not a mistake, it's intentional that my element has 0px dimensions. And even if it had 1x1 dimensions (still centerable in the viewport), the overflow:hidden clipping that is applied would still hide my content immediately rather than in a graceful animated way.</p><p></p><hr><p></p><p>Moreover, I do not understand why my <a href="/ticket/1">#1</a> suggestion above couldn't easily be done? Just simply detect if an element has either 0px width or height, and just don't do the animating of its width/height in that case, instead ONLY do the animating of the alpha. You surely don't need the overflow:hidden clipping to animate the alpha in the hide effect.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 04:47AM UTC by <span class="author">shadedecho</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>FYI: Another example, which I've done a few times, is to have a 0x0 dimension container, not position:fixed, but position:absolute, which has several elements positioned inside it that are visible (like parts of a game character avatar, etc), and animating the whole collection of elements by changing the position/rotation of only the container. By having the container be 0x0 in size, it effectively makes it easy to create a different "registration point" for coordinates mapping, which makes coding things like moving an object around by its center coordinate, rotating it, etc, MUCH easier.</p><p>In any case, if I have a 0x0 dimension container, with perfectly valid and visible elements inside it, and I say <code>hide(300)</code> on that container, my expectation would be that it could animate the alpha of the container to 0 (thus hiding everything inside it too), without BEING REQUIRED to also animate the width/height of the container (which is what creates the problem).</p><p>Sure, I could accomplish this with a custom animation effect. But the point is, why couldn't <code>hide()</code> simply not animate the dimensions if either dimension is already 0? There's no sensible reason for <code>hide()</code> to try to animate the dimensions if one is already 0, because ostensibly, that element (its children elements notwithstanding) isn't really "visible" anyway, and certainly animating from 0 down to 0 is silly.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 02:16PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I did not mean to insult.  I simply provided the solution for what I thought was the most common use case for when this occurs.  Your first solution would not be plausible because show and hide not only animate width and height, but opacity as well.  In order to animate opacity, filters must be used as you said in IE6-8.  In IE6-7, applying any filter results in the same effect as overflow:hidden.  So at least in order to provide consistency, we must do overflow:hidden in all browsers.  If we were to detect a width or height of zero, it would not really help you with the animation.  You would get exactly the same effect in IE6-7 whether we do the overflow or not, and even if we didn't animate opacity, what you would see is a pause for whatever the duration is, then an immediate hide just as before.  This is a feature creep.  You can easily write your own custom animation, but animating opacity is not an option for IE6-7 when you have overflow.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 02:49PM UTC by <span class="author">shadedecho</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>OK, that's fine information, that IE6 and 7 wouldn't have smooth opacity animation in my use case. I didn't know that.</p><p>But IE 8 and 9, and every other modern browser on the planet, WOULD have smooth opacity animation in this case, right? I mean, *I* frankly don't care that much that IE6 and 7 would be slightly less graceful, if everyone else could benefit from the more smooth opacity animation.</p><p>And isn't this a perfect use-case argument for "progressive enhancement" (or "graceful degradation")? By definition, we have a case here where very old browsers can't get the smooth animation, but can at least get the full-stop hiding (the most important part), and *all other modern (or even remotely modern) browsers* can get a more "enhanced" experience with the animation of the opacity.</p><p>I recognize that I could write my own animation easily. I could also hack my copy of the jquery source code to make <code>hide(XX)</code> do the more sensible thing. That's not really the point of this ticket.</p><p>The point of this ticket is that there's a case where a more sensible thing could (fairly easily) be done with <code>hide(XX)</code>, for all modern browsers (and would only fail to be sensible in really old browsers like IE6 and 7). But even in that "failure case", the important part, the hiding, would still work just fine.</p><p>So I don't see the downside in this being an example of progressive enhancement baked into jQuery, to make <code>hide(XX)</code> more sensible, other than maybe a half-dozen extra lines of code at the most?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 03:07PM UTC by <span class="author">shadedecho</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>To be clear, the "algorithm" I'm suggesting is this:</p><p>1. upon a call of <code>hide(XX)</code> on an element, detect if the element has either 0px width or height</p><p>2. if both are non-zero dimensions, continue as would normally be done</p><p>3. if either are 0px, do NOT apply the <code>overflow:hidden</code> cropping, do NOT do any animating of the dimensions, and simply do an animation of the opacity ONLY.</p><p>4. for IE6 and 7, the animation of opacity won't work, because the filter will automatically and immediately crop the content. Note this in the documentation as a "graceful degradation" for old IE6 and IE7.</p><p>5. alternatively, ONLY for IE6 and IE7 in the 0px dimension case, go ahead and apply the <code>overflow:hidden</code>, just for completeness sake. But only for IE6 and 7.</p><p>Other than you claiming this is "feature creep" or just an ignorable "corner case", what's the downside to that approach?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 04:03PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well, I do think this is a feature creep and an edge case that should not be included in core.  Nevertheless, right now it is consistent.  Treating IE6/7 differently would break that consistency.  I understand wanting to eventually veer away from IE6/7 (believe me I love the idea of progressive enhancement), but their market shares are still too high.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 02, 2011 04:20PM UTC by <span class="author">shadedecho</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It's true, you do have consistency: consistenly broken for my types of use-cases. I'm suggesting that other than IE6/7, you *could* improve things for all other browsers, such that modern browsers wouldn't be broken anymore.</p><p>Breaking consistency is justifable if it's creating an improvement as a positive outcome for more modern browsers (while not making things worse for older browsers)... which is *exactly* what this would be.</p><p>And if you want to talk about "feature creep", IMHO whoever specified that <code>hide(XX)</code> should animate the dimensions in the first place was guilty of that. <code>hide(XX)</code> in the core should only have ever been about hiding the element with opacity animation... doing the dimension animation should always have been an additional custom effect, not the default (and non-overridable).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 24, 2011 07:06AM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">needsdocs</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Updated: <a href="http://api.jquery.com/animate/" class="ext-link"><span class="icon"></span>http://api.jquery.com/animate/</a> We should probably also cross-reference with .hide()</p>
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
