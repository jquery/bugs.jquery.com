<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11983 (Inconsistent change event on file inputs on IE) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11982/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11984/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11983</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(cantfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened June 28, 2012 08:17AM UTC</p>
      
        <p>Closed July 03, 2012 05:07PM UTC</p>
      
      
        <p>Last modified July 04, 2012 07:32AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Inconsistent change event on file inputs on IE</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        ( axl ) ( dot ) ( ayco ) ( at ) ( gmail ) ( dot ) ( com )
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.7.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>ie6 ie7</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Hi guys.</p><p>I'm working with jQuery 1.7.2 and its wonderful event binding methods, and I came across a bug.</p><p><a href="http://jsfiddle.net/t9qrQ/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/t9qrQ/2/</a></p><p>First of all we assign a change event to an input type=file (with the on method, delegation way). Then if I open the file dialog and select a file the change event triggers the right way. But if I trigger the click for the input, the file dialog opens but no change event is fired.</p><p>THIS ONLY HAPPENS ON IE7/8</p><p>Could not test on IE6</p><p>Works ok on IE9</p><p>Works ok on Chrome</p><p>Works ok on FF 13</p><p>When I tested on FF 3.6 I found that the .click() didn't open the file dialog, so it may be another bug there...</p><p><a href="http://jsfiddle.net/t9qrQ/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/t9qrQ/2/</a></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 29, 2012 08:19AM UTC by <span class="author">( axl ) ( dot ) ( ayco ) ( at ) ( gmail ) ( dot ) ( com )</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I discovered that this only happens when I open the input type=file with the jQuery .click() method, not with the browser .click().</p><p>I updated the test case : <a href="http://jsfiddle.net/t9qrQ/4/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/t9qrQ/4/</a></p><p>You can take a look at my other bug submission: <a href="http://bugs.jquery.com/ticket/11991" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/11991</a></p><p>Both are about not perfect behavior of the jQuery .click() method, but remember that this ticket isonly related to IE 7/8, and my other ticket is about all browsers.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 29, 2012 09:20AM UTC by <span class="author">( axl ) ( dot ) ( ayco ) ( at ) ( gmail ) ( dot ) ( com )</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I discovered which is the behavior of IE more concisely and I'm freaking...</p><p>If I click the input type=file with my mouse, the change event begins working, later if I do browser .click() or jquery .click() the change event keeps working ok.</p><p>If I begin with browser .click() or jquery .click() the change event won't fire. If then I click with the mouse the change event gets activated, and if then I do browser .click() or jquery .click() (AFTER CLICKING ALMOST ONE TIME WITH THE MOUSE) the change event keeps working.</p><p>Conclusions: </p><ul><li>input type=file onChange events won't work on IE7/8 until the user manually clicks the input with his mouse almost once, javascript virtual clicks won't mind.</li></ul><ul><li>this ticket is not related anymore to <a href="http://bugs.jquery.com/ticket/11991" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/11991</a></li></ul><ul><li>this is obvioulsy a bug on IE7/8, so:</li>    <li>this shouldn't then be considered a bug submission, but a feature request</li>    <li>could jQuery developers create a workaround for this IE bug? I'm thinking about that at this time and I can't imagine how a javascript library could fix that implementation failure. </li></ul><p>In my case, I fixed my web app by coding a conditional event:</p><p>($.browser.msie&&parseInt($.browser.version)&lt;9)? "click": "change"</p><p>var callback = function(){ /* true code here */}</p><p>($.browser.msie&&parseInt($.browser.version)&lt;9)? setTimeout(callback, 0): callback();</p><p>but this isn't unacceptable for the core code...</p><p>Any ideas?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 03, 2012 05:07PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ cantfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>There's really no way to fix or fake this. IE doesn't provide the information we need. As you said in the last comment there may be ways for app code to work around the issue, but they're not sufficiently general or consistent that we could include them into core.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 03, 2012 05:07PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ ie6 ie7</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 04, 2012 07:32AM UTC by <span class="author">( axl ) ( dot ) ( ayco ) ( at ) ( gmail ) ( dot ) ( com )</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I suggest adding keywords IE8, and perhaps input file and change.</p><p>I wanna add that I read somewhere that the change event on input type files on IE can be replaced by "onPropertyChange", but I couldn't get it to work. could you be intrested in trying it? Maybe if works can suit the consistency requirements for core code, but just a suggestion. Maybe you have already tried that.</p><p>Best regards.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
