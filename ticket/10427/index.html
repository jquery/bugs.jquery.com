<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#10427 (Creating custom elements is broken on IE7 and 8 using $(&amp;#39;&amp;lt;...&amp;gt;&amp;#39;).) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/10426/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/10428/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#10427</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened October 05, 2011 02:16PM UTC</p>
      
        <p>Closed January 02, 2012 05:25PM UTC</p>
      
      
        <p>Last modified January 30, 2012 03:10PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Creating custom elements is broken on IE7 and 8 using $(&#39;&lt;...&gt;&#39;).</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        bmustiata
      </td>
      <th>Owned by:</th>
      <td>rwaldron</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/"></a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>manipulation</td>
      
        <th>Version:</th>
      
      <td>1.7b1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>1.8-discuss</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p><strong>Fiddle test case</strong>: <a href="http://jsfiddle.net/nmfCy/1/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/nmfCy/1/</a></p><p><strong>Proposed Patch</strong>: <a href="http://download.androidknight.com/jquery-custom-elements-1.6.4.patch" class="ext-link"><span class="icon"></span>http://download.androidknight.com/jquery-custom-elements-1.6.4.patch</a></p><p><strong>Full-Original</strong>: <a href="http://download.androidknight.com/jquery-1.6.4-original.js" class="ext-link"><span class="icon"></span>http://download.androidknight.com/jquery-1.6.4-original.js</a></p><p><strong>Full-Patched</strong> : <a href="http://download.androidknight.com/jquery-1.6.4-patched.js" class="ext-link"><span class="icon"></span>http://download.androidknight.com/jquery-1.6.4-patched.js</a></p><p><strong>Description</strong>.</p><p>The expected nodes to be added is:</p><p>&lt;customelement&gt;</p><p>However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:</p><p>&lt;customelement&gt;</p><p>   and</p><p>&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,</p><p>and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.</p><p>This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: <a href="http://jsfiddle.net/nmfCy/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/nmfCy/2/</a>).</p><p>To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.</p><p>However, if we create the same element with document.createElement('customelement') and we append this one to the DOM, we can add children elements into it.</p><p>The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).</p><p>The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (20)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 05, 2011 02:41PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for your time and interest in helping out the jQuery project - you're right that this is a big issue, and a high priority one for us to solve.  However, we already did that, and it's already available in the jQuery 1.7 beta.  Given your interest in this issue, we'd appreciate your taking that for a spin.  Thanks!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 05, 2011 02:41PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Duplicate of <a href="/ticket/6485">#6485</a>.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2011 09:14AM UTC by <span class="author">bmustiata</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If I may, I think this issue should be reopened to really support unknown elements for IE7/8. The problem is that the current implementation has ''a list of unknown'' elements.</p><p>This causes in my view (at least) two problems:</p><p>1. If tomorrow html5 decide to add a new element, old versions of the applications that use the current jQuery version will suddenly stop working until they upgrade their jQuery, and for any new element this list must be upgraded.</p><p>2. This approach also doesn't allow custom elements to be created that are not (and will never be) part of HTML5. We are actually using this in an application, where we create custom rendered metadata nodes on the fly (we receive them via AJAX). Elements are things like &lt;loop&gt;, &lt;metatarget&gt;, etc.</p><p>I am currently working on a fork where I try to allow creation of completely unknown elements, because currently (in the 1.7 beta):</p><p>jQuery('&lt;customelement&gt;some content&lt;/customelement&gt;');</p><p>has a different outcome in IE8 than in IE9 (or any other decent browser).</p><p>I hope you find these requirements acceptable for reopening this. (since HTML5 support is implemented, and only custom elements are not working).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2011 01:08PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">manipulation</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ 1.8-discuss</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">None</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2011 01:08PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>version:</th>
                  <td>
                    
                      <span class="change-field-old">1.6.4</span> → <span class="change-field-new">1.7b1</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 06, 2011 01:13PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Reopening for inclusion in 1.8 features discussion - it's too late and this feature is too different than HTML5 support for this to be included in 1.7.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 12:26AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Marking as valid to get it out of the unreviewed bugs list. IMO we should only support heroic measures for HTML5 tags, as we do now in 1.7.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 01:20AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@dmethvin I'm not sure it behooves us to try to support all magic.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 01:31AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>what if the list of shiv'd elements had a fixHooks-esque accessible list for users to add more elements beyond the HTML5 set, but sparing us the possibility of shving on the fly?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 01:58AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Based on @ajpiano's idea <a href="https://github.com/rwldrn/jquery/pull/new/10427" class="ext-link"><span class="icon"></span>https://github.com/rwldrn/jquery/pull/new/10427</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 02:04AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>just kidding. that won't work. back to the drawing board.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 09:14AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@ajpiano: Should be fine with adding them via hooks.</p><p>Thus based on @ajpiano's and @rwaldron's idea: <a href="https://github.com/jquery/jquery/pull/533" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/pull/533</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 01:31PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ rwaldron</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 04:18PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span> → <span class="change-field-new">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+0</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 06:17PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span> → <span class="change-field-new">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>-1, HTML5 defines the tags we need to support. Adding custom tags smells like an ad-hoc attempt at parsing arbitrary XML using IE's tag-soup parser. Use a supported format like JSON instead.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 14, 2011 01:26AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span> → <span class="change-field-new">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+0, I'll punt to rwaldron on this one.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 14, 2011 04:08PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>-1, I'd rather follow spec</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 19, 2011 05:32PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span> → <span class="change-field-new">&#39;&#39;&#39;Fiddle test case&#39;&#39;&#39;: [http://jsfiddle.net/nmfCy/1/]&#92;
&#92;
&#39;&#39;&#39;Proposed Patch&#39;&#39;&#39;: http://download.androidknight.com/jquery-custom-elements-1.6.4.patch&#92;
&#92;
&#39;&#39;&#39;Full-Original&#39;&#39;&#39;: [http://download.androidknight.com/jquery-1.6.4-original.js]&#92;
&#92;
&#39;&#39;&#39;Full-Patched&#39;&#39;&#39; : [http://download.androidknight.com/jquery-1.6.4-patched.js]&#92;
&#92;
&#39;&#39;&#39;Description&#39;&#39;&#39;.&#92;
The expected nodes to be added is:&#92;
&lt;customelement&gt;&#92;
&#92;
However in IE7/8 (IE9 works fine) two elements get created after innerHtml is set:&#92;
&lt;customelement&gt;&#92;
   and&#92;
&lt;/customelement&gt; (!!) - yes, with the beginning slash character as tagName,&#92;
&#92;
and all the content that should belong in the &lt;customelement&gt; is now a sibling living between the two elements.&#92;
&#92;
This needs to work, since the HTML5 elements do match the criteria of unknown elements, and creating them programatically now breaks the DOM structure in IE7/8 (same example but with a canvas element instead: [http://jsfiddle.net/nmfCy/2/]).&#92;
&#92;
To make matters worse the added elements (via innerHtml) are unknown html elements, that do not allow creating child elements into them.&#92;
&#92;
However, if we create the same element with document.createElement(&#39;customelement&#39;) and we append this one to the DOM, we can add children elements into it.&#92;
&#92;
The given patch adds the check for custom elements support, and if it does not exists, it then attempts to find and fix the eventually broken newly created custom elements (in the clean method).&#92;
&#92;
The patch was tested against IE7, IE8, IE9, Chrome 14.0 and Firefox 7.0.1.</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+0, I want to revisit this and all the test cases involved.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 02, 2012 05:25PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is no longer valid. The latest version of html5shim actually builds support into document.createElement directly.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 30, 2012 03:10PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">1.8</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
