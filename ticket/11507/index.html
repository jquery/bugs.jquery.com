<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11507 ($(document).ready() does not work with Internet Explorer 8 any more) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11506/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11508/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11507</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened March 22, 2012 10:53PM UTC</p>
      
        <p>Closed March 30, 2012 01:41PM UTC</p>
      
      
        <p>Last modified March 30, 2012 09:47PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">$(document).ready() does not work with Internet Explorer 8 any more</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        Umanu
      </td>
      <th>Owned by:</th>
      <td>Umanu</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.7.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p><a href="http://jsfiddle.net/gzpCm/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/gzpCm/</a></p><p>Whenever you include jQuery 1.7.x into a website and call $(document).ready(), Internet Explorer 8 crashes with the following error:</p><p>User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; .NET4.0E)</p><p>Timestamp: Thu, 22 Mar 2012 22:49:16 UTC</p><p>Message: Object expected</p><p>Line: 5</p><p>Char: 7</p><p>Code: 0</p><p>URI: file://vboxsvr/Umanu/Info/HTML5/Bug/index.html</p><p>I tested this on a Windows Server 2003 R2. With jQuery 1.6.x the example above works fine.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 22, 2012 10:58PM UTC by <span class="author">Umanu</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The error does not occur on jsFiddle, but you can use the following HTML file for testing:</p><pre class="wiki">
&lt;html&gt;
  &lt;head&gt;
    &lt;script src="jquery.js" type="text/javascript"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
      $(document).ready(function() {
        // any code
      });
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;Hello World!&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2012 02:15PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ Umanu</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a complete reduced test case on jsFiddle to help us assess your ticket!</p><p>Additionally, be sure to test against the "jQuery (edge)" version to ensure the issue still exists. To get you started, use this boilerplate: <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a>  </p><p>Open the link and click to "Fork" (in the top menu) to begin.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2012 01:03PM UTC by <span class="author">Olexandr</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>$(document).ready() does not work with Internet Explorer 9 on my side as well. I use the same 1.7 version.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2012 01:59PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You realize that jsfiddle is wrapping your code, right?</p><p>Result:</p><pre class="wiki">
$(window).load(function(){
$(document).ready(function() {
  // any code
});

});
</pre><p>In the upper left hand of the page, under "Choose Framework", the first select menu allows you to set the boilerplate code for window onload, document DOMContentLoaded or none.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 29, 2012 12:10PM UTC by <span class="author">Umanu</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I copied the jsFiddle sample I posted in my first post into a fork of the boilerplate you provided: <a href="http://jsfiddle.net/nwdqE/1/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/nwdqE/1/</a></p><p>However, as I wrote in my first comment jsFiddle is useless for analyzing this bug because regardless of the settings in jsFiddle, the bug does not occur in jsFiddle.</p><p>I tested the standalone sample of my first comment some seconds ago using <a href="http://code.jquery.com/jquery-git.js" class="ext-link"><span class="icon"></span>http://code.jquery.com/jquery-git.js</a> and there the problem still exists. The latest version working correctly is <a href="http://code.jquery.com/jquery-1.6.4.min.js." class="ext-link"><span class="icon"></span>http://code.jquery.com/jquery-1.6.4.min.js.</a></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 29, 2012 12:50PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Umanu, I've tested the code you've provided, I can't reproduce.</p><p>However, the second fiddle you provide still has wrapper code... I've updated it to not have wrapper code so you can see what the settings should be: <a href="http://jsfiddle.net/nwdqE/2/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/nwdqE/2/</a></p><p>Does it still error out on that fiddle?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 29, 2012 12:55PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Umanu, if you can still reproduce, give us the EXACT code you're using. Particularly, </p><pre class="wiki">
&lt;script src="jquery.js" type="text/javascript"&gt;&lt;/script&gt;
</pre><p>from your first comment is not useful because I can't guarantee what jquery.js is on your local server. Try using an absolute url to the jquery CDN: </p><pre class="wiki">
&lt;script src="http://code.jquery.com/jquery-git.js" type="text/javascript"&gt;&lt;/script&gt;
</pre><p>Also, are you using a doctype before your html tag? You should be.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 01:08PM UTC by <span class="author">Umanu</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I could not reproduce the error using my reduced sample as well. However, the error still occurred in the script that was the base of it. After a while I found out that the caching mechanisms of Internet Explorer had tricked me before. I am more than sorry for this.</p><p>In fact the error was not related to $(document).ready() but to $.inArray(). The actual error is, that using jQuery 1.7.x + Internet Explorer 8, $.inArray() does not work with strings any more, although it works fine for "real" arrays.</p><p>The following line of code works fine in Firefox 11 with jQuery 1.6.x as well as with jQuery 1.7.x. In Internet Explorer 8 it only works with jQuery 1.6.x, but with jQuery 1.7.x you just get an "Object expected" error:</p><pre class="wiki">
var x = $.inArray('-', '2012-02-27');
</pre><p>This is the updated jsFiddle: <a href="http://jsfiddle.net/nwdqE/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/nwdqE/3/</a></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 01:41PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <pre class="wiki">
var x = $.inArray('-', '2012-02-27');
</pre><p>Well, inArray requires an Array, right? Not a string. Some browsers let you index a String like an Array, but not oldIE. Is there a reason you're not using <code>String.indexOf()</code> which is the proper method?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 09:08PM UTC by <span class="author">Umanu</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I agree that String.indexOf() is a good alternative for my case. However, usually I prefer using jQuery methods over "native" <a href="/wiki/JavaScript">JavaScript</a> methods, because I assume that the chance is higher jQuery methods behave the same in all browsers.</p><p>All common browsers implement strings as an array of characters - even Internet Explorer 8 does so. Actually this is defined in the ECMA-Standard on page 28, chapter "8.4 The String Type" (<a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)." class="ext-link"><span class="icon"></span>http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf).</a> The following code would let IE8 open an alert box saying "e":</p><pre class="wiki">
  var s = 'Test';
  window.alert(s[1]);
</pre><p>This is why $.inArray() should work with arguments of type string as well - actually it even did so in all common browsers up to jQuery 1.6.x. This is why in my point of view it is a bug that jQuery 1.7.x behaves differently in Internet Explorer 8.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2012 09:47PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I disagree that native methods should be used over jQuery ones when native methods are more appropriate, faster, and already consistent across browsers. The fact that it worked before isn't that relevant since it was never a valid input per the documentation. If you would like to look into it and provide a patch you're welcome to do it, but investigating the problem, creating a test case, making a patch, testing it, and changing the documentation to note that strings are now allowable and will be supported forever more is not a priority for us. </p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
