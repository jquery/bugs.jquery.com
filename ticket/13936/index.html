<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#13936 (SCRIPT70 Permission denied in selectors after iframe was submitted in IE9-10, jQuery 1.9.1 and 2.0.0) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/13935/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/13937/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#13936</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened May 24, 2013 12:26PM UTC</p>
      
        <p>Closed May 29, 2013 01:47PM UTC</p>
      
      
        <p>Last modified January 30, 2014 03:02PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">SCRIPT70 Permission denied in selectors after iframe was submitted in IE9-10, jQuery 1.9.1 and 2.0.0</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        yaremenkofv@gmail.com
      </td>
      <th>Owned by:</th>
      <td>markelog</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.10.1/2.0.2">1.10.1/2.0.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>selector</td>
      
        <th>Version:</th>
      
      <td>1.9.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Case:</p><p>0. IE 9 or 10, jQuery 1.9.1 or 2.0.0</p><p>1. Select something from iframe</p><p>2. Submit iframe's form</p><p>3. Select something from body or iframe</p><p>Result: SCRIPT70: Permission denied</p><p>Example:</p><p>body</p><pre class="wiki">
&lt;iframe src="/iframe.html"&gt;&lt;/iframe&gt;
&lt;input id="button" type="button" value="Submit iframe"/&gt;
</pre><p>iframe.html body</p><pre class="wiki">
&lt;form method="get"&gt;
  &lt;input name="hidden" type="hidden" value="123"/&gt;
&lt;/form&gt;
</pre><p>init code</p><pre class="wiki">
$(function () {
	$('input#button').click(function () {
		$('span');
		$('iframe').contents().find('form')[0].submit();
	});
});
</pre><p>$('span') fails after second button click.</p><p>Example on jsFiddle: <a href="http://jsfiddle.net/G8NCw/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/G8NCw/</a></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (28)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2013 11:06AM UTC by <span class="author">markelog</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">selector</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ markelog</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Confirmed.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2013 04:27PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/13938">#13938</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 29, 2013 01:47PM UTC by <span class="author">Oleg</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Sizzle Update: fix <a href="/ticket/13936">#13936</a> - iframe reload should not affect Sizzle. </p><p> Changeset: d0ca6096000a4a86f9a86f1deb0b498dd6dedf2c</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 30, 2013 06:23PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">None</span> → <span class="change-field-new">1.10.1/2.0.2</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 03, 2013 03:48PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>See <a href="/ticket/13980">#13980</a> for followup.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 12, 2013 03:12PM UTC by <span class="author">bigorangemachine@hotmail.com</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>IE8 still generates 'permission' denied error when inside an iFrame.</p><pre class="wiki">
&lt;iframe src="/framechild.html"&gt;&lt;/iframe&gt;
</pre><p>Inside framechild.html</p><pre class="wiki">
&lt;!--stuff up here--&gt;
&lt;script src="assets/js/jquery.1.10.1.js"&gt;&lt;/script&gt;
&lt;!-- ERROR IS GENERATED in IE8--&gt;
</pre><p>Changing line 1513 to sizzles new code will correct this issue</p><pre class="wiki">
if ( parent && parent.frameElement ) {
</pre><p>to</p><pre class="wiki">
if ( parent && parent.attachEvent && parent !== parent.top ) {
</pre><p>will fix this issue</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 13, 2013 03:11AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>jQuery 1.10.1 Permission denied</p><p><a href="http://jsfiddle.net/j3LaC/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/j3LaC/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 14, 2013 07:57AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We are having the same SCRIPT70 Permission denied issue (in IE only (7,8,9 & 10)).</p><p>Basicly we have an iframe that either gets reloaded (because a form (post) submit has happend), or gets redirected to a different page.</p><p>(note, all pages we load in the iframe are on the exact same domain, not even on a subdomain but the exact same domain).</p><p>Each time the iframe fires its "onload" event, we call a function which then assigns click events to buttons inside the iframe.</p><p>example, we have this on our iframe:</p><pre class="wiki">
onload="popupLoaded(this);"
</pre><p>We then have something like:</p><pre class="wiki">
function popupLoaded(obj){
var iframecontents = $(obj.contentDocument);
//or, we also tried it like this
var iframecontents2 = $("#iframeID").contents();

iframecontents.find("#mybutton").click(function(){
alert("Clicked me!");
});

iframecontents2.find("#mybutton").click(function(){
alert("Clicked me! (2)");
});
}
</pre><p>In IE, when the iframe loads for the first time, these clicks work.</p><p>But when the iframe gets reloaded or redirected to a different page, it throws the permission denied because for some reason we can't seem to access the iframe's contents anymore.</p><p>!! (wierd) <strong>FIX</strong></p><p></p><hr><p></p><p>Note that all of this is done with jQuery 1.9 or 1.10, both give the same problems.</p><p>After changing it to an old version of jQuery, version 1.4.1, this seems to be fixed, no errors are thrown and the clicks all function propperly...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 14, 2013 02:34PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi, I'm the author of comment above (NR. 8),</p><p>We've found out, <strong>and fixed</strong>, what caused our SCRIPT70 Permission Denied error.</p><p>Here's what we did:</p><p>When clicking on an icon we insert an iframe on the page inside a div called popup.</p><pre class="wiki">
$("#popup").html('&lt;iframe src="'+ url +'" onload="popupLoaded(this);"&gt;&lt;/iframe&gt;');
</pre><p>The iframe then loads our page which has several div's on it, each with their own "hidden" input. For each of these div's we want the entire div to be clickable, so we create the click event on the div.</p><p>This is the function that gets called when the iframe is loaded</p><pre class="wiki">
function popupLoaded(obj){
	//Get the iframe's content
	var contents = $(obj.contentDocument);

	//Make the click call
	contents.find(".divname").click(function(){
		//This next line causes the script70 error in IE
		var myHiddenValue = $(this).find(".hiddenval").val();

		//Then we go on doing stuff with this value...
	});
}
</pre><p>Here's what we had to do to fix it:</p><pre class="wiki">
function popupLoaded(obj){
	//Get the iframe's content
	var contents = $(obj.contentDocument);

	//Make the click call
	contents.find(".divname").click(function(e){
		//var myHiddenValue = $(this).find(".hiddenval").val();

		//Alternative way to grabbing the hidden value
		var myValObject = $('&lt;div/&gt;').html(e.currentTarget.innerHTML).contents();
		var myHiddenValue = myValObject.find(".hiddenval").val();

		//Now we were able to get the value without any problems
		//Then we go on doing stuff with this value...
	});
}
</pre><p>So basicly we had to grab the innerhtml of the object we clicked (being the div) and turn it into a jquery object.</p><p>Then we were able to perform a .find() in this object and get the value, without having that annoying permission denied error in IE...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 20, 2013 04:04PM UTC by <span class="author">Mark Hagers</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The fiddle example above still gives the error in IE 10 (if you set the jquery version to 1.10.1).</p><p>We have a large project with 3rd party js library that triggers the issue.</p><p>Is this something that will be fixed in jQuery eventually? or should the 3rd party fix this?</p><p>For the moment we'll migrate back to 1.9.x</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 02, 2013 03:53PM UTC by <span class="author">Thomas</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I too am still getting this error with 1.10.1 in IE8-10</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 26, 2013 07:49PM UTC by <span class="author">Cody</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I can confirm that these fiddle examples [1,2] in this thread still cause the issue in 1.10.1 & 2.0.2. Also comment 8 and 9 exactly mirror my experience discovering this bug and working around the issue.</p><p>[1] <a href="http://jsfiddle.net/G8NCw/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/G8NCw/</a></p><p>[2] <a href="http://jsfiddle.net/j3LaC/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/j3LaC/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 26, 2013 07:56PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thomas and Cody, does it work when you use the most recent released version?</p><p><a href="http://blog.jquery.com/2013/07/03/jquery-1-10-2-and-2-0-3-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2013/07/03/jquery-1-10-2-and-2-0-3-released/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 30, 2013 04:53PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I got similar issue in &gt;=IE8. I have a popup dialog from an ifame content. On submitting, the following statement results in Permission denied error in Jquery1.9.1, and 1.10.2.</p><p>dialog = $(window.top).attr(window.frameElement.id);</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 30, 2013 05:12PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You can't call <code>.attr()</code> on a <code>window</code>, it's only for DOM elements.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 30, 2013 05:58PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:15 dmethvin]:</p><blockquote> You can't call <code>.attr()</code> on a <code>window</code>, it's only for DOM elements.</blockquote><p>I am calling .attr() on $(window). In any case, it used to work on the old version (jquery.1.5.2):</p><p>   var dialog = $(window.top).attr(window.frameElement.id);</p><p>   if (!dialog) {</p><p>       dialog = $(window.parent).attr(window.frameElement.id);</p><p>   }</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 21, 2013 05:32PM UTC by <span class="author">haxorjim</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">If you&#39;re stuck on 1.9.1 because of IE, you could always bypass jquery for this purpose. The following code worked for us. In our case we needed the html, but the premise is the same.&#92;
&#92;
&#92;
{{{&#92;
var iframe = document.getElementById(&#39;iframe&#39;);&#92;
var html = iframe.contentDocument.getElementsByTagName(&#39;body&#39;)[0].innerHTML;&#92;
}}}</span> → <span class="change-field-new">1377106452159347</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>If you're stuck on 1.9.1 because of IE, you could always bypass jquery for this purpose. The following code worked for us. In our case we needed the html, but the premise is the same.</p><pre class="wiki">
var iframe = document.getElementById('frameId');
var html = iframe.contentDocument.getElementsByTagName('body')[0].innerHTML;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 21, 2013 05:43PM UTC by <span class="author">markelog</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@haxorjim you could always update to 1.10.2, which has full support for IE6+, if you have migration problems, you could use <a href="https://github.com/jquery/jquery-migrate/," class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery-migrate/,</a> also <a href="http://jquery.com/upgrade-guide/1.9/" class="ext-link"><span class="icon"></span>this</a>  might be helpful too</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 13, 2013 03:55AM UTC by <span class="author">luked</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This issue has re-arisen in IE11.  The fix committed for this ticket does not activate because it looks for window.attachEvent which has been removed from IE11.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 13, 2013 03:59AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@luked, please open a new ticket with a test case. Thanks!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 13, 2013 06:14AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can someone link to the new ticket? Would like to follow it, as I'm having the same issue in IE11</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 13, 2013 05:51PM UTC by <span class="author">gibson042</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:21 anonymous]:</p><blockquote> Can someone link to the new ticket? Would like to follow it, as I'm having the same issue in IE11</blockquote><p><a href="/ticket/14535">#14535</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 21, 2013 02:23PM UTC by <span class="author">dh</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>this is a big issue preventing use of jquery in salesforce!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 27, 2013 02:35PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>same problema when clone object:</p><p>var eRows = $(rows).clone();</p><p>SCRIPT5007: No se puede obtener la propiedad 'ownerDocument' de referencia nula o sin definir</p><p>Archivo: jquery-1.9.1.js, Línea: 4392, Columna: 2</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 12, 2013 12:27PM UTC by <span class="author">thomas@wolkenstein.com</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Due to the preferredDoc variable introduced in jQuery 1.9 i can not use this version and latter in my project that uses iframes. The variable caches a document object that becomes obsolete when the iframes is reloaded and Internet Explorer throws SCRIPT70: Permission denied.</p><p>Maybe my project is to blame as well because I reuse the jQuery object (sometimes) between frames. But I think it is a major design flaw to cache the document object. JQuery should not do this - at least not inside a frame or an iframe.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 12, 2013 07:59PM UTC by <span class="author">gibson042</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:25 thomas@…]:</p><blockquote> Due to the preferredDoc variable introduced in jQuery 1.9 i can not use this version and latter in my project that uses iframes. The variable caches a document object that becomes obsolete when the iframes is reloaded and Internet Explorer throws SCRIPT70: Permission denied.</blockquote><p>Hopefully you are testing with our <a href="http://blog.jquery.com/2013/11/15/jquery-1-11-02-1-0-beta-2-released/" class="ext-link"><span class="icon"></span>betas</a>, because both this issue and its sister <a href="/ticket/14535">#14535</a> have already been resolved.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2013 01:32PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:26 gibson042]:</p><blockquote> Replying to [comment:25 thomas@…]: &gt; Due to the preferredDoc variable introduced in jQuery 1.9 i can not use this version and latter in my project that uses iframes. The variable caches a document object that becomes obsolete when the iframes is reloaded and Internet Explorer throws SCRIPT70: Permission denied.  Hopefully you are testing with our <a href="http://blog.jquery.com/2013/11/15/jquery-1-11-02-1-0-beta-2-released/" class="ext-link"><span class="icon"></span>betas</a>, because both this issue and its sister <a href="/ticket/14535">#14535</a> have already been resolved.</blockquote><p>I have just test with jquery-1.11.0-beta2.js and I had the same SCRIPT70: Permission denied error. I have tracked down the reason:</p><p>The jquery library attaches the onbeforeunload event to the iframe to remove the reference to the obsolete document object from the document variable inside jquery. The beforeunload event is not fired when window.location is used to navigate in the iframe. On my page I set window.location.href in the onload event of the iframe.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 30, 2014 03:02PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I had a similar issue except I was creating an iframe and appending it to the document. IE used to allow </p><pre class="wiki">
$('&lt;iframe .../&gt;').appendTo($('body'))
</pre><p>, but newer versions will throw "Permission Denied" error. So, proper way is</p><pre class="wiki">
var iFrame = document.createElement('iframe');
...
document.body.appendChild(iFrame);
</pre><p>When doing that I no longer get IE "Permission Denied" error.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
