<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9553 (&amp;quot;Invalid calling object&amp;quot; in IE9 with DivX) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9552/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9554/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9553</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(patchwelcome)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened June 09, 2011 11:02AM UTC</p>
      
        <p>Closed June 09, 2011 11:47AM UTC</p>
      
      
        <p>Last modified January 28, 2013 01:42AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">&quot;Invalid calling object&quot; in IE9 with DivX</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        mortenkrane
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>misc</td>
      
        <th>Version:</th>
      
      <td>1.6.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>This is a bug that only appears in Internet Explorer 9 with DivX extensions installed and enabled. So its up for debate whether this is actually a jQuery bug or not, since its quite clearly a consequence of something the DivX extension does, but I found that everything stopped working for IE9 users until I made a rather nasty and specific workaround (see my comment here: <a href="http://forum.jquery.com/topic/internet-explorer-9-jquery-and-divx#14737000002443139)." class="ext-link"><span class="icon"></span>http://forum.jquery.com/topic/internet-explorer-9-jquery-and-divx#14737000002443139).</a></p><p>(Also, I am surprised that the above forum post is the only other reference to this situation I can find, but that may of course be due to my searching skills.)</p><p>The bug seems to appear after the DivX plugin downloads some resource (and presumably does something in the DOM). After this happens I cannot append anything to the body element. In the Developer Toolbar console I get the error message "Invalid calling object".</p><p>I could not reproduce this in jsFiddle, but loading the code below into IE9 with DivX yields the error message every time for me.</p><pre class="wiki">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;&lt;title&gt;jQuery test&lt;/title&gt;&lt;/head&gt;

    &lt;body&gt;
        &lt;h1&gt;Testing jQuery bug&lt;/h1&gt;

        &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript"&gt;
        $(document).ready(function() {
            var b = $("body");
            var s1 = "&lt;span&gt;Now it works&lt;/span&gt;";
            var s2 = "&lt;span&gt;Now it doesn't&lt;/span&gt;"
            b.append(s1);
            // Giving the DivX extension time to set up
            setTimeout(function() { b.append(s2);  }, 2000);
        });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre><p>Also, using the console to append elements to the body yields the same error message. </p><p>I can append to any other element in the page, its only the body that fails. When disabling the DivX extension and restarting IE, everything works as expected. Setting the browser in IE8 document mode also seems to solve the problem.</p><p>I have reproduced this with jQuery 1.6.1, 1.5.1 and 1.5.2.</p><p>Again, I apologize if this is outside of jQuery's realm. </p><p>Morten</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 09, 2011 11:47AM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">misc</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ patchwelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for submitting a ticket to the jQuery Project. Unfortunately, because we would consider this type of ticket an edge-case which is likely down to the DivX extension and it's behaviour with IE as opposed to jQuery core (and this is the first I've ever read about it) we're likely not going to be able to dedicate time and resources to getting this patched. We would however be willing to consider adopting a patch if you or another member of the community were interested in discovering an acceptable workaround. Please bare in mind this would of course be dependant on the bug actually being something a number of people are experiencing as opposed to a small minority.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 13, 2011 02:51PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I am experiencing the same issue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 17, 2011 09:26PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>a lot of users have that plugin. we're having to spend lots of time doing work arounds to fix this. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 17, 2011 09:58PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The plug that breaks it is a beta...</p><p>Name:                   DivX Plus Web Player HTML5 &lt;video&gt;</p><p>Publisher:              DivX, LLC</p><p>Type:                   Browser Helper Object</p><p>Version:                2.1.0.900</p><p>File date:              </p><p>Date last accessed:     ‎17 ‎June ‎2011, ‏‎22:54</p><p>Class ID:               {326E768D-4182-46FD-9C16-1449A49795F4}</p><p>Use count:              55</p><p>Block count:            7</p><p>File:                   npdivx32.dll</p><p>Folder:                 C:\\Program Files (x86)\\DivX\\DivX Plus Web Player</p><p>and</p><p>Name:                   DivX HiQ</p><p>Publisher:              DivX, LLC</p><p>Type:                   Browser Helper Object</p><p>Version:                2.1.0.900</p><p>File date:              </p><p>Date last accessed:     ‎17 ‎June ‎2011, ‏‎22:54</p><p>Class ID:               {593DDEC6-7468-4CDD-90E1-42DADAA222E9}</p><p>Use count:              57</p><p>Block count:            5</p><p>File:                   npdivx32.dll</p><p>Folder:                 C:\\Program Files (x86)\\DivX\\DivX Plus Web Player</p><p>New versions don't break jQuery.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 13, 2011 12:11PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Solution:</p><p>For all appendChild, replaceChild and insertBefore must be used:</p><p>this.appendChild = document.appendChild;</p><p>Example:</p><p>&lt;body&gt;</p><p>&lt;script type="text/javascript"&gt; </p><p>$(document).ready(function() {  </p><p> jQuery.fn.append = function() {</p><p>  return this.domManip(arguments, true, function( elem ) {</p><p>   if ( this.nodeType === 1 ) {     </p><p>    this.appendChild = document.appendChild;</p><p>    this.appendChild( elem );</p><p>   }</p><p>  });</p><p> }</p><p>}</p><p>&lt;/script&gt;</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 18, 2011 02:33PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The solution provided above by Anonymous does not fix the issue... tested on IE9 with "DivX Plus Web Player HTML5 &lt;video&gt;" Version 2.1.0.900.</p><p>Not for me anyways.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 11, 2011 02:53PM UTC by <span class="author">c2h5oh</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Here's an interesting read about a similar issue on DivX forums:</p><p><a href="http://labs.divx.com/node/16824" class="ext-link"><span class="icon"></span>http://labs.divx.com/node/16824</a></p><p>You gotta love their way of doing things.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2011 01:01PM UTC by <span class="author">Probot</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It seems this problem is fixed with the current DivX Web Player update:</p><p>My version:</p><p>Name:                       DivX Plus Web Player HTML5 &lt;video&gt;</p><p>Version:                    2.1.2.126</p><p>You can use the following code to check if he has installed the broken Plugin and tell him to update the plugin:</p><pre class="wiki">

$(document).ready(function(){
	/* after the page has finished loading */
	
	// Detect if there is a broken DivX plugin
	// Giving the DivX extension time to set up
	setTimeout(function() {
		try {
			$("body").append("&lt;div&gt;&lt;/div&gt;");
		} catch (e) {
			alert("(EN) There is an error in your DivX Web Player Addon. Please update it with the following url:\\n(DE) Es existiert ein Problem mit Ihrem DivX Web Player Addon. Wir bitten Sie, dieses unter folgendem Link zu aktualisieren:\\n(IT) Esiste un problem con l'addon DivX Web Player. Si prega di aggiornare con il seguente link:\\n\\nhttp://www.divx.com");
		}
	}, 2000);
}
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 22, 2011 10:17PM UTC by <span class="author">Riggz</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thank you Probot!  I was searching far and wide for this answer and your solution worked perfectly.  Much appreciated.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 19, 2012 03:55PM UTC by <span class="author">orafaelreis</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This solve for me...</p><p>I was trying this whithout success:</p><pre class="wiki">
item = $('&lt;div&gt;testing...&lt;/div&gt;')
$("#some_id").append(item);
</pre><p>and the correct is:</p><pre class="wiki">
var item = $('&lt;div&gt;testing...&lt;/div&gt;')
$("#some_id").append(item);
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 28, 2013 01:42AM UTC by <span class="author">bryn.parrott@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I incurred this error when I misnamed one of the parameters to a getJSON call.</p><p>amountaid: xvalue instead of amountpaid:</p><p>It was hard to track down until I used Firefox to load the page and Firefox's web console debugger, which gave up the error:</p><p>[12:39:17.881] NS_ERROR_XPC_BAD_CONVERT_JS: Could not convert <a href="/wiki/JavaScript">JavaScript</a> argument @ <a href="http://extensions/hunterbadminton/assets/js/jquery-1.8.3.js:7218" class="ext-link"><span class="icon"></span>http://extensions/hunterbadminton/assets/js/jquery-1.8.3.js:7218</a></p><p>In both cases the error message is arcane, but Firefox actually led me to what was wrong and I spotted the error immediately.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
