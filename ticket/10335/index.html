<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#10335 (In IE quirksmode, the &amp;quot;show&amp;quot; method, with a duration parameter, does not restore the element&amp;#39;s original overflow values) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/10334/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/10336/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#10335</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened September 23, 2011 06:32PM UTC</p>
      
        <p>Closed June 06, 2012 01:26PM UTC</p>
      
      
        <p>Last modified December 29, 2012 06:07AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">In IE quirksmode, the &quot;show&quot; method, with a duration parameter, does not restore the element&#39;s original overflow values</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        whiskyConan
      </td>
      <th>Owned by:</th>
      <td>whiskyConan</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>effects</td>
      
        <th>Version:</th>
      
      <td>1.6.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>In Internet Explorer:</p><p>&lt;!-- missing doctype to force IE into quriksmode --&gt;</p><p>&lt;html&gt;</p><p>    &lt;head&gt;</p><p>        &lt;style&gt;</p><p>            .Container</p><p>            {</p><p>                width: 20em;</p><p>                height: 10em;</p><p>                border: 1px solid #f00;</p><p>                position: relative;</p><p>            }</p><p>            .InnerItem</p><p>            {</p><p>                width: 20em;</p><p>                height: 4em;</p><p>                border: 1px solid <a href="/ticket/0">#0</a>f0;</p><p>                position: absolute;</p><p>                left: 100%;</p><p>                top: 0;</p><p>            }</p><p>        &lt;/style&gt;</p><p>        &lt;script src="jquery-1.6.4.js"&gt;&lt;/script&gt;</p><p>        &lt;script&gt;</p><p>            $(function ()</p><p>            {</p><p>                $(".Container:eq(1)")</p><p>                    .hide()</p><p>                    .show(200);</p><p>            });</p><p>        &lt;/script&gt;</p><p>    &lt;/head&gt;</p><p>    &lt;body&gt;</p><p>        &lt;div class="Container"&gt;</p><p>            Outer Container</p><p>            &lt;div class="InnerItem"&gt;Inner Item&lt;/div&gt;</p><p>        &lt;/div&gt;</p><p>        &lt;div class="Container"&gt;</p><p>            Outer Container</p><p>            &lt;div class="InnerItem"&gt;Inner Item&lt;/div&gt;</p><p>        &lt;/div&gt;</p><p>    &lt;/body&gt;</p><p>&lt;/html&gt;</p><p></p><hr><p></p><p>Locations in jquery-1.6.4.js:</p><p>Lines 8265-8267:</p><p>// when the animation starts, the overflow is set to hidden</p><p>if ( opt.overflow != null ) {</p><p>	this.style.overflow = "hidden";</p><p>}</p><p>Lines 8523-8528:</p><p>if ( options.overflow != null && !jQuery.support.shrinkWrapBlocks) {</p><p>	jQuery.each( [ "", "X", "Y" ], function (index, value) {</p><p>		elem.style[ "overflow" + value ] = options.overflow[index];</p><p>	});</p><p>}</p><p>(jQuery.support.shrinkWrapBlocks is true in IE quirksmode, so the overflow is never reset back to its original value, causing children to be hidden, like in the example)</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 07, 2011 01:45AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ whiskyConan</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a complete reduced test case on jsFiddle to help us assess your ticket!</p><p>Additionally, be sure to test against the jQuery Edge version to ensure the issue still exists. To get you started, use this boilerplate:  <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a> Open the link and click to "Fork" (in the top menu) to get started.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 12, 2011 04:13AM UTC by <span class="author">whiskyConan</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The test has been entered into jsfiddle:</p><p><a href="http://jsfiddle.net/FrKyN/110/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/110/</a></p><p>However, jsfiddle injects a valid doctype declaration into the results iframe, and the bug cannot be reproduced via jsfiddle (except if using IE6).</p><p>Easiest way to see the bug is to copy everything between the &lt;html&gt;&lt;/html&gt; tags provided in the bug into a standalone file and run it in Internet Explorer.</p><p>I have verified that this bug still exists in the jQuery Edge version.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 13, 2011 04:17AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">effects</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 19, 2011 06:10PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 01, 2012 07:00AM UTC by <span class="author">jwoyame@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I found that this also occurs in other browsers when you set the box-sizing of your div elements to "border-box":</p><pre class="wiki">
html, body, table, div {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
</pre><p>Doing so triggers the "shrinkWrapBlocks" flag to be set in the jQuery code:</p><pre class="wiki">
// Check if elements with layout shrink-wrap their children
// (IE 6 does this)
div.style.display = "";
div.innerHTML = "&lt;div style='width:4px;'&gt;&lt;/div&gt;";
support.shrinkWrapBlocks = ( div.offsetWidth !== 2 );
</pre><p>When an animation completes (in the step() function), jQuery will not reset the overflow style because this flag is set:</p><pre class="wiki">
// Reset the overflow
if ( options.overflow != null && !jQuery.support.shrinkWrapBlocks ) {

	jQuery.each( [ "", "X", "Y" ], function( index, value ) {
		elem.style[ "overflow" + value ] = options.overflow[ index ];
	});
}
</pre><p>However in the animate() function, it changes the overflow:</p><pre class="wiki">
if ( isElement && ( name === "height" || name === "width" ) ) {
	// Make sure that nothing sneaks out
	// Record all 3 overflow attributes because IE does not
	// change the overflow attribute when overflowX and
	// overflowY are set to the same value
	opt.overflow = [ this.style.overflow, this.style.overflowX, this.style.overflowY ];

...
}

if ( opt.overflow != null ) {
	this.style.overflow = "hidden";
}
</pre><p>So the overflow style is getting changed but not fixed after the animation completes. The solution should be one of the following:</p><p>A. Do not change the overflow flag if shrinkWrapBlocks is set.</p><p>B. Reset the overflow flags to their original value in all cases.</p><p>I tested this issue in Chrome 17.0.963.56.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 06, 2012 01:02PM UTC by <span class="author">kleinhans@boerse-go.de</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This bug is still there in 1.7.2 with webpages that change box-sizing to "border-box" as described in the comment above.</p><p>I just noticed it with Chrome 20.0.1132.21</p><p>I could imagine this bug becoming more troublesome in the future when more sites start using the box-sizing property. Do you need a new testcase or any additional information? </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 06, 2012 01:26PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We do not support quirks mode: <a href="http://docs.jquery.com/Won't_Fix" class="ext-link"><span class="icon"></span>http://docs.jquery.com/Won't_Fix</a></p><p>Also, there are a few fixes for box-sizing that will be coming in 1.8. Please test again jQuery edge using jsfiddle.net if you suspect there might be a bug. If you find one, submit it as a bug. As of right now, there is no bug except your imagination.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 29, 2012 02:40AM UTC by <span class="author">pha3zme@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I read the won't fix page on this issue.  There's no where to comment on that page so I'm commenting here.  This is a *serious* problem.  Most designers and developers who know what's going on are trying to get away from from the WC3 box model. Its flat-out junk.  Border-box is the future and just writing this off as a 'won't fix' bug simply because it doesn't conform to WC3 is ridiculous. </p><p>Especially considering the fact that the WC3 has an absolute ly pitiful history of applying terrible standards that fail (they do this because secret they're trying to control the internet but that's another story).  Fact is that browser vendors and developers have always lead the way and the WC3 ends up changing their model to conform to the masses.  Thank God the masses *tend* to know whats best when it comes to development tools.  Its one of the few cases where that holds true.</p><p>The fix to this problem in Chrome is simple.  All you have to do is set overflow: visible after the animation completes.  I easily fixed it for Superfish, but I'm also going to have to patch <a href="/wiki/HelloBar">HelloBar</a> and anything else that breaks.</p><p>The jQuery team needs to re-evaluate their decision to base things on WC3 standards and stop writing off better models as just "quirks modes".  This issue should be able to be resolved without completely overhauling jQuery animation. I'd be impressed if someone could show a reason why a simple patch wouldn't do the trick.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 29, 2012 03:28AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>pha3zme@gmail.com, thanks for contributing. I personally did a lot work to ensure a border-box future for jQuery 1.8 :-). </p><p>Border-box and quirks mode are very different things. Quirks mode is not supported, border-box is. There are several open assigned bugs I'm working on to address the overflow problem when NOT in quirks mode. </p><p>Please don't confuse the two, and have a nice night. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 29, 2012 03:49AM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>And just for the record, <a href="/ticket/12630">#12630</a> was already an open bug for precisely this issue. The fix IS trivial.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 29, 2012 06:07AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks mikesherov.  I guess I didn't understand what was being said previously.  I already don't consider border-box to be part of quirks mode.  And that's why I was shocked by what I was seeing.  I thought that the discussion was stating that border-box is only a quirks-mode feature.  I'm glad that's not what was being said.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
