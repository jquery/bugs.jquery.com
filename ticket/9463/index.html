<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#9463 (attr() yields different results in 1.5.2 and 1.6.1) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/9462/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/9464/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#9463</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened May 30, 2011 02:15PM UTC</p>
      
        <p>Closed May 30, 2011 09:06PM UTC</p>
      
      
        <p>Last modified March 14, 2012 03:25AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">attr() yields different results in 1.5.2 and 1.6.1</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        begraves@gmx.de
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>attributes</td>
      
        <th>Version:</th>
      
      <td>1.6.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>...which breaks the statement "when updating from 1.5.2 to 1.6.1, you should not have to change any attribute code" in the blog.</p><p>Examples:</p><pre class="wiki">$("&lt;textarea&gt;").attr("type")</pre> is undefined in 1.6.1, while "textarea" is returned in 1.5.2 (which is returned by <pre class="wiki">$("&lt;textarea&gt;").prop("type")</pre> in 1.6.1).<p>The same holds for </p><pre class="wiki">$("&lt;select&gt;").attr("type")</pre> and <pre class="wiki">$("&lt;input&gt;").attr("type")</pre> (and maybe even more) analogously, see <a href="http://jsfiddle.net/HHgw5/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/HHgw5/</a> and <a href="http://jsfiddle.net/TZxmy/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/TZxmy/</a> .<p></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (12)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 30, 2011 09:06PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">attributes</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project!</p><p>This is intended behavior for the type attribute as it allows you differentiate between the actual attribute and the property.  Nevertheless, the most common use cases consist of setting the type attribute on a disconnected node and possibly retrieving it later.  For instance, <a href="http://jsfiddle.net/timmywil/At4Hh/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/At4Hh/</a></p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 31, 2011 07:32AM UTC by <span class="author">begraves@gmx.de</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <blockquote> This is intended behavior for the type attribute...</blockquote><p>Hi timmywil, thanks for your quick response. I understand your point of view, nevertheless the statement <strong>"when updating from 1.5.2 to 1.6.1, you should not have to change any attribute code"</strong> is plain wrong and should be corrected in the blog.</p><p>1.6.1 is not backwards compatible with 1.5.2, at least regarding to the attr-function.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 08:35AM UTC by <span class="author">yeurch</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have to agree completely with begraves, the statement "<strong>when updating from 1.5.2 to 1.6.1, you should not have to change any attribute code</strong>" is incorrect.</p><p>Please consider reopening this issue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 01:43PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I understand the confusion, but technically the statement is still valid.  This is not attribute code we're talking about in this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 03:03PM UTC by <span class="author">yeurch</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 timmywil]:</p><blockquote> I understand the confusion, but technically the statement is still valid.  This is not attribute code we're talking about in this ticket.</blockquote><p>I certainly don't want this comment thread to go round in circles, so I will finish by saying that regardless of whether this is technically attribute code or not, I believe that it <strong>is</strong> a breaking change introduced between 1.5.2 and 1.6.1 and should either be fixed or documented as such.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 02, 2011 08:48PM UTC by <span class="author">begraves@gmx.de</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:4 timmywil]:</p><blockquote> I understand the confusion, but technically the statement is still valid.</blockquote><p>Ok, I give a longer citation from <a href="http://blog.jquery.it/2011/05/12/jquery-1-6-1-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.it/2011/05/12/jquery-1-6-1-released/</a></p><blockquote> When updating from 1.5.2 to 1.6.1, you should not have to change any attribute code. [...] However, as previously stated, jQuery 1.6.1 will allow you to use .attr() just as it was used before in all situations.</blockquote><p>I think you have to agree that this statement is <strong>not</strong> correct. ;-)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 04, 2011 08:35PM UTC by <span class="author">keith@iveys.org</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Another change that's not backward-compatible is that .attr('id') on something that has no id used to return "", but in jQuery 1.6+ it now returns undefined. Unfortunately some code (specifically the Uniform plugin) tests for the existence of id by checking $el.attr != "" (which now is broken). It might be worth a warning in the docs.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 04, 2011 08:39PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I suggest getting in touch with the author of Uniform and let them know that their plugin needs to be updated</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 04, 2011 09:10PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It would be more than nice either to publish a complete list of backward incompatibilities for 1.6.1 or (better) to fix these incompatibilities in 1.6.2.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 04, 2011 09:21PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The latter would just bring us back to the old "attr" - that timmywil worked _very_ hard to rewrite... so... non-starter. The former exists here: <a href="http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 05, 2011 07:58AM UTC by <span class="author">begraves@gmx.de</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:10 rwaldron]:</p><blockquote> The latter would just bring us back to the old "attr" - that timmywil worked _very_ hard to rewrite... so... non-starter. The former exists here: <a href="http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/</a></blockquote><p>...containing the incorrect statement</p><p>&gt;... jQuery 1.6.1 will allow you to use .attr() just as it was used before in all situations.</p><p>as stated above. John Resigs blog entry suggests that 1.6.1 (in contrast to 1.6) is backwards compatible with 1.5.2 which it is not. IMO this should be corrected or better/clearly documented.</p><p>But as yeurch said I don't want this to go round in circles too, so this was my last comment in this thread.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 05, 2011 04:01PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>In an effort to better explain the changes to attr() and the new prop() functionality, @dmethvin and I put these jsfiddle's together:</p><p><a href="http://jsfiddle.net/rwaldron/BNcty/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/rwaldron/BNcty/</a></p><p><a href="http://jsfiddle.net/BNcty/4/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/BNcty/4/</a></p><p>Hope this adds some clarity</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
