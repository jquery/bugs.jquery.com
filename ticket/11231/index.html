<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11231 (Append, Prepend, After, Before should accept an array as first argument) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11230/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11232/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11231</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">enhancement</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 26, 2012 11:41AM UTC</p>
      
        <p>Closed January 26, 2012 05:12PM UTC</p>
      
      
        <p>Last modified October 15, 2012 08:56PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Append, Prepend, After, Before should accept an array as first argument</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        anonymous
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.8">1.8</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>manipulation</td>
      
        <th>Version:</th>
      
      <td>1.7.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>See <a href="https://plus.google.com/115102990534359458144/posts/VsiQkVsipBP" class="ext-link"><span class="icon"></span>https://plus.google.com/115102990534359458144/posts/VsiQkVsipBP</a> for discussion, test cases, use case, and one-line fix.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (13)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 12:34PM UTC by <span class="author">sindresorhus</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Don't really see the point of this, you can already use DOM elements, jQuery objects, HTML strings, and arrays of DOM elements.</p><p>You can also use .apply to use an array of jQuery objects $('div').append.apply( $('div'), arrayOfjQueryObjects );</p><p>Alternatively you could just push the &lt;option&gt; elements to an array, use .join(''), and then pass it to .append as an html string.</p><p>Voting to close this.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 04:57PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>That's the point  You can't use an array of *jQuery* objects.  You shouldn't have to pull out apply just to do an append.  </p><p>The claim that you can use append on "arrays of DOM elements" is simply incorrect.  You can append a singular jQuery-wrapped collection of entities as a single jQuery object, yes, but that is not the same thing as an array.  Given that $('body').append(['&lt;div/&gt;','&lt;div/&gt;','&lt;div/&gt;']), $('body').append([$('&lt;div/&gt;'),$('&lt;div/&gt;'),$('&lt;div/&gt;')]), and $('body').append([$('a'),$('b'),$('center')]) all fail with "Error: NOT_FOUND_ERR: DOM Exception 8", this claim is more than a bit overbroad.</p><p>The alternative isn't a true alternative, either; " pass it to .append as an html string" - I can't attach data(), event handlers, etc. to an html string; I likely wouldn't bother creating an array of jQuery objects if I could just keep the html string all together and just create a single jQuery object.</p><p>A quick check of Google leads me to think I'm not alone in this; Googling 'jQuery "append.apply"' gives around 3300 hits, and at least the first few pages' worth *all* are people looking to use append on an array of jQuery objects.  The fix is so simple and short, there's demonstrated demand, and it would bring jQuery into agreement with that "arrays of DOM elements" claim of the docs...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 05:12PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ patchwelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <blockquote> The fix is so simple and short</blockquote><p>If you'd like to create a patch and test cases that allow <code>.append()</code> to accept additional reasonable inputs, submit it and we'll consider it. As I understand the proposal in that thread, it is not something we'd want to do. That is we don't want a new <code>.appendAll()</code> method that requires a single array as an argument.</p><p>Be aware, however, that we are being very careful with our bloat nowadays so the fix would indeed need to be simple and short.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 06:21PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">manipulation</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>type:</th>
                  <td>
                    
                      <span class="change-field-old">bug</span> → <span class="change-field-new">enhancement</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Oh and to be clear, the ticket is asking for <a href="/wiki/JavasScript">JavasScript</a> <code>Array</code>s of non-DOM elements to be appendable. Arrays of HTML-ish strings and jQuery objects are not currently supported, but are also not documented to be supported so this is clearly an enhancement and not a bug in docs.  </p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 07:15PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The suggestion is that arrays be usable as arguments for append(), etc.  The appendAll plugin is just a for-now workaround, aliasing append.apply.</p><p>Regarding the documentation:</p><p>Could you explain then what the second argument in <a href="http://api.jquery.com/append/" class="ext-link"><span class="icon"></span>http://api.jquery.com/append/</a> is talking about when it says "...arrays of elements...", because that's quite clearly documented as supported.</p><p>It's also not the only place that arrays are stated to be supported.</p><ul><li><a href="http://api.jquery.com/before/" class="ext-link"><span class="icon"></span>http://api.jquery.com/before/</a> has an array as valid for the second argument.</li><li><a href="http://api.jquery.com/after/" class="ext-link"><span class="icon"></span>http://api.jquery.com/after/</a> has an array as valid for the second argument.</li><li><a href="http://api.jquery.com/prepend/" class="ext-link"><span class="icon"></span>http://api.jquery.com/prepend/</a> includes "array(s) of elements" as valid for not just the second argument, but also the first.</li></ul><p>(There's also mentions of arrays being supported scattered on those 4 pages, outside of the formal definitions.)</p><p>Yet, as I mentioned earlier, regardless of the type of contents of the array, between append, prepend, after, and before, using an array as argument in any of these 5 places will only result in a "Error: NOT_FOUND_ERR: DOM Exception 8".  </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 07:27PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>By "array of Elements" it means exactly that. A simple <a href="/wiki/JavaScript">JavaScript</a> array whose contents are simple, unwrapped DOM Element instances. For instance:</p><p>var arr = [ document.getElementById("foo"), document.getElementById("bar") ];</p><p>Or </p><p>var arr = $("input").get() // or .toArray</p><p>The examples you provided in comment 2 are an array of strings, an array of jquery objects, and another array of jquery objects, respectively.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 07:36PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>So an array of unwrapped DOM Element instances is ok, but an array of html strings or jQuery objects (ie, wrapped DOM Element instances) is not?  That's far more specific than "arrays of elements"; that wording implies at least that arrays of wrapped elements should be fine, if not also html strings (for consistency with the rest of jQuery).  That this even is present doesn't make a lot of sense; where else in jQuery is direct DOM Element manipulation as argument to jQuery found?  Off the top of my head, nowhere - and these 4 functions accepting them, but not other quite reasonable/expectable contents of arrays, seems just plain bizarre.</p><p>Re: patches, there's at least three suggested ones already in the bugtracker.  </p><p><a href="http://bugs.jquery.com/ticket/8897" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/8897</a> has a duck punched version</p><p><a href="http://bugs.jquery.com/ticket/9011" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/9011</a> has <a href="https://github.com/xavierm02/jquery/commit/20e17ef9d9d40057524aa15858048a67189574b1" class="ext-link"><span class="icon"></span>https://github.com/xavierm02/jquery/commit/20e17ef9d9d40057524aa15858048a67189574b1</a></p><p>(and there's at least one other, though I'm not finding it atm).</p><p>Just to be complete, I'll also include the other related/dupe tickets here, since I can't link them more formally to this ticket:</p><p><a href="http://bugs.jquery.com/ticket/9647" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/9647</a></p><p><a href="http://bugs.jquery.com/ticket/8466" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/8466</a></p><p><a href="http://bugs.jquery.com/ticket/7066" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/7066</a></p><p><a href="http://bugs.jquery.com/ticket/10310" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/10310</a></p><p>I'd note that each one of these tickets, in the comments, says something different about what the docs say, and what jQuery accepts re: arrays of elements.  As mentioned above, though, none of the ways they suggest arrays passed as arguments should work does actually work.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 07:40PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ needsdocs</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 26, 2012 07:42PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for the literature search, but the reason I closed the ticket as patchwelcome and not a duplicate was that it was implied that there was a simple and robust solution. If there is, I am very willing to consider it because as you mention it has been requested several times.</p><p>I don't want to search through a bunch of tickets with "solutions" and try to judge whether they are good or not, then try to craft working code and test cases. I was asking for a patch. Or we can close this as a dup of of <a href="/ticket/8897">#8897</a>.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 09, 2012 04:29PM UTC by <span class="author">sindresorhus</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="https://github.com/jquery/jquery/pull/666" class="ext-link"><span class="icon"></span>Pull request</a></p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2012 02:34AM UTC by <span class="author">Sindre Sorhus</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old">patchwelcome</span> → <span class="change-field-new">fixed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Fix <a href="/ticket/11231">#11231</a>, (append|prepend|before|after) w/ array of jQuery objects.</p><p>Closes gh-666, thanks to @rkatic! </p><p> Changeset: ea9ec9527647f0cea396ca536e6f34b4a4491d11</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2012 02:36AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">None</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 15, 2012 08:56PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">needsdocs</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
