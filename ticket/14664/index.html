<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#14664 (Support the component packager) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/14663/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/14667/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#14664</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">feature</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 02, 2014 05:13PM UTC</p>
      
        <p>Closed January 22, 2014 07:58PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Support the component packager</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        wyuenho@gmail.com
      </td>
      <th>Owned by:</th>
      <td>timmywil</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        high
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>build</td>
      
        <th>Version:</th>
      
      <td>1.10.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th>Cc:</th>
      
      <td>timmywil</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Apologies if this has been reported before but I couldn't find anything from Trac's search so here it is again.</p><p>Since the latest jQuery version already support <a href="/wiki/CommonJS">CommonJS</a> style importing, I think it would be nice if jQuery supports this wonderful packaging system built by TJ Holowaychuk:</p><p><a href="https://github.com/component/component" class="ext-link"><span class="icon"></span>https://github.com/component/component</a></p><p>jQuery is one of the last few commonly used component in that ecosystem that doesn't have official support for Component. I was wondering if this could be built into the 1.x and 2.x line.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (11)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 02, 2014 05:16PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ wyuenho@gmail.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Can you outline what steps we'd need to take to support this?</p><p>Would you be able to do a pull request if we decided to support it?</p><p>I just deleted the duplicate ticket.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 02, 2014 05:22PM UTC by <span class="author">wyuenho@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>1. There needs to be a component.json file. </p><p><a href="https://github.com/component/spec/blob/master/component.json/specifications.md" class="ext-link"><span class="icon"></span>https://github.com/component/spec/blob/master/component.json/specifications.md</a></p><p>2. There needs to be a built jQuery distribution for a versioned tag</p><p>3. Tag and release.</p><p>I can do a PR for the component.json file but the tag needs to include a built JS file, might need to change your build system and release policy for that.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 06, 2014 05:37PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ timmywil</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Since you're working on the build stuff timmywil, what are your thoughts on this?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 10, 2014 02:59PM UTC by <span class="author">m_gol</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think we shouldn't support any such files manually. They should be generated in a build step (which means they will be available in the final version). I'm against manually supporting more package manager files or it'll become unmaintainable mess.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 15, 2014 11:02PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">build</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-old">wyuenho@gmail.com</span> → <span class="change-field-new">timmywil</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">high</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm fine with this. I think all we need to do is add the component.json file and support updating its version in the jquery-release repo. Anything else?</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 15, 2014 11:35PM UTC by <span class="author">m_gol</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">A question is: do we *really* need it? We&#39;re already supporting bower &amp; npm, now we&#39;ll add component, in some time another package manager will come and we&#39;ll be littered with configuration files.&#92;
&#92;
I&#39;m also quite afraid we&#39;ll be fighting with it similarly we did with browserify-related problems. It will turn out our require doesn&#39;t have an intuitive signature or sth and we&#39;ll just keep tweaking intro.js, breaking a different thing on each update.&#92;
&#92;
Is this package manager really popular? I haven&#39;t heard about it before.</span> → <span class="change-field-new">1389829027877321</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>A question is: do we *really* need it? We're already supporting bower & npm, now we'll add component, in some time another package manager will come and we'll be littered with configuration files.</p><p>I'm also quite afraid we'll be fighting with it similarly we did with browserify-related problems. It will turn out our require doesn't have an intuitive signature or sth and we'll just keep tweaking intro.js, breaking a different thing on each update.</p><p>Besides, there's a question of burden - why can't component extrapolate its data from package.json? Why do we have to cater to it and not otherwise?</p><p>Is this package manager really popular? I haven't heard about it before.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 16, 2014 05:04AM UTC by <span class="author">wyuenho@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@m_gol Here's the [answer](<a href="https://github.com/search?l=javascript&q=component.json&type=Code)" class="ext-link"><span class="icon"></span>https://github.com/search?l=javascript&q=component.json&type=Code)</a> to your question. Component is pretty popular. Component, Bower and Browserify are the 3 main client-side packagers out there now. They are all terrible, but all necessary.</p><p>Also, if your UMD block work with Browserify, it'll work in Component. They work pretty much the same way.</p><p>As to the question of burden, Component's idea of a component is fundamentally different from Bower/Browserify/npm. A component in Component consists of not only JS, but possibly HTML templates, CSS, fonts and images. You cannot express this in package.json, hence component.json was invented. Bower has its own bower.json as well.</p><p>I'd strongly urge you guys to support Component. Lots of components now depend on jQuery but they all maintain their own local copies. Not supporting Component upstream only pushes the maintenance nightmare downstream. Besides, it's really not that hard. You just define component.json once and updates it version number everytime you do a release and that's it. You are already doing everything else that's necessary.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 20, 2014 02:46PM UTC by <span class="author">m_gol</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:7 wyuenho@…]:</p><blockquote> @m_gol Here's the [answer](<a href="https://github.com/search?l=javascript&q=component.json&type=Code)" class="ext-link"><span class="icon"></span>https://github.com/search?l=javascript&q=component.json&type=Code)</a> to your question. Component is pretty popular.</blockquote><p>This is not a proof. Bower used to use the <code>component.json</code> file name before switching to <code>bower.json</code>, most of these uses can be related to that. Even the first result on your linked search clearly refers to bower:</p><p><a href="https://github.com/Bochenski/mashups/blob/17af5c03eda26aa2134c2c2e82d3b01a2c11e4e3/yeoman/generator/node_modules/yeoman/node_modules/bower/lib/core/config.js" class="ext-link"><span class="icon"></span>https://github.com/Bochenski/mashups/blob/17af5c03eda26aa2134c2c2e82d3b01a2c11e4e3/yeoman/generator/node_modules/yeoman/node_modules/bower/lib/core/config.js</a></p><p>Actually, I'd be quite surprised if most of these references weren't created specifically for Bower. BTW, this name clash shows that the name <code>component.json</code> might not have been the best choice.</p><blockquote> Component, Bower and Browserify are the 3 main client-side packagers out there now. They are all terrible, but all necessary.</blockquote><p>Browserify is not a package manager, npm is.</p><blockquote> Also, if your UMD block work with Browserify, it'll work in Component. They work pretty much the same way.</blockquote><p>"Pretty much" the same way or really the same way? I'm concerned e.g. about how <code>this</code> is defined in all of them since in regular client code it's equal to window but in Browserify it's the <code>module.exports</code> object. How does component handle that?</p><blockquote> As to the question of burden, Component's idea of a component is fundamentally different from Bower/Browserify/npm. A component in Component consists of not only JS, but possibly HTML templates, CSS, fonts and images. You cannot express this in package.json, hence component.json was invented. Bower has its own bower.json as well.</blockquote><p>Sure, it *can* contain HTML/CSS/etc. but it doesn't *have to*. Similarly to how npm uses .gitignore if .npmignore is not present, I still don't see why component couldn't just re-use package.json if component.json is missing.</p><blockquote> I'd strongly urge you guys to support Component. Lots of components now depend on jQuery but they all maintain their own local copies. Not supporting Component upstream only pushes the maintenance nightmare downstream.</blockquote><p>Can you name some major examples? The more the better.</p><blockquote> Besides, it's really not that hard. You just define component.json once and updates it version number everytime you do a release and that's it. You are already doing everything else that's necessary.</blockquote><p>Sure, we can do it if that's really all that's needed. I'm just afraid it's not all; supporting browserify also seemed easy at first look but we spent a lot of time & commits on making it work (and since the most recent browserify-related commit is really recent, I'm not 100% sure it works correctly now).</p><p>What you could do is create a separate jquery-component npm package & publish to it a 2.1.0-rc1 tag from the jQuery repository with only one change - the addition of the component.json file. Then you could check if it really works as expected and that there are no problems with using jQuery with component in such a setup. If all works fine (and if component is really that popular), we can add it. But I'd like to take the initial testing burden out of jQuery core team shoulders, we've been spending way too much time on package-management related issues recently.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 20, 2014 03:34PM UTC by <span class="author">wyuenho@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>1. Component is a project started a couple of months before Bower. If anything it's Bower that's hijacked the name component.json, not the other way around. In fact, the reason Bower changed to bower.json is because of Component, and Bower knew of the existence of Component and the steam that it seemed to be getting. Most projects that are still active have already switched to package.json or bower.json. You can Google the history of Bower and Component. The Bower team seems to be at odds with the Component team for some reason.</p><p>2. UMD blocks in Browserify and Component work exactly the same way. The global object in both are the module. This makes getting to the window, document etc harder but not impossible, but you have already supported <a href="/wiki/CommonJS">CommonJS</a> style imports anyway.</p><p>3. Component doesn't reuse package.json because you can't define anything other than a "main", and "main" in package.json must be a single module ID. This mechanism isn't good for anything exactly pure JS modules. TJ doesn't want to extend package.json like Browserify does, or break package.json like Bower. TJ goes out of his way to avoid name clashes.</p><p>4. I maintain <a href="http://backgridjs.com/" class="ext-link"><span class="icon"></span>Backgrid</a>, all of its extensions depend on Backgrid which in turn depends on jQuery. I'm sure you know <a href="http://ivaynberg.github.io/select2/" class="ext-link"><span class="icon"></span>Select2</a> as well. <a href="http://backbonejs.org" class="ext-link"><span class="icon"></span>Backbone</a> just recently added support for Component. The fact is, all of them depend on jQuery, but none of them really work because jQuery doesn't have a component.json file.</p><p>5. I'd love to help you guys testing out Component. Will send a PR over shortly.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 21, 2014 05:30PM UTC by <span class="author">m_gol</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>@wyuencho Thanks for your detailed comment. I didn't realize the Component project had started before Bower did.</p><p>I answered in your PR with technicalities.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 22, 2014 07:58PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>See the PR.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
