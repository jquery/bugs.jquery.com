<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#3521 (remove() fails with IE &amp;amp; ajax) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/3520/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/3522/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#3521</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">()</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened October 25, 2008 05:35AM UTC</p>
      
        <p>Closed November 11, 2010 11:09PM UTC</p>
      
      
        <p>Last modified March 14, 2012 11:27PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">remove() fails with IE &amp; ajax</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        arobinson
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.3">1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>core</td>
      
        <th>Version:</th>
      
      <td>1.2.6</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th>Cc:</th>
      
      <td>arobinson, flesler</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>When trying to manipulate the xhr responseXML when complete, I get errors in IE7 in jQuery 1.2.6.</p><p>The error happens at line 666 (go figure):</p><p>	data: function( elem, name, data ) {</p><p>		elem = elem == window ?</p><p>			windowData :</p><p>			elem;</p><p>		var id = elem[ expando ];</p><p>		// Compute a unique ID for the element</p><p>		if ( !id )</p><p>			id = elem[ expando ] = ++uuid;</p><p>The code I am using (xml is the xhr.responeXML):</p><p>var $scripts = $('script', xml).remove();</p><p>If I remove the call to "remove()" the error goes away.</p><p>Is there a way around this?</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 26, 2008 02:57PM UTC by <span class="author">flesler</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ arobinson, flesler</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-old">Review</span> → <span class="change-field-new">Test Case</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Can you make a test case to reproduce the problem ?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 04, 2008 10:37AM UTC by <span class="author">n_2</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have this same problem, works fine in ff, fails in ie at line 666. (loading xml from a string, rather than ajax call)</p><p>Here is a test case that works in ff, fails in ie. (latest version of jquery, 1.26)</p><pre class="wiki">
&lt;script type="text/javascript"&gt;
    //Xml Parser object
    var xmlParser = {
        xmlDoc : null,
        
        //Loads the xml string into a xml doc
        loadFromDb : function(xmlString) {
            if(window.ActiveXObject) { //ie
                this.xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
                this.xmlDoc.async="false";
                this.xmlDoc.loadXML(xmlString);
            }
            else { //ff/opera
                var parser = new DOMParser();
                this.xmlDoc = parser.parseFromString(xmlString,"text/xml");
            }
        },
        
        toString : function() {
            if (window.ActiveXObject)
                return this.xmlDoc.xml;
            else
                return (new XMLSerializer()).serializeToString(this.xmlDoc);
        },
        
        deleteTest : function() {
            $(this.xmlDoc).find("gd &gt; cd &gt; uid").remove();
        }
    };

    
    //Our test xml string
    var xml = "&lt;gd&gt;&lt;cd&gt;&lt;uid&gt;0&lt;/uid&gt;&lt;tm&gt;0&lt;/tm&gt;&lt;w&gt;0&lt;/w&gt;&lt;h&gt;0&lt;/h&gt;&lt;/cd&gt;&lt;/gd&gt;";
    
    //Load our xml up
    xmlParser.loadFromDb(xml);

    //And try and delete the uid node
    xmlParser.deleteTest();
    //Works fine in ff, fails in ie 7, "Object doesn't support this property or method.
    //Line 666 of jquery: id = elem[ expando ] = ++uuid;
    
    alert(xmlParser.toString());
&lt;/script&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 16, 2008 11:17AM UTC by <span class="author">MaRsuPiLaMi</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Another much simplier test-case.</p><p>I provided a cross browser implementation so you can test it quite easyly.</p><pre class="wiki">
&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;
&lt;title&gt;JQuery-Testen&lt;/title&gt;
&lt;script text="JavaScript" type="text/javascript" src="jquery-1.2.6.js"&gt;&lt;/script&gt;
&lt;script text="JavaScript" type="text/javascript"&gt;
function getDomFromXml(xml) {
        if (typeof ActiveXObject != 'undefined') {
                var dom = new ActiveXObject("Microsoft.XMLDOM");
                dom.async = false;
                dom.loadXML(xml);
        } else {
                parser = new DOMParser();
                dom = parser.parseFromString(xml, "text/xml");
        }
        return dom;
}

function getXmlFromDom(xmlDom) {
    if (typeof ActiveXObject != 'undefined') {
        return xmlDom.xml;
    } else {
        return (new XMLSerializer()).serializeToString(xmlDom);
    };
}

$(document).ready(function(){
    // get 2 doms
    dom = getDomFromXml("&lt;container&gt;&lt;repr type=\\"text\\"&gt;&lt;/repr&gt;&lt;/container&gt;");
    anotherDom = getDomFromXml("&lt;container&gt;&lt;blubb type=\\"text\\"&gt;bla&lt;/blubb&gt;&lt;/container&gt;");
     
    repr = $("repr",dom);
    blubb = $("blubb",anotherDom);
    //append the &lt;blubb&gt; element to the &lt;repr&gt; element
    repr.append(blubb);
    alert(getXmlFromDom(dom));
    // should remove the appended &lt;blubb&gt; element
    repr.find("*").remove();
    // ie never reach this line
    alert(getXmlFromDom(dom));
});
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 14, 2010 03:14AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This ticket has been marked as missing a test case. In an effort to reduce the number of outstanding tickets in the bug tracker, it will be closed automatically in 30 days. In order to prevent this from happening, please provide a working test case. If a test case has already been provided and our records are wrong, please respond to the ticket so that it can be fixed. Thank you!</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 11, 2010 11:09PM UTC by <span class="author">trac-o-bot</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Automatically closed due to 14 days of inactivity.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
