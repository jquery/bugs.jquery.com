<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11782 (Radio buttons set as &amp;quot;required&amp;quot; and then &amp;quot;not required&amp;quot; still act as required and prevent form submit) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11781/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11784/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11782</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened May 18, 2012 01:52AM UTC</p>
      
        <p>Closed May 29, 2012 12:31AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Radio buttons set as &quot;required&quot; and then &quot;not required&quot; still act as required and prevent form submit</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        TylerRick
      </td>
      <th>Owned by:</th>
      <td>TylerRick</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>attributes</td>
      
        <th>Version:</th>
      
      <td>1.7.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>If you set a radio button as required using jQuery <code>.attr('required', true)</code> and then try to set it as ''not'' required with <code>.attr('required', false)</code>, then the radio button will ''still'' be required and will prevent the form from submitting -- even though the required property ''claims'' to be <code>false</code>!</p><p>Here is a jsFiddle that reproduces this behavior:</p><p><a href="http://fiddle.jshell.net/TylerRick/RPsXQ/show/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/TylerRick/RPsXQ/show/</a></p><p>This appears to only be a problem in Firefox (for me). But it also appears to be specific to jQuery.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 18, 2012 02:37AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ TylerRick</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If you're using a Boolean with <code>.attr()</code> the smell of fail is in the air already, since <code>.attr()</code> should only be called with string values. If you want to change the in-memory DOM element property value and not the HTML markup attribute value then <code>.prop()</code> would be the right choice.</p><p>I think there should (at the moment) be a boolHook in place to "fix" this but it will be going away soon. </p><p>Does the problem appear if <code>.prop()</code> is used consistently?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 18, 2012 03:04AM UTC by <span class="author">TylerRick</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">By using `.prop()` consistently, I assume you mean using this to make the field required or not required:&#92;
{{{&#92;
    $(&#39;:input&#39;).prop(&#39;required&#39;, true);&#92;
}}}&#92;
and&#92;
{{{&#92;
    $(&#39;:input&#39;).prop(&#39;required&#39;, false);&#92;
}}}&#92;
&#92;
Yes, that appears to work (where changing with `.prop()` did not) &#39;&#39;&#39;&#39;&#39;*if*&#39;&#39;&#39;&#39;&#39; I remove the initial attribute value `required=&quot;required&quot;` from the HTML itself.&#92;
&#92;
It still does &#39;&#39;not&#39;&#39; work, however, if I leave that initial attribute value in there.&#92;
&#92;
I&#39;ve updated my jsFiddle to reflect that:&#92;
http://fiddle.jshell.net/TylerRick/RPsXQ/show/&#92;
&#92;
It&#39;s almost as if doing &#39;&#39;&#39;&#39;&#39;anything&#39;&#39;&#39;&#39;&#39; with the &#39;required&#39; attribute (even if it&#39;s setting an initial value in the HTML) is enough to cause `.prop(&#39;required&#39;, false)`/`.attr(&#39;required&#39;, false)` to no longer work...&#92;
&#92;
What&#39;s interesting is that I &#39;&#39;&#39;&#39;&#39;can&#39;&#39;&#39;&#39;&#39; change the &#39;required&#39; attribute directly with plain old JavaScript (`.setAttribute(&#39;required&#39;, &#39;required&#39;)`) and both `.prop(&#39;required&#39;, false)`/`.attr(&#39;required&#39;, false)` will continue to work as expected.&#92;
&#92;
So I guess it&#39;s &#39;&#39;only&#39;&#39; setting `required=&quot;required&quot;` via the HTML or `.attr(&#39;required&#39;, &#39;required&#39;)` via jQuery that causes this to not work as expected.</span> → <span class="change-field-new">1337357949490401</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>By using <code>.prop()</code> consistently, I assume you mean using this to make the field required or not required:</p><pre class="wiki">
    $(':input').prop('required', true);
</pre><p>and</p><pre class="wiki">
    $(':input').prop('required', false);
</pre><p>Yes, that appears to work (where changing with <code>.attr()</code> did not) ''<strong>*if*</strong>'' I remove the initial attribute value <code>required="required"</code> from the HTML itself.</p><p>It still does ''not'' work, however, if I leave that initial attribute value in there.</p><p>I've updated my jsFiddle to reflect that:</p><p><a href="http://fiddle.jshell.net/TylerRick/RPsXQ/show/" class="ext-link"><span class="icon"></span>http://fiddle.jshell.net/TylerRick/RPsXQ/show/</a></p><p>It's almost as if doing ''<strong>anything</strong>'' with the 'required' attribute (even if it's setting an initial value in the HTML) is enough to cause <code>.prop('required', false)</code>/<code>.attr('required', false)</code> to no longer work...</p><p>What's interesting is that I ''<strong>can</strong>'' change the 'required' attribute directly with plain old <a href="/wiki/JavaScript">JavaScript</a> (<code>.setAttribute('required', 'required')</code>) and both <code>.prop('required', false)</code>/<code>.attr('required', false)</code> will continue to work as expected.</p><p>So I guess it's ''only'' setting <code>required="required"</code> via the HTML or <code>.attr('required', 'required')</code> via jQuery that causes this to not work as expected.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 29, 2012 12:31AM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">attributes</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This has been fixed. The property was being set to empty string on all radios, which is still true, since the mere presence of boolean attributes indicates true, even if set to false.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
