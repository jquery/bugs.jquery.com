<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11147 (1.7.1 altered event behavior for UI autocompleteselect event) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11146/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11148/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11147</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 09, 2012 09:56PM UTC</p>
      
        <p>Closed January 11, 2012 12:49AM UTC</p>
      
      
        <p>Last modified January 11, 2012 10:55PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">1.7.1 altered event behavior for UI autocompleteselect event</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        gvwalsh
      </td>
      <th>Owned by:</th>
      <td>gvwalsh</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.7.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Using JQuery 1.7.1 the behavior of the Jquery <a href="/wiki/AutoComplete">AutoComplete</a> autocompleteselect event is different from 1.6.1. The "event.target" is no longer the text box INPUT element associated with the plugin but is instead the dynamically created A element from the suggestion list.  This results in the following example "delegate" no longer catching the event.  Using JQuery 1.6.1 the event is in fact caught and event.target is set to the INPUT element.</p><p>('body').delegate('input', 'autocompleteselect', function(event, ui) { blah blah blah);</p><p>However, even under JQuery 1.7.1 the code</p><p>$('input').bind('autocompleteselect', function(event, ui) { blah blah blah );</p><p>catches the event but the "event.target" is the A element.  However "event.currentTarget" is the INPUT element.  I do not know enough about the DOM to understand the difference between event.target and event.currentTarget.</p><p>This is at the very least a puzzling incompatibility which resulted in existing code stopping working and it smells like a bug.  I suspect it is related to the new unified event handling of 1.7.1</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 09, 2012 10:36PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ gvwalsh</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project! Please provide a complete reduced test case on jsFiddle to help us assess your ticket!</p><p>Additionally, be sure to test against the "jQuery (edge)" version to ensure the issue still exists. To get you started, use this boilerplate: <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a>  </p><p>Open the link and click to "Fork" (in the top menu) to begin.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 12:17AM UTC by <span class="author">gvwalsh</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="http://jsfiddle.net/gvwalsh/zN2e3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/gvwalsh/zN2e3/</a>   demonstrates new behavior against JQuery edge</p><p><a href="http://jsfiddle.net/gvwalsh/ppe3a/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/gvwalsh/ppe3a/</a>   demonstrates the "working" behavior against JQuery 1.5.2</p><p>type "ab" into the text box and then select one of the suggestions.  The version with 1.5.2 displays a "got here" alert indicating the event was caught.  The latest version never gets to the alert.  However the autocomplete does fill in the text box with the selected suggestion.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 12:49AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>jQuery UI 1.8.9 was released in January 2011 <a href="http://blog.jqueryui.com/2011/01/jquery-ui-1-8-9/" class="ext-link"><span class="icon"></span>http://blog.jqueryui.com/2011/01/jquery-ui-1-8-9/</a></p><p>jQuery 1.7 was released in November 2011 <a href="http://blog.jquery.com/2011/11/03/jquery-1-7-released/" class="ext-link"><span class="icon"></span>http://blog.jquery.com/2011/11/03/jquery-1-7-released/</a></p><p>Safe to say that jQuery UI 1.8.9 isn't compatible with the latest jQuery</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 01:51AM UTC by <span class="author">gvwalsh</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The problem originally surfaced using JQuery UI 1.8.16 which, by my thinking should certainly be supported by the latest version of the JQuery core.  I did not create a fiddle test case using this version of UI since the 1.8.9 version is the latest version that jsfiddle apparently offers for easy inclusion.  The symptoms that appear in my full application using JQuery UI 1.8.16 appear identical to what happens with 1.8.9.  </p><p>By the way the Yii framework distributes UI 1.8.16 with JQuery 1.7.1 which is where I originally encountered the problem - upgrading a working application to Yii 1.1.9 where it stopped working because of this autocomplete event problem.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 03:52AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>jQuery 1.8.16 was released in August, 2011 <a href="http://blog.jqueryui.com/2011/08/jquery-ui-1-8-16/" class="ext-link"><span class="icon"></span>http://blog.jqueryui.com/2011/08/jquery-ui-1-8-16/</a></p><p>Please file a ticket with Yii - they shouldn't be mixing and matching jQuery UI with incompatible versions of jQuery</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 04:42AM UTC by <span class="author">gvwalsh</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>So what version of JQuery UI should be used with JQuery core 1.7.1?  The current stable UI version is 1.8.17 which would be, by the customary way software versions are numbered, only a very minor difference away from 1.8.16.  Are you saying that only UI version 1.8.17 has the changes that make it work properly with core 1.7.1?  (and does it in fact work? - is there an easy way to test this with jsfiddle? Is there general guidance on compatibility anywhere?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 04:43AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="http://blog.jqueryui.com/2012/01/jquery-ui-1-8-17/" class="ext-link"><span class="icon"></span>http://blog.jqueryui.com/2012/01/jquery-ui-1-8-17/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 09:31PM UTC by <span class="author">gvwalsh</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have now tested UI 1.8.17 / core 1.7.1 and the problem is in fact gone! ...i.e. the autocompleteselect event is now caught by delegate('input' ...</p><p>However, I am very curious as to the nature of the change in the core that provoked this problem and whether there are other subtle bugs to be expected in user code.  It appears given my experiment with bind where the target seems to have changed from the INPUT element to the A element it appears that the new event handling model of 1.7.1 may provoke other problems in previously working code.</p><p>I also question the compatibility philosophy expressed by rwaldron.  At the time Yii 1.1.9 was released there was no released UI 1.8.17 in existance and 1.8.16 was the best that could be had.  I don't think there was any general awareness that there were incompatibilities.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 10:55PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We have more than 5,000 unit tests for jQuery, and we run the jQuery UI unit tests before a release as well, plus we plead with the entire community to please please pretty-please-with-sugar-on-top test the pre-release versions before we go final--for example, you tested with the pre-release versions, right?</p><p>And then we ship. When someone finds a bug that wasn't covered by one of the existing tests, the best we can do is to fix it and add some more unit tests to ensure it doesn't happen again. </p><p>If we had a time machine, we could do much better of course. I would send rwaldron back to 2011 to insert the new unit tests into the 1.6 branch so that we would not introduce those bugs in 1.7. But then he would get cocky and decide to kill Bin Laden himself and really mess up the timeline because it turns out he kills Bin Laden on Friday and Rebecca Black's song becomes the patriotic anthem for the whole country and we have to listen to it before every major sporting event. </p><p>So all things considered, this bug isn't so bad.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
