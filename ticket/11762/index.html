<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11762 (iPad 5.1.1 UIWebView - JSON.stringify cannot serialize cyclic structures.) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11761/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11763/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11762</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened May 14, 2012 03:38AM UTC</p>
      
        <p>Closed May 14, 2012 04:52AM UTC</p>
      
      
        <p>Last modified May 18, 2012 08:41PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">iPad 5.1.1 UIWebView - JSON.stringify cannot serialize cyclic structures.</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        bigred23z@gmail.com
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.7.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>iPad iOS 5.1.1 (UIWebView)</p><p>jQuery - 1.7.1</p><p>jQuery Mobile - 1.1.0</p><p>Phonegap - 1.7.0</p><p>I'm attempting to load a JSON object via a $.ajax call and am getting a weird error.  It works fine on the iPad and iPhone simulators, but when testing on a real device I receive the following error (courtesy of $(document).ajaxError).</p><pre class="wiki">
2012-05-13 20:21:12.955 Modeling[555:707] [INFO] TypeError: JSON.stringify cannot serialize cyclic structures.
2012-05-13 20:21:12.958 Modeling[555:707] [INFO] {"readyState":0,"responseText":"","status":0,"statusText":"error"}
2012-05-13 20:21:12.959 Modeling[555:707] [INFO] {"url":"...","isLocal":true,"global":true,"type":"GET","contentType":"application/json; charset=utf-8","processData":true,"async":true,"accepts":{"xml":"application/xml, text/xml","html":"text/html","text":"text/plain","json":"application/json, text/javascript","*":"*/*","script":"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},"contents":{"xml":{},"html":{},"json":{},"script":{}},"responseFields":{"xml":"responseXML","text":"responseText"},"converters":{"text html":true},"flatOptions":{"context":true,"url":true},"jsonp":"callback","cache":false,"dataType":"json","dataTypes":["text","json"],"crossDomain":true,"hasContent":false}
</pre><p>The call I am using is:</p><pre class="wiki">
$.ajax({
            cache: false,
            url: MyUrl,
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (cities, textStatus, jqXHR) {
            }
});
</pre><p>If it is truly an iOS issue, then I assume all devices running a Phonegap + jQuery + jQuery Mobile stack will fail on iOS 5.1.1.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 14, 2012 04:52AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This neither a jQuery, iOS nor Phonegap issue. JSON.stringify cannot serialize objects that have cyclic structures or references as properties.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2012 01:23AM UTC by <span class="author">bigred23z@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I would like to see this ticket re-opened.</p><p>The example json file I am loading can be found at:</p><p><a href="http://api.geonames.org/countryInfoJSON?formatted=true&lang=it&country=DE&username=demo&style=full" class="ext-link"><span class="icon"></span>http://api.geonames.org/countryInfoJSON?formatted=true&lang=it&country=DE&username=demo&style=full</a></p><p>There is no cycles or references, so the error received does not pertain to the source.</p><p>Setup One (Successful):</p><ul><li>iPhone Simulator - iOS 5.1</li><li>Cordova 1.7.0</li><li>jQuery 1.7.1 (& 1.7.2)</li></ul><p>Screenshot: <a href="http://i.imgur.com/MlFZ0.png" class="ext-link"><span class="icon"></span>http://i.imgur.com/MlFZ0.png</a></p><p>The source was retrieved using $.ajax successfully (response "success").</p><p>Setup One (Failure):</p><ul><li>Physical iPad 2 - iOS 5.1.1</li><li>Cordova 1.7.0</li><li>jQuery 1.7.1 (& 1.7.2)</li></ul><p>Screenshot: <a href="http://i.imgur.com/e516V.png" class="ext-link"><span class="icon"></span>http://i.imgur.com/e516V.png</a></p><p>The url was NOT successfully processed.  An error of "JSON.stringify cannot serialize cyclic structures." is given.</p><p>Source code (example cordova index.html): <a href="https://gist.github.com/2698397" class="ext-link"><span class="icon"></span>https://gist.github.com/2698397</a></p><p>If you need any further details please let me know.  </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 15, 2012 01:35AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Please provide a complete reduced test case on jsFiddle to help us assess your ticket. Be sure to test against the "jQuery (edge)" version to ensure the issue still exists. To get you started, use this boilerplate: <a href="http://jsfiddle.net/FrKyN/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FrKyN/</a>  </p><p>Open the link and click to "Fork" (in the top menu) to begin.</p><p>If this is a bug in jQuery, it will be reproducible without any of the other libraries or technologies present.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 18, 2012 11:48AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I have the same problem using Phonegap 1.7.0, jquery mobile 1.1.0, jquery 1.7.1 </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 18, 2012 08:41PM UTC by <span class="author">bigred23z@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Test case can be found at: <a href="http://jsfiddle.net/mSDYA/1/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/mSDYA/1/</a></p><p>It appears to work with Safari on the iPad 2 - iOS 5.1.1 (theoretically the same rendering engine as UIWebView) "without any of the other libraries or technologies present".  I don't see how Phonegap could be modifying native JSON libraries.. Perhaps iOS broke something with the 5.1 -&gt; 5.1.1 patch.</p><p>I've opened an issue with Cordova (Phonegap).  Hopefully they will reply</p><p><a href="https://issues.apache.org/jira/browse/CB-773." class="ext-link"><span class="icon"></span>https://issues.apache.org/jira/browse/CB-773.</a></p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
