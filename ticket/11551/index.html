<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11551 (uncaught exception: Invalid JSON) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11550/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11552/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11551</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened April 03, 2012 04:31PM UTC</p>
      
        <p>Closed April 03, 2012 06:03PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">uncaught exception: Invalid JSON</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        sheir@magma.ca
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.5.2</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Hello,</p><p>I am new to jQuery and am working on an application that uses .NET4 (C#) + MVC3 + Razor view engine + jQuery + JSON.</p><p>Using Firefox v11 with the Firebug javascript debugger add-in.</p><p>In my viewpage .cshtml I have the following:</p><p>@using System.Linq;</p><p>@using System.Web.Script.Serialization;</p><p>@using Models;</p><p>@using Infrastructure;</p><p>@model Models.JobSettingsModel</p><p>@{</p><p>    <a href="/wiki/JobSettingsModel">JobSettingsModel</a> defModel = <a href="/wiki/ViewBag">ViewBag</a>.DefaultModel;</p><p>    <a href="/wiki/JavaScriptSerializer">JavaScriptSerializer</a> serializer = new <a href="/wiki/JavaScriptSerializer">JavaScriptSerializer</a>();</p><p>    string json = serializer.Serialize(defModel);</p><p>}</p><p>&lt;script type="text/javascript"&gt;</p><p>    var obj = '@Html.Raw(json)';</p><p>    var oModel1 = jQuery.parseJSON(obj); </p><p>    function foo() {</p><p>        if (oModel1 != null) {</p><p>            alert("OModel1 is not null");</p><p>        }</p><p>        else {</p><p>            alert("oModel1 is null!");</p><p>        }</p><p>        if (obj != null) {</p><p>            alert("obj is not null");</p><p>        }</p><p>        else {</p><p>            alert("obj is null");</p><p>        }</p><p>    }</p><p>    foo();</p><p>&lt;/script&gt;</p><p>When I view my page in Firefox, Firebug's Script tab shows the javascript as:</p><p>&lt;script type="text/javascript"&gt;</p><p>var obj = </p><p>'{"IncludeWatermark":false,"WatermarkText":"empty","IncludePageNumbering":false,"OverwriteOutputFileIfExists":</p><p>true,"OutputFilename":"dummyDefault.pdf","OutputLibraryLocation":"c:\\\\temporary","User":{"Name":"Sheir","DisplayName":"Sheir","GivenName":"Sheir","MiddleName":null,"Surname":"","SamAccountName":"sheir","IsActive":true,</p><p>"UserId":"mydomainINC\\\\sheir"},</p><p>"SharePointLocationUrl":null,"FeedbackUrl":null,"AppDescriptionUrl":null}';</p><p>var oModel1 = jQuery.parseJSON(obj);</p><p>Firebug's Console tab + Error tab shows:</p><p>uncaught exception: Invalid JSON: </p><p>{"IncludeWatermark":false,"WatermarkText":"empty","IncludePageNumbering":false,"OverwriteOutputFileIfExists":t</p><p>rue,"OutputFilename":"dummyDefault.pdf","OutputLibraryLocation":"c:\\temporary","User":{"Name":"Sheir",</p><p>"DisplayName":"Sheir","GivenName":"Sheir","MiddleName":null,"Surname":"","SamAccountName":"sheir","IsActive":true,"UserId</p><p>":"mydomainINC\\sheira"},"SharePointLocationUrl":null,"FeedbackUrl":null,"AppDescriptionUrl":null}</p><p>Line 0</p><p>**************************</p><p>First I copied the oModel1 parseJSON param (everything from the { to the } ) and stuck it in the </p><p><a href="http://jsonlint.com/" class="ext-link"><span class="icon"></span>http://jsonlint.com/</a></p><p>and clicked their Validate button which says</p><p>{</p><p>    "IncludeWatermark": false,</p><p>    "WatermarkText": "empty",</p><p>    "IncludePageNumbering": false,</p><p>    "OverwriteOutputFileIfExists": true,</p><p>    "OutputFilename": "dummyDefault.pdf",</p><p>    "OutputLibraryLocation": "c:\\\\temporary",</p><p>    "User": {</p><p>        "Name": "Sheir",</p><p>        "DisplayName": "Sheir",</p><p>        "GivenName": "Sheir",</p><p>        "MiddleName": null,</p><p>        "Surname": "",</p><p>        "SamAccountName": "sheir",</p><p>        "IsActive": true,</p><p>        "UserId": "mydomainINC\\\\sheira"</p><p>    },</p><p>    "SharePointLocationUrl": null,</p><p>    "FeedbackUrl": null,</p><p>    "AppDescriptionUrl": null</p><p>}</p><h2>&gt;	Valid JSON</h2><p>Then I copied the uncaught exception message and did same and got ...</p><p>{</p><p>    "IncludeWatermark": false,</p><p>    "WatermarkText": "empty",</p><p>    "IncludePageNumbering": false,</p><p>    "OverwriteOutputFileIfExists": true,</p><p>    "OutputFilename": "dummyDefault.pdf",</p><p>    "OutputLibraryLocation": "c:\\temporary",</p><p>    "User": {</p><p>        "Name": "Sheir",</p><p>        "DisplayName": "Sheir",</p><p>        "GivenName": "Sheir",</p><p>        "MiddleName": null,</p><p>        "Surname": "",</p><p>        "SamAccountName": "sheir",</p><p>        "IsActive": true,</p><p>        "UserId": "mydomainINC\\sheira"</p><p>    },</p><p>    "SharePointLocationUrl": null,</p><p>    "FeedbackUrl": null,</p><p>    "AppDescriptionUrl": null</p><p>}</p><p>Parse error on line 16:</p><p>...,        "UserId": "mydomainINC\\sheira"</p><p>----------------------^</p><p>Expecting 'STRING', 'NUMBER', 'NULL', 'TRUE', 'FALSE', '{', '['</p><p>So I am perplex to say the least.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (1)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 03, 2012 06:03PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is the bug tracker for jQuery bugs. It looks like your JSON is not valid since backslashes should be escaped, but again this is not the place to ask for help. Try <a href="http://forum.jquery.com" class="ext-link"><span class="icon"></span>http://forum.jquery.com</a> or <a href="/wiki/StackOverflow">StackOverflow</a>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
