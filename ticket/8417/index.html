<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#8417 (When posting AJAX and the data has &amp;quot;??&amp;quot; is formats it to jQuery&amp;lt;timestamp&amp;gt;?) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/8416/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/8418/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#8417</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened March 02, 2011 01:48AM UTC</p>
      
        <p>Closed April 16, 2011 03:59PM UTC</p>
      
      
        <p>Last modified August 16, 2013 01:01AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">When posting AJAX and the data has &quot;??&quot; is formats it to jQuery&lt;timestamp&gt;?</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        jason.jong@gmail.com
      </td>
      <th>Owned by:</th>
      <td>jaubourg</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.6">1.6</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.5.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Works fine with 1.4.4</p><p>Example:</p><p>var myData = { <a href="/wiki/AccountIds">AccountIds</a>: 17, Message: "??" };</p><p>var encData = JSON.stringify(myData);</p><p>// all ok so far</p><p>$.ajax({</p><p>	type: "POST",</p><p>	url: "services/Messages.ashx?cmd=set",</p><p>	data: jsonData,</p><p>	dataType: "json",</p><p>        success: function() {</p><p>        }</p><p>});</p><p>// in the receiving end, then I read the stream, the message becomes</p><p>jQuery151044947751238942146_1299030184872?</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (47)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 02, 2011 02:15AM UTC by <span class="author">jason.jong@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>i tried to replicate the issue on jsfiddle, but dont know how to see the data posted back</p><p><a href="http://jsfiddle.net/aVddJ/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/aVddJ/3/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 02, 2011 06:45AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Default encoding in ajaxSettings is x-www-form-urlencoded. So you have to encode your data using encodeURIComponent().</p><p>See <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/encodeURIComponent" class="ext-link"><span class="icon"></span>https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/encodeURIComponent</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 16, 2011 10:14AM UTC by <span class="author">shiki</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The weird thing about this is if I set the ajax settings to:</p><p>    contentType: "application/json; charset=utf-8",</p><p>    dataType: "json",</p><p>    processData: false,</p><p>The "??" string in data still gets replaced with something like "jQuery151020082441558501163_1300269082410". If I'll remove "dataType: json" though, it works. </p><p>Sample: <a href="http://jsfiddle.net/5gwEF/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/5gwEF/</a> </p><p>(I used Firebug to see what the ajax sending). This seems to work with 1.4.4.</p><p>I'm curious on what's really the correct way to send a JSON string with $.ajax. Encoding with encodeURIComponent() would turn "??" into "%20%3F%3F". That's what the server's gonna receive. Is the server responsible for decoding it (e.g. <a href="http://php.net/manual/en/function.urldecode.php" class="ext-link"><span class="icon"></span>urldecode</a>) even if the sent content type is "application/json"?</p><p>Interestingly, that code in jsFiddle is pretty much how Backbone uses it to send JSON to the server. Direct link here: <a href="http://documentcloud.github.com/backbone/docs/backbone.html#section-111" class="ext-link"><span class="icon"></span>http://documentcloud.github.com/backbone/docs/backbone.html#section-111</a> </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 29, 2011 11:43PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/8697">#8697</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 30, 2011 12:05AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>So will this be fixed? </p><p>Is the solution to encodeURIComponent() all the inputs and then URLDecode on the server?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 07:27PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Any update on this ticket? I keep running into this issue and not sure how to work around it.</p><p>Should we call encodeURIComponent() on the json string or will this be fixed in jquery?</p><p>Thanks.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 08:29PM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This is happening for me too. As mentioned in the 3rd comment, the workaround is to remove dataType: "json". I'm not sure why this replacement is occurring here, I'm guessing this is related to JSONP.</p><p>I suggest reopening - it doesn't seem to be related to using encodeURIComponent as that would only apply for a content type of x-www-form-urlencoded. This can be reproduced for a content type of application/json.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 09:02PM UTC by <span class="author">cowboy</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Guys, the data that <code>$.ajax</code> expects is either a query string, like <code>a=1&b=2</code> or an object (that <code>$.ajax</code> serializes into a query string internally, using <code>$.param</code>) like <code>{a: 1, b: 2}</code>.</p><p>By passing a JSON string in as form data, you're effectively requesting a URL like:</p><p><code>process.php?{"a":1,"b":2}</code></p><p>which makes no sense. Note that both GET and POST work in a similar enough way for the purpose of this comment that you shouldn't worry about the semantics. Either way, the server is really expecting a URL like:</p><p><code>process.php?a=1&b=2</code></p><p>The solution: just pass the object in as data, without first stringifying it to JSON, and you should be all set. See <a href="http://jsfiddle.net/cowboy/zs4Ez/" class="ext-link"><span class="icon"></span>this example</a>.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 09:22PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>OR if you actually WANT to pass a JSON string to the server, for whatever reason, you have to pass it as one of the values in the data parameter</p><pre class="wiki">
$.ajax({
 data: {
  foo: JSON.stringify(bar);
 }
});
</pre>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 09:27PM UTC by <span class="author">danheberden</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>such as <a href="http://jsfiddle.net/danheberden/aVddJ/4/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/danheberden/aVddJ/4/</a> and <a href="http://jsfiddle.net/danheberden/aVddJ/8/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/danheberden/aVddJ/8/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 10:32PM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi all, thanks for taking a look. I'm not too familiar with jsFiddle but I managed to reproduce the problem in this one: <a href="http://jsfiddle.net/zs4Ez/5/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/zs4Ez/5/</a></p><p>Note that you have to use the "Resources" tab in Webkit to view the request payload that's being sent to the server to see the problem. Note that I am using JSON.stringify() for the data.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 10:47PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:11 Jason Davies]:</p><p>  Yes, as the previous commenters explained, your data is not valid. You can do one of the other two options.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:23PM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:12 timmywil]:</p><p>Hi Timmy, thanks for looking at this.</p><p>The data itself is not valid, perhaps it'll help if I explain the use case. I'm simply trying to POST a string (containing JSON data) as the request body.  This is common for REST APIs that take JSON data as input via the POST body.</p><p>It seems the default setup is to replace all instances of ?? in the POST body with a callback, even for normal dataType="json" requests. Or perhaps I'm misunderstanding the point of the dataType parameter? From the docs: "The type of data that you're expecting back from the server." - doesn't seem relevant.</p><p>The thing is, my request is *not* a JSONP request, so I don't know why this ?? replacement is occurring at all.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:28PM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I know I can turn this behaviour off by setting jsonp: false, but it seems odd that JSONP replacement occurs by default even when JSONP is not being used.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:33PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Of course.  REST!  However, you can ensure that requests are not converted to jsonp and override the addition of a callback by setting jsonp to false.  Click the post in firebug lite and go the POST tab to view the data. <a href="http://jsfiddle.net/timmywil/zs4Ez/6/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/timmywil/zs4Ez/6/</a></p><p>It should be more restful. ;)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:35PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Well, it seems you figured that out.  The automatic conversion to jsonp exists so that the getJSON function (which is really just a shortcut for ajax as you know) can also be used for jsonp.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:17">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:53PM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:17">comment:17</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>See <a href="https://github.com/jquery/jquery/pull/294" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/pull/294</a> for my fix, which only affects requests with data in the request body, so won't affect getJSON.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:18">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:55PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:18">comment:18</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:19">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2011 11:55PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:19">comment:19</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">ajax</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:20">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 01, 2011 12:28AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:20">comment:20</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ jaubourg</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:17 Jason Davies]:</p><blockquote> See <a href="https://github.com/jquery/jquery/pull/294" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/pull/294</a> for my fix, which only affects requests with data in the request body, so won't affect getJSON.</blockquote><p>I commented on this request and closed it.</p><p>shiki exhibited the actual bug in comment 3 ( <a href="http://bugs.jquery.com/ticket/8417#comment:3" class="ext-link"><span class="icon"></span>http://bugs.jquery.com/ticket/8417#comment:3</a> ): if contentType is x-www-form-urlencoded then you have to use encodeURIComponent when providing data as a string:</p><pre class="wiki">
$.ajax({
 data: encodeURIComponent( JSON.stringify(bar) )
});
</pre><p>In that case, the regexp is never positive and, since the encoding is provided in the request headers, the server will decode the data string properly.</p><p>Now, when contentType does not involve url encoding, then, yes, here you have an actual bug since the prefilter shouldn't attempt to regexp test the data.</p><p>jQuery 1.4.4 was far too lenient regarding encoding. If contentType is x-www-form-urlencoded, you have to url-encode your data, or else, ajax is perfectly entitled to interpret special characters as it sees fit. Once again: encoding is <strong>NOT</strong> optional.</p><p>Didn't see the conversation was still going and missed shiki's comment which, again, was right on while acknowledging the need for encoding when specified. I'm taking ownership.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:21">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 01, 2011 09:52AM UTC by <span class="author">Jason Davies</span></span>
        <a class="ticket-change-link" href="#comment:21">comment:21</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've updated the pull request with a fix that checks for the contentType instead: <a href="https://github.com/jquery/jquery/pull/294" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/pull/294</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:22">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 07, 2011 11:01AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:22">comment:22</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/8798">#8798</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:23">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2011 03:57PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:23">comment:23</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/8895">#8895</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:24">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2011 03:59PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:24">comment:24</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="https://github.com/jquery/jquery/commit/4ad9b44deada9da9639f53b1ca3cc4cf2ebf2df2" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery/commit/4ad9b44deada9da9639f53b1ca3cc4cf2ebf2df2</a></p><p>Use proper encoding or set it properly using contentType.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:25">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 16, 2011 04:00PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:25">comment:25</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.next</span> → <span class="change-field-new">1.6</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:26">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2011 05:50PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:26">comment:26</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9032">#9032</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:27">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 19, 2011 01:03AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:27">comment:27</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9340">#9340</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:28">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 26, 2011 03:12PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:28">comment:28</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/9430">#9430</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:29">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 15, 2011 03:58AM UTC by <span class="author">dgrobler</span></span>
        <a class="ticket-change-link" href="#comment:29">comment:29</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Still getting the same issue with 1.6.1 - explicitly specifying contentType as "application/json; charset=utf-8".</p><p>Sending data to REST endpoint (Microsoft Dynamics CRM 2011 oData REST endpoint to be exact)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:30">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 15, 2011 05:31AM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:30">comment:30</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:29 dgrobler]:</p><blockquote> Still getting the same issue with 1.6.1 - explicitly specifying contentType as "application/json; charset=utf-8".  Sending data to REST endpoint (Microsoft Dynamics CRM 2011 oData REST endpoint to be exact)</blockquote><p>Could you make a fiddle demonstrating the issue?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:31">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 16, 2011 02:41AM UTC by <span class="author">dgrobler</span></span>
        <a class="ticket-change-link" href="#comment:31">comment:31</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:30 jaubourg]:</p><blockquote> Replying to [comment:29 dgrobler]: &gt; Still getting the same issue with 1.6.1 - explicitly specifying contentType as "application/json; charset=utf-8". &gt;  &gt; Sending data to REST endpoint (Microsoft Dynamics CRM 2011 oData REST endpoint to be exact)  Could you make a fiddle demonstrating the issue?</blockquote><p>Tricky putting a working fiddle together (need to be able to authenticate against a Microsoft Dynamics CRM 2011 oData REST endpoint)  What I can do is post the following that might help:</p><p>jQuery AJAX Code</p><pre class="wiki">
    $.ajax(
    {
        type: "POST",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        url: serverUrl + ODATA_ENDPOINT + "/" + odataSetName,
        data: jsonEntity,
        beforeSend: function (XMLHttpRequest) {
            //Specifying this header ensures that the results will be returned as JSON.             
            XMLHttpRequest.setRequestHeader("Accept", "application/json; charset=utf-8");
        },
        success: function (data, textStatus, XmlHttpRequest) {
            if (successCallback) {
                successCallback(data.d, textStatus, XmlHttpRequest);
            }
        },
        error: function (XmlHttpRequest, textStatus, errorThrown) {
            if (errorCallback)
                errorCallback(XmlHttpRequest, textStatus, errorThrown);
            else
                CaseErrorHandler(XmlHttpRequest, textStatus, errorThrown);
        }
    });
</pre><p>JSON that is passed into the data parameter:</p><pre class="wiki">
"{"CustomerId":{"Id":"{6E89243F-111D-E011-872A-00505682001B}","Name":"Interglobal","LogicalName":"account"},"Title":"John Bain","new_UserStory":null,"CaseTypeCode":{"Value":2},"new_CaseStatus":{"Value":100000000},"new_StartTime":null,"new_EndTime":null,"new_ClientId":{"Id":"{6E89243F-111D-E011-872A-00505682001B}","Name":"Interglobal","LogicalName":"account"},"new_CustomerPolicyId":{"Id":"{ECE85351-8D7B-E011-8686-00505682001B}","Name":"John Bain - ABC123","LogicalName":"new_customerpolicy"},"new_City":null,"new_Country":null,"new_CustomerId":{"Id":"{A913AB1A-3196-E011-8D9F-00505682001B}","Name":"John Lawrie Bain","LogicalName":"contact"},"new_Handover":true,"new_HandoverReasonDetails":"Test jquery 1.6.1 with lots of question marks","new_HandoverScript":"Test jquery 1.6.1 with lots of question marks??","new_HandoverToId":{"Id":"{24CE0524-BC34-E011-872A-00505682001B}","Name":"Dieter Grobler","LogicalName":"systemuser"},"new_HandoverReason":{"Value":100000000},"new_voicemailsent":false,"new_Whiteboard":true,"new_WhiteboardReasonDetails":"Test jquery 1.6.1 with lots of question marks","new_WhiteboardReason":{"Value":100000000},"new_FinancialCaseStrategy":null,"new_FinancialCaseStrategyUpdated":null,"new_LogisticalCaseStrategy":null,"new_LogisticalCaseStrategyUpdated":null,"new_MedicalCaseStrategy":null,"new_MedicalCaseStrategyUpdated":null,"TransactionCurrencyId":{"Id":"{4E87F4A0-041D-E011-B306-00505682001B}","Name":"New Zealand Dollar","LogicalName":"transactioncurrency"},"new_ReserveAmount":{"Value":"5000"},"new_RequireEvacuationRepatriation":false}"
</pre><p>Request JSON:</p><pre class="wiki">
{"CustomerId":{"Id":"{6E89243F-111D-E011-872A-00505682001B}","Name":"Interglobal","LogicalName":"account"},"Title":"John Bain","new_UserStory":null,"CaseTypeCode":{"Value":2},"new_CaseStatus":{"Value":100000000},"new_StartTime":null,"new_EndTime":null,"new_ClientId":{"Id":"{6E89243F-111D-E011-872A-00505682001B}","Name":"Interglobal","LogicalName":"account"},"new_CustomerPolicyId":{"Id":"{ECE85351-8D7B-E011-8686-00505682001B}","Name":"John Bain - ABC123","LogicalName":"new_customerpolicy"},"new_City":null,"new_Country":null,"new_CustomerId":{"Id":"{A913AB1A-3196-E011-8D9F-00505682001B}","Name":"John Lawrie Bain","LogicalName":"contact"},"new_Handover":true,"new_HandoverReasonDetails":"Test jquery 1.6.1 with lots of question marks","new_HandoverScript":"Test jquery 1.6.1 with lots of question marksjQuery15102242055933082286_1308190892929","new_HandoverToId":{"Id":"{24CE0524-BC34-E011-872A-00505682001B}","Name":"Dieter Grobler","LogicalName":"systemuser"},"new_HandoverReason":{"Value":100000000},"new_voicemailsent":false,"new_Whiteboard":true,"new_WhiteboardReasonDetails":"Test jquery 1.6.1 with lots of question marks","new_WhiteboardReason":{"Value":100000000},"new_FinancialCaseStrategy":null,"new_FinancialCaseStrategyUpdated":null,"new_LogisticalCaseStrategy":null,"new_LogisticalCaseStrategyUpdated":null,"new_MedicalCaseStrategy":null,"new_MedicalCaseStrategyUpdated":null,"TransactionCurrencyId":{"Id":"{4E87F4A0-041D-E011-B306-00505682001B}","Name":"New Zealand Dollar","LogicalName":"transactioncurrency"},"new_ReserveAmount":{"Value":"5000"},"new_RequireEvacuationRepatriation":false}
</pre><p>Note that my question marks (??) are replaced by jQuery15102242055933082286_1308190892929 in my request.  The server does respond as expected with the correct result but the jQuery call triggers the error event handler rather than success.</p><p>Hope that helps and I hope that it is not my stupid mistake!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:32">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 24, 2012 08:16AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:32">comment:32</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm using jQuery 1.8 and the problem is still there.</p><p>Using '??' makes jQuery replace that with the string generated by:</p><p>jQuery.ajaxSetup({</p><p>    jsonp: "callback",</p><p>    jsonpCallback: function() {</p><p>        return jQuery.expando + "_" + ( jsc++ );</p><p>    }</p><p>});</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:33">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 04, 2012 08:30PM UTC by <span class="author">swdc17@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:33">comment:33</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Please re-open this ticket, the problem still exists.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:34">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 10, 2012 01:59PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:34">comment:34</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:33 swdc17@…]:</p><blockquote> Please re-open this ticket, the problem still exists.</blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:35">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 16, 2012 09:47AM UTC by <span class="author">alec</span></span>
        <a class="ticket-change-link" href="#comment:35">comment:35</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Still not fixed in 1.8.2.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:36">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 16, 2012 10:01AM UTC by <span class="author">alec</span></span>
        <a class="ticket-change-link" href="#comment:36">comment:36</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Forget about my comment. Setting contentType to "application/json; charset=utf-8" fixes the issue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:37">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2012 11:35AM UTC by <span class="author">erlend@oftedal.no</span></span>
        <a class="ticket-change-link" href="#comment:37">comment:37</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Compare these two:</p><p><a href="http://jsfiddle.net/FyRBK/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FyRBK/3/</a></p><p><a href="http://jsfiddle.net/FyRBK/4/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FyRBK/4/</a></p><p>Setting the content type in different ways, gives different results.</p><p>This is still a bug, and should be reopened.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:38">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 06, 2012 12:22PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:38">comment:38</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Replying to [comment:37 erlend@…]:&#92;
&gt; Compare these two:&#92;
&gt; http://jsfiddle.net/FyRBK/3/&#92;
&gt; http://jsfiddle.net/FyRBK/4/&#92;
&gt; &#92;
&gt; Setting the content type in different ways, gives different results.&#92;
&gt; &#92;
&gt; This is still a bug, and should be reopened.&#92;
&#92;
No, the first method sets the content type of the *request* body, the second, the content type of the *response* body. There is no bug here.</span> → <span class="change-field-new">1354797324791727</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:37 erlend@…]:</p><blockquote> Compare these two: <a href="http://jsfiddle.net/FyRBK/3/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FyRBK/3/</a> <a href="http://jsfiddle.net/FyRBK/4/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/FyRBK/4/</a>  Setting the content type in different ways, gives different results.  This is still a bug, and should be reopened.</blockquote><p>Scrap the previous comment. I wasn't quite awake.</p><p>So, jQuery doesn't inspect headers sent the second way because some transports won't use them. Use contentType to set the encoding of your data. It's not a bug.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:39">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 02, 2013 02:10PM UTC by <span class="author">erlend@oftedal.no</span></span>
        <a class="ticket-change-link" href="#comment:39">comment:39</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>replying to jaubourg</p><p>I humbly disagree. It is a bug. Why is changing the _body_ sent in a _POST_ something jQuery should do? When is this useful?</p><p>The principle of least surprise.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:40">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 13, 2013 08:51PM UTC by <span class="author">jo.jcat@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:40">comment:40</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We recently ran into an issue not unlike this one.  The type was explicitly set to POST, but was silently converted to GET inside the <code>inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );</code>  I understand the body conversion when setting the type to JSONP, but if the type is still JSON (set explicitly) and the method is POST (set explicitly), the conversion from POST to GET should not happen in the presence of a double question mark.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:41">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 14, 2013 06:39PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:41">comment:41</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Seems to come down to "Handle cache's special case and global."  prefilterOrFactory() is doing the actual swap if s.crossDomain is set.  I can't find the location where prefilterOrFactory is defined or the conditions under which it is added to the handler.</p><p>One thing remains clear: jQuery.ajaxPrefilter (and, subsequently, a conversion from POST to GET) ONLY invoked if there's a double '??' in the data string.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:42">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 10, 2013 11:08PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:42">comment:42</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/13766">#13766</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:43">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2013 04:21PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:43">comment:43</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/13913">#13913</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:44">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 27, 2013 08:45PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:44">comment:44</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>So what is the solution for this bug ?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:45">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 30, 2013 10:25AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:45">comment:45</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:44 anonymous]:</p><blockquote> So what is the solution for this bug ?</blockquote><p>Maybe old information. But alec's solution works fine for me. I.e. setting contentType to "application/json; charset=utf-8"</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:46">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed July 31, 2013 05:43AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:46">comment:46</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Still happening in 1.8.3</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:47">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed August 16, 2013 01:01AM UTC by <span class="author">sean.baker@bb-technologies.com</span></span>
        <a class="ticket-change-link" href="#comment:47">comment:47</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I just ran into this issue as well - using jQuery 1.8.2</p><p>I added jsonp: false as suggested by Jason Davies above for now as a work-around.</p><p>I am posting a JSON string as data, using settings processData: false and dataType: 'json'. This has worked for a long time for me, but I just discovered it fails if any field ever has a double quotation mark in it as noted by others above.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
