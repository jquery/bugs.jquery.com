<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4097 (Infinite loop in IE8 release candidate 1 with OuterHeight and XHTML 1.1. Doctype) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4096/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4098/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#4097</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 09, 2009 01:56PM UTC</p>
      
        <p>Closed February 17, 2009 09:50PM UTC</p>
      
      
        <p>Last modified March 09, 2012 12:04PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Infinite loop in IE8 release candidate 1 with OuterHeight and XHTML 1.1. Doctype</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        bceverly
      </td>
      <th>Owned by:</th>
      <td>brandon</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.3.2">1.3.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>dimensions</td>
      
        <th>Version:</th>
      
      <td>1.3.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I have been working with modal dialogs just fine using jQuery 1.3.1 and rc6 of jQuery UI.  I'm pretty early stage in a UI redesign for our application so I'm testing the heck out of things on multiple browsers (IE6, IE7, IE8 beta2, FF 2, FF 3, Chrome, Opera 9.6, Safari) on multiple platforms (Windows, Mac, Linux) and everything was just fine.</p><p>I upgraded to release candidate 1 of IE 8 yesterday and have been stuck in modal dialog hell.</p><p>Basically, if I have no doctype, everything works fine.  If I have an XHTML 1.1 doctype:</p><p>&lt;!DOCTYPE html PUBLIC "-<em>W3C</em>DTD XHTML 1.1<em>EN" "http:</em>www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;</p><p>I immediately go into an infinite loop in IE looping through code in jQuery 1.3.1.  Specifically I seem to be hanging up on a call to this.uiDialog.outerHeight() in jquery.ui.all.js on line 7459.  Since this is a core jQuery call, the folks on the UI message board asked me to post this information as a jQuery bug.</p><p>By the way, if I take the doctype off, everything works just fine.  Here is my test.html file:</p><p>&lt;!DOCTYPE html PUBLIC "-<em>W3C</em>DTD XHTML 1.1<em>EN" "http:</em>www.w3.org/</p><p>TR/xhtml11/DTD/xhtml11.dtd"&gt;</p><p>&lt;html&gt;</p><p>&lt;head&gt;</p><p>&lt;link rel="stylesheet" type="text/css" href="/include/ui.all.css"&gt;&lt;/</p><p>link&gt;</p><p>&lt;/head&gt;</p><p>&lt;BODY&gt;</p><p>&lt;script type="text/javascript" src="/include/jquery-1.3.1.js"&gt;&lt;/</p><p>script&gt;</p><p>&lt;script type="text/javascript" src="/include/jquery.ui.all.js"&gt;&lt;/</p><p>script&gt;</p><p>&lt;script&gt;</p><p>    $(document).ready(function() {</p><p>                <em> Initialize the dialog</em></p><p>        $("#dialog").dialog({</p><p>            autoOpen: false,</p><p>            bgiframe: true,</p><p>            width: 400,</p><p>            height: 400,</p><p>            modal: true,</p><p>            buttons: {</p><p>                Cancel: function() {</p><p>                    $(this).dialog('close');</p><p>                },</p><p>                'Save': function() {</p><p>                    saveForm();</p><p>                    $(this).dialog('close');</p><p>                }</p><p>            }</p><p>        });</p><p>         Process the add button</p><p>        $('#add').click(function() {</p><p>                        $("#dialog").css("visibility", "visible");</p><p>                        $("#dialog").dialog("open");</p><p>                        return false;</p><p>        });</p><p>    });</p><p>&lt;/script&gt;</p><p>        Press the button&lt;p /&gt;</p><p>        &lt;input id="add" type="button" Value="Go" /&gt;</p><p>        &lt;div id="dialog" style="visibility:hidden"&gt;</p><p>                &lt;label for="field1"&gt;Field 1:&lt;/label&gt;&lt;input type="text" id="field1" /</p><p>&gt;&lt;p /&gt;</p><p>                &lt;label for="field2"&gt;Field 2:&lt;/label&gt;&lt;input type="text" id="field2" /</p><p>        &lt;/div&gt;</p><p>&lt;/BODY&gt;</p><p>&lt;/HTML&gt;</p><p>Any help at all would be appreciated.</p><p>Thanks! </p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (4)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 16, 2009 04:22PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I tried to duplicate this but was unable to:</p><p><a href="http://dev.jquery.com/~john/ticket/4097/" class="ext-link"><span class="icon"></span>http://dev.jquery.com/~john/ticket/4097/</a></p><p>Any more input would be appreciated!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 17, 2009 07:07PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ok, I have a working test case now:</p><p><a href="http://jsbin.com/ajuja" class="ext-link"><span class="icon"></span>http://jsbin.com/ajuja</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 17, 2009 07:51PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>A couple things I've discovered:</p> <ul><li>It doesn't appear to have anything to do with outerHeight() (running that method alone doesn't have any negative effect).</li> <li>Opening a dialog on dom ready works just fine - if you try to load it after page load it hangs.</li></ul>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 17, 2009 09:50PM UTC by <span class="author">john</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Wow - it took me too long to figure this out. So this is due to the resize event that's being bound in the UI dialog. Inside the resize event the height and width are computed - which cause a reflow to occur. In IE 8 RC1 (I've gotten word that this has since been fixed) a reflow *also* triggers another resize event. Thus an infinite loop is spawned going over and over. A fix is as simple as commenting out the line where the overlay resize event is bound in the dialog.</p><p>Like I said, supposedly they've fixed this already - let's sure hope so.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
