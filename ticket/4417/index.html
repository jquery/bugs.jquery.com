<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#4417 (problem with attribute name when clone in IE7) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/4416/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/4418/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#4417</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(duplicate)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened March 25, 2009 06:12AM UTC</p>
      
        <p>Closed November 22, 2010 05:19AM UTC</p>
      
      
        <p>Last modified March 14, 2012 02:14PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">problem with attribute name when clone in IE7</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        boneazul
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.5">1.5</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>manipulation</td>
      
        <th>Version:</th>
      
      <td>1.3.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>clone attribute</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>there is a problem in IE7 when clone elements, after change name elements .</p><p>I want to clone a tr element ,but clone in FF and IE7 show diferents results look the example </p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (5)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/4417/clone_function_upgraded.js/index.html">clone_function_upgraded.js</a> (2.6 KB) - added by boneazul
        <strong>March 27, 2009 07:16PM UTC</strong>.<br>
        <p>new clone method</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/4417/jquery.js/index.html">jquery.js</a> (118.8 KB) - added by boneazul
        <strong>March 27, 2009 07:17PM UTC</strong>.<br>
        <p>jquery1.3.2 with method clone modified</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/4417/jquery_close.html/index.html">jquery_close.html</a> (0.4 KB) - added by boneazul
        <strong>March 25, 2009 06:12AM UTC</strong>.<br>
        
      </li>
    
      <li>
        <a href="/attachment/ticket/4417/test_v2.HTML/index.html">test_v2.HTML</a> (4.1 KB) - added by jerone
        <strong>March 27, 2009 11:00PM UTC</strong>.<br>
        <p>test v2</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/4417/teste.HTML/index.html">teste.HTML</a> (0.9 KB) - added by boneazul
        <strong>March 27, 2009 07:18PM UTC</strong>.<br>
        <p>test case .html</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (16)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2009 06:22AM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>alert test in FF3 shows me &lt;td&gt;&lt;input id="test" name="a[]"&gt;&lt;/td&gt;</p><p>when in IE7 shows me &lt;td&gt;&lt;input id=test name=a&gt;&lt;/td&gt;</p><p>is this a bug??</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2009 02:26PM UTC by <span class="author">jerone</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>IE7 is correct here; as W3C says </p><blockquote> ID and NAME tokens must begin with a letter ([A-Za-z]) and may be followed by any number of letters, digits (![0-9]), hyphens ("-"), underscores ("_"), colons (":"), and periods (".").</blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2009 04:05PM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>the problem is not in the name with especial caracters.</p><p>Change the concat "[]" to another letter like "b" in this script the same problem is detected follow this code </p><p>&lt;html&gt;</p><p>  &lt;head&gt;</p><p>    &lt;title&gt;&lt;/title&gt;</p><p>    &lt;meta content=""&gt;</p><p>    &lt;style&gt;&lt;/style&gt;</p><p>	&lt;script src="http://code.jquery.com/jquery-latest.js"&gt;&lt;/script&gt;</p><p>        &lt;script&gt;</p><p>            $(function(){</p><p>                <em>this point we concat the name white letter b (W3C says that is</em></p><p>                not wrong) ok?</p><p>                $("#test").attr('name',$("#test").attr('name')+"b");</p><p>                <em>Now we clone the line</em></p><p>                var obj_tr_clone=$("#line").clone(true);</p><p>                Show html clone</p><p>                alert(obj_tr_clone.html());</p><p>           });</p><p>        &lt;/script&gt;</p><p>  &lt;/head&gt;</p><p>  &lt;body&gt;</p><p>	&lt;table&gt;</p><p>	            &lt;tr id="line"&gt;</p><p>	                &lt;td&gt;&lt;input id="test" name="a"&gt;&lt;/td&gt;</p><p>	            &lt;/tr&gt;</p><p>        &lt;/table&gt;</p><p>	&lt;/body&gt;</p><p>&lt;/html&gt;</p><p>In fact what happened .</p><p>1 - We change the name "a" to "ab" </p><p>2- Clone the line </p><p>3 - Alert the html clone</p><p>FF is ok because he shows me the new name in alert -&gt; "ab"</p><p>"&lt;td&gt;&lt;input id="test" name="ab"&gt;&lt;/td&gt;"</p><p>but in IE7 he shows me the old name in alert -&gt; "a" </p><p>and don't change the name (its wrong as i can see) </p><p>why he don't change the name??? </p><p>"&lt;td&gt;&lt;input id=test name=a&gt;&lt;/td&gt;"</p><p>who is wrong ?? the method clone()?? the method html()?? or IE7??</p><p>sorry about my poor english..</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 25, 2009 10:15PM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><em> IE copies events bound via attachEvent when</em></p><p>			 using cloneNode. Calling detachEvent on the</p><p>			<em> clone will also remove the events from the orignal</em></p><p>			 In order to get around this, we use innerHTML.</p><p>                        <em> Unfortunately, this means some modifications to</em></p><p>			 attributes in IE that are actually only stored</p><p>			<em> as properties will not be copied (such as the</em></p><p>			 the name attribute on an input).</p><p>i found it in script jquery.js </p><p>the problem looks like in IE7 Unfortunately </p><p>i'm right??</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2009 02:13AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Yes, this looks like it has also been reported in a slightly different situation in ticket <a href="/ticket/4422">#4422</a>. It seems like IE is stripping off the quotes and that is causing some bizarre problems.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2009 04:48AM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>i found the problem....</p><p>in fact jquery use outerHTML to clone the html element </p><p>and IE7 respond with the first html rended(why??i don't now) </p><p> example </p><p> if you render first </p><p>&lt;input type="text" name="a" id="aa"&gt;  and change any attribute via javascript after dom loaded like (name,id) or any framework javascript will not be correct avaiable in outerHTML method</p><p>html always will be cloned as &lt;input type="text" name="a" id="aa"&gt; </p><p>same as any attribute be modified </p><p>however a way to fix it, is upgrade method clone in jquery to find all childs inside outerHTML  and replace this attibutes like (name,id,size,...) to real values .there is possible and it is easy to do.I will write a pseudo code then workaround this ..and suggest to core jquery to fix this problem.</p><p>and pray to IE fix it.. :)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 26, 2009 02:37PM UTC by <span class="author">jerone</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Maybe it's an idea to temporary store these attributes before cloning and attach them after.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 27, 2009 07:14PM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>ok i'm here again...</p><p>i wrote a little code upgrading method clone in jquery core to fix the problem with name in IE6 + that not suport jQuery.support.noCloneEvent </p><p>and i would like ask you to test the code..</p><p>works fine in the diferents test cases..</p><p>if you want to update or upgrade the code to some more simple or generic thats ok...</p><p>just give me the credits.. :) </p><p>@Jonatan de Sá Lemes - Brazil </p><p>i guess then i solvet it in 14 lines to aggregate in core function ...</p><p>the codes and tests cases is attached </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 27, 2009 10:59PM UTC by <span class="author">jerone</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I did some testing of your script and it seems it works great.</p><p>The only problem with it was that it worked with browser identification, which is a big no in jQuery.</p><p>I've come up with a support solution that checks if the browser has support for special characters in attributes (name).</p><p>I've updated your test file with the new function.</p><p>Hope it gets approved.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2009 01:03AM UTC by <span class="author">boneazul</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>now it's great.Thank you for you helping. i did some another tests and the problem doens't happen with another attributes like id,size,etc just with name attribute..very strange..: ) .it's ok now.</p><p>this change will be applied in jquery clone method v1.3.3 ???</p><p>i hope so.if not thank you.help'm a lot.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 22, 2010 07:11AM UTC by <span class="author">vishvananda</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>this is still causing issues with trailing slashes in action parameters of forms.  Is there a decent workaround?  For now I'm adding the action after I clone the form</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 12, 2010 02:04PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">manipulation</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2010 12:16PM UTC by <span class="author">grjasewe</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It is a problem for struts2-jquery-grid.  See <a href="http://www.trirand.com/blog/?page_id=393/help/multiple-search-multiple-criteria-same-field/#p19979." class="ext-link"><span class="icon"></span>http://www.trirand.com/blog/?page_id=393/help/multiple-search-multiple-criteria-same-field/#p19979.</a>  Any more news on a resoultion for this bug?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 23, 2010 09:47PM UTC by <span class="author">SlexAxton</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ clone attribute</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.4</span> → <span class="change-field-new">1.5</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">major</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 22, 2010 05:19AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ duplicate</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This ticket is confusing. Closing as a duplicate of the much clearer <a href="/ticket/6236">#6236</a>.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:16">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 22, 2010 05:19AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:16">comment:16</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Duplicate of <a href="/ticket/6236">#6236</a>.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
