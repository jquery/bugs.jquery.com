<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#8210 (Comment form not appearing) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/8209/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/8211/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#8210</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 08, 2011 12:59PM UTC</p>
      
        <p>Closed February 08, 2011 03:40PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Comment form not appearing</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        kmac@nc-f.org
      </td>
      <th>Owned by:</th>
      <td>kmac@nc-f.org</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.next">1.next</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.5</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>We have a comment form on our site (amren.com). As a fig leaf, we asked that visitors click an "Agree" button to signify that they understand the rules for posting a comment. Clicking the "Agree" button reveals the comment form. The code reads:</p><pre class="wiki">
&lt;script type="text/javascript" charset="utf-8"&gt;
var jQuery;
(function ($) {
// show the comment form
    $('#showButton').click(function () {
        $('#v-form').toggle();
        if ($('#v-form').is(':visible')) {
            $(this).val('No thanks');
            var $body = $('body'), footerPosition = $('#footer').position(), scrollPosition = $body.scrollTop() + footerPosition.top;
            $('html, body').animate({scrollTop: scrollPosition}, 5000);
        } else {
            $(this).val('I agree');
        }
    });
}(jQuery));
&lt;/script&gt;
</pre><p>I recently switched from jQuery 1.4.4 from the Google CDN to jQuery 1.5.0 from your CDN. We have received some complaints that clicking the "Agree" button does not reveal the comment form.</p><p>So far, there are two common user agent strings for visitors reporting this problem:</p><p>Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729</p><p>Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729</p><p>To be honest, I had a bit of trouble getting this "reveal" code working in the first place, but it has been working for months now. It works in my browsers, so I suspect this bug is specific to certain combinations of hardware and software, but I thought you might like to know.</p><p>Thanks!</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (4)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2011 01:32PM UTC by <span class="author">jitter</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">We have a comment form on our site (amren.com). As a fig leaf, we asked that visitors click an &quot;Agree&quot; button to signify that they understand the rules for posting a comment. Clicking the &quot;Agree&quot; button reveals the comment form. The code reads:&#92;
&#92;
&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&#92;
var jQuery;&#92;
(function ($) {&#92;
// show the comment form&#92;
    $(&#39;#showButton&#39;).click(function () {&#92;
        $(&#39;#v-form&#39;).toggle();&#92;
        if ($(&#39;#v-form&#39;).is(&#39;:visible&#39;)) {&#92;
            $(this).val(&#39;No thanks&#39;);&#92;
            var $body = $(&#39;body&#39;), footerPosition = $(&#39;#footer&#39;).position(), scrollPosition = $body.scrollTop() + footerPosition.top;&#92;
            $(&#39;html, body&#39;).animate({scrollTop: scrollPosition}, 5000);&#92;
        } else {&#92;
            $(this).val(&#39;I agree&#39;);&#92;
        }&#92;
    });&#92;
}(jQuery));&#92;
&lt;/script&gt;&#92;
&#92;
I recently switched from jQuery 1.4.4 from the Google CDN to jQuery 1.5.0 from your CDN. We have received some complaints that clicking the &quot;Agree&quot; button does not reveal the comment form.&#92;
&#92;
So far, there are two common user agent strings for visitors reporting this problem:&#92;
&#92;
Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729&#92;
&#92;
Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729&#92;
&#92;
To be honest, I had a bit of trouble getting this &quot;reveal&quot; code working in the first place, but it has been working for months now. It works in my browsers, so I suspect this bug is specific to certain combinations of hardware and software, but I thought you might like to know.&#92;
&#92;
Thanks!</span> → <span class="change-field-new">We have a comment form on our site (amren.com). As a fig leaf, we asked that visitors click an &quot;Agree&quot; button to signify that they understand the rules for posting a comment. Clicking the &quot;Agree&quot; button reveals the comment form. The code reads:&#92;
{{{&#92;
&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&#92;
var jQuery;&#92;
(function ($) {&#92;
// show the comment form&#92;
    $(&#39;#showButton&#39;).click(function () {&#92;
        $(&#39;#v-form&#39;).toggle();&#92;
        if ($(&#39;#v-form&#39;).is(&#39;:visible&#39;)) {&#92;
            $(this).val(&#39;No thanks&#39;);&#92;
            var $body = $(&#39;body&#39;), footerPosition = $(&#39;#footer&#39;).position(), scrollPosition = $body.scrollTop() + footerPosition.top;&#92;
            $(&#39;html, body&#39;).animate({scrollTop: scrollPosition}, 5000);&#92;
        } else {&#92;
            $(this).val(&#39;I agree&#39;);&#92;
        }&#92;
    });&#92;
}(jQuery));&#92;
&lt;/script&gt;&#92;
}}}&#92;
I recently switched from jQuery 1.4.4 from the Google CDN to jQuery 1.5.0 from your CDN. We have received some complaints that clicking the &quot;Agree&quot; button does not reveal the comment form.&#92;
&#92;
So far, there are two common user agent strings for visitors reporting this problem:&#92;
&#92;
Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729&#92;
&#92;
Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729&#92;
&#92;
To be honest, I had a bit of trouble getting this &quot;reveal&quot; code working in the first place, but it has been working for months now. It works in my browsers, so I suspect this bug is specific to certain combinations of hardware and software, but I thought you might like to know.&#92;
&#92;
Thanks!</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ kmac@nc-f.org</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for taking the time to contribute to the jQuery project by writing a bug report.</p><p>I don't think this has got anything to do with hardware at most it's a browser specific bug. But as it's kinda difficult and time consuming to figure out what could be cause for this on a full-blown page we ask you to please submit a reduced test case, which reproduces the issue you are experiencing, on <a href="http://jsfiddle.net." class="ext-link"><span class="icon"></span>http://jsfiddle.net.</a></p><p>So that we can investigate this issue further. Also make sure to read the link given below, in order to provide a most useful bug report.</p><p></p><hr><p></p><p><a href="http://docs.jquery.com/How_to_Report_Bugs" class="ext-link"><span class="icon"></span>How to report bugs</a></p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2011 03:03PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I've never done this before, but try this:</p><p><a href="http://jsfiddle.net/9bYbk/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/9bYbk/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2011 03:06PM UTC by <span class="author">kmac@nc-f.org</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">new</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>OK, it may be an issue with the way I'm invoking the jQuery code. I just changed "(function ($)" to "$(document).ready(function()" and it now seems to be working, even with 1.5.0.</p><p>Looks as though this might be my coding error. Sorry.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2011 03:40PM UTC by <span class="author">addyosmani</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Closing as the original ticket submitter has confirmed the issue was on their end rather than with core itself.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
