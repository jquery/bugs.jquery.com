<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#11880 (jQuery AJAX call fails silently) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/11879/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/11881/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#11880</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened June 08, 2012 02:39PM UTC</p>
      
        <p>Closed June 27, 2012 08:19AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">jQuery AJAX call fails silently</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        will@willhaley.com
      </td>
      <th>Owned by:</th>
      <td>will@willhaley.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/None">None</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.4.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>For some reason, the jQuery ajax call below fails silently on one of my test Android devices.</p><p>I'll see the call hit Apache, but it drops two of my parameters.</p><p>Android.logToConsole is a function I made in the Android App to simply print out strings.  It works in all places I use it elsewhere in my application.</p><pre class="wiki">
      Android.logToConsole('started');
      try {
        Android.logToConsole('0: ' + sessionId);
        Android.logToConsole('1: ' + savedSearchUrl);
        Android.logToConsole('2: ' + description);
        jQuery.ajax({
          dataType: 'jsonp',
          type: 'GET',
          url: appRootConsumerAccountServices + 'addSavedSearch',
          data: {
            sessionId: sessionId,
            savedSearchUrl: savedSearchUrl,
            description: description
          },
          success: function() {
            Android.logToConsole('success');
          },
          complete: function() {
            Android.logToConsole('complete');
          },
          error: function() {
            Android.logToConsole('error');
          }
        });
      } catch (error) {
        Android.logToConsole('exception: ' + error);
      }
      Android.logToConsole('finished');
</pre><p>This is my logging output in Android.  You can see the data is there, and no exceptions are thrown, but none of my callbacks ever fire.</p><pre class="wiki">
06-08 08:51:22.799: I/System.out(11591): started
06-08 08:51:22.799: I/System.out(11591): 0: 081375d098b5a5bca4b2aa69699e9909
06-08 08:51:22.819: I/System.out(11591): 1: latitude=41.877243&_returnParties=false&sort=distance+asc&view=list&resultSize=50&longitude=-87.634596&tab=1&radius=5.0
06-08 08:51:22.839: I/System.out(11591): 2: Chicago, IL near 321 S Franklin St. 60606
06-08 08:51:22.839: I/System.out(11591): finished
</pre><p>My Apache logs show the request</p><pre class="wiki">
[08/Jun/2012:08:32:28 -0500] "GET /consumerAccountServices/addSavedSearch?callback=jsonp1339162399026&sessionId=98528cfb0c79ab84550937dfa2ac10c7 HTTP/1.1" 400
</pre><p>You can see here that two of my parameters were dropped, savedSearchUrl and description, and so my server returns a 400 error since some required parameters for that web service are missing.</p><p>When I use the same code on another device I get</p><pre class="wiki">
06-08 09:07:14.530: I/System.out(3013): started
06-08 09:07:14.530: I/System.out(3013): 0: 6f59a0efacf675eac54fb1429e30b559
06-08 09:07:14.538: I/System.out(3013): 1: latitude=41.877196&_returnParties=false&sort=distance+asc&view=list&resultSize=50&longitude=-87.634422&tab=1&_returnRealtyTracListings=false&radius=5.0
06-08 09:07:14.538: I/System.out(3013): 2: Chicago, IL near 218 W Van Buren St. 60606
06-08 09:07:14.553: I/System.out(3013): finished
06-08 09:07:15.116: I/System.out(3013): success
06-08 09:07:15.116: I/System.out(3013): complete
</pre><p>And the request is perfect</p><pre class="wiki">
[08/Jun/2012:09:06:57 -0500] "GET /consumerAccountServices/addSavedSearch?callback=jsonp1339164434054&sessionId=6f59a0efacf675eac54fb1429e30b559&savedSearchUrl=latitude%3D41.877196%26_returnParties%3Dfalse%26sort%3Ddistance%2Basc%26view%3Dlist%26resultSize%3D50%26longitude%3D-87.634422%26tab%3D1%26radius%3D5.0&description=Chicago%2C+IL+near+218+W+Van+Buren+St.+60606 HTTP/1.1" 200
</pre><p>I've tried upgrading to jQuery 1.7.1 and the issue remains.</p><p>The affected device is on Android 2.2</p><pre class="wiki">
"Mozilla/5.0 (Linux; U; Android 2.2; en-kr; HTC Legend Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1"
</pre><p>I've found that if I copy and paste (hard code) those two fields in the data {} section, then the ajax call works fine.  I've also found that using encodeURIComponent on those two fields causes the call to work.  But then the values get double encoded.  Once by me, and again during the ajax call it seems.</p><p>My confusion (and reason for filing this bug report) is concerning why the AJAX function drops the parameters, but still calls the url, and never triggers any call backs or throws an exception.  That feels like a bug in jQuery.  Apologies if I'm missing something or doing anything wrong.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (2)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 12, 2012 03:08PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ will@willhaley.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>We'll need a complete example, preferably in jsFiddle, rather than a code snippet. </p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 27, 2012 08:19AM UTC by <span class="author">trac-o-bot</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Because we get so many tickets, we often need to return them to the initial reporter for more information. If that person does not reply within 14 days, the ticket will automatically be closed, and that has happened in this case. If you still are interested in pursuing this issue, feel free to add a comment with the requested information and we will be happy to reopen the ticket if it is still valid. Thanks!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
