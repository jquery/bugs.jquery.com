<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5273 ($.ajax() XML handling problem on IE 7 and IE 8) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5272/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5274/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#5273</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(invalid)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened September 20, 2009 07:24PM UTC</p>
      
        <p>Closed September 24, 2009 02:55AM UTC</p>
      
      
        <p>Last modified September 04, 2012 01:51PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">$.ajax() XML handling problem on IE 7 and IE 8</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        snoz
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        critical
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4">1.4</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.3.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>XML, Internet Explorer, Internet Explorer 7, Internet Explorer 8, IE, IE7, IE8</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Hi,</p><p>I browsed around for this and couldn't find this issue..</p><p>I have this function:</p><p>$.ajax({</p><p>  url:'http://myurl.com/ajax/?type=getMeXML',</p><p>  cache:true,</p><p>  success:function(xml){</p><p>    if($("status",xml).text() == "0") return false;</p><p>    p_html = $("info",xml).text();</p><p>    $("#somediv").html(p_html);</p><p>  }</p><p>});</p><p>And this works perfectly on Firefox.</p><p>On IE 7 and 8, though, it shows nothing.</p><p>I can alert(xml) and it shows the full xml string, but anything other than that is just empty or undefined, like the xml was really just text and jquery couldn't parse it as xml.</p><p>The response xml is something like this:</p><p>&lt;?xml version="1.0"?&gt;</p><p>&lt;response&gt;</p><p>	&lt;info&gt;&lt;p&gt;Homepage&lt;/p&gt;&lt;/info&gt;</p><p>	&lt;status&gt;1&lt;/status&gt;</p><p>&lt;/response&gt;</p><p>I even tried with dataType: "text/xml" but the result was exactly the same...</p><p>I tried $(xml).find("info").each() etc. and it worked perfectly for Firefox, but IE, nothing...</p><p>Let me know if you need something more.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (2)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 24, 2009 02:55AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ invalid</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>If you don't specify a dataType, jQuery tries to figure it out from the headers. I suspect that your server is not returning a content type of xml.</p><p>The dataType parameter is "xml", not "text/xml" so that is most likely why it didn't work.  In Firefox it will try to parse your xml argument which is most likely a string, and it will succeed. IE will not parse an xml string.</p><p><a href="http://docs.jquery.com/Ajax/jQuery.ajax#options" class="ext-link"><span class="icon"></span>http://docs.jquery.com/Ajax/jQuery.ajax#options</a></p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 04, 2012 01:51PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Because you are in a HTML document. IE won't recognize XML.</p><p>console.log($("SELECTION_STATE").get());</p><p>returns object HTMLUnknownElement in IE</p><p>In order to use the XML you'll have to run it through the IE XML parser. Something like.</p><p>var x = new <a href="/wiki/ActiveXObject">ActiveXObject</a>("Microsoft.XMLDOM");</p><p>x.loadXML(yourXML) </p><p>You'll obviously only want to do this if($.browser.msie)</p><p>Side question: Are you loading the XML with AJAX?</p><p>Updated: Full Example</p><p>var xmlDoc = new <a href="/wiki/ActiveXObject">ActiveXObject</a>("Microsoft.XMLDOM");</p><p>var myXML = document.body.innerHTML;  <em> or wherever you are storing the XML in the DOM</em></p><p>xmlDoc.loadXML(myXML)</p><p>if (xmlDoc.parseError.errorCode != 0) {</p><p>   var myErr = xmlDoc.parseError;</p><p>   console.log("You have error " + myErr.reason);</p><p>} else {</p><p>   console.log(xmlDoc.xml);</p><p>}</p><p>$("SELECTION_STATE", xmlDoc).find("CHARACTERISTIC").each( function() {</p><p>     if($(this).attr("name") == "Z_MDST" ) {</p><p>         alert($(this).find("MEMBER").attr("name"));</p><p>     }</p><p>});</p><p>from：http:stackoverflow.com/questions/5486366/jquery-xml-parsing-ie7-ie8</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
