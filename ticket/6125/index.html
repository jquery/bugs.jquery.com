<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6125 (Unfiltered for loop breaks animation in IE when a script extends the Object prototype) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6124/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6126/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#6125</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 19, 2010 04:35PM UTC</p>
      
        <p>Closed November 19, 2010 08:24AM UTC</p>
      
      
        <p>Last modified December 01, 2010 05:20PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Unfiltered for loop breaks animation in IE when a script extends the Object prototype</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        willmorgan
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4.2">1.4.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>effects</td>
      
        <th>Version:</th>
      
      <td>1.4.1</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I've added a function called size() to the Object prototype for getting the size of objects.</p><p>I noticed this broke animation in general, so commented out each module of my code until I found the source of the problem, which was the above.</p><p>I've got a fix, which is simply filtering the for loop on line 2724 where Sizzle.filter is defined:</p><p>if ( Expr.filter.hasOwnProperty( type ) ) {</p><p>As expected this doesn't cause a problem in Firefox ;)</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (2)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/6125/6125.rar/index.html">6125.rar</a> (42.5 KB) - added by willmorgan
        <strong>February 19, 2010 04:53PM UTC</strong>.<br>
        <p>Patched version of jQuery and test page that works correctly.</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/6125/test.html/index.html">test.html</a> (0.7 KB) - added by willmorgan
        <strong>February 19, 2010 04:35PM UTC</strong>.<br>
        <p>Test case document</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (6)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 19, 2010 08:24AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-new">→ undecided</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Modifying Object.prototype is verboten.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 11:42AM UTC by <span class="author">willmorgan</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:1 snover]:</p><blockquote> Modifying Object.prototype is verboten.</blockquote><p>Why? Is that not how the entire idea of inheritance works in <a href="/wiki/JavaScript">JavaScript</a>?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 11:51AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>No, it is not.  It is fine to work with prototypes of various objects, but it is considered very poor practise to modify Object.protoype.</p><p><a href="http://erik.eae.net/archives/2005/06/06/22.13.54/" class="ext-link"><span class="icon"></span>http://erik.eae.net/archives/2005/06/06/22.13.54/</a></p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 01:09PM UTC by <span class="author">willmorgan</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Surely bulletproofing jQuery's code is a good idea, regardless of whether this is considered bad practice or not.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 01:44PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">This has come up before&#92;
&#92;
http://bugs.jquery.com/ticket/6132&#92;
http://bugs.jquery.com/ticket/1529&#92;
http://bugs.jquery.com/ticket/4121&#92;
http://bugs.jquery.com/ticket/2721&#92;
http://bugs.jquery.com/ticket/3785&#92;
&#92;
Consistently jQuery&#39;s position has been, as Dave stated in 3785, that &quot;Rewriting every for/in loop and object membership test is just too expensive.&quot;  Until such time that the position should happen to change on that matter, jQuery will not work in pages that have modifications to Object.prototype.</span> → <span class="change-field-new">1291211128856420</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>This has come up before: <a href="/ticket/1529">#1529</a>, <a href="/ticket/2721">#2721</a>, <a href="/ticket/3785">#3785</a>, <a href="/ticket/4121">#4121</a>, <a href="/ticket/6132">#6132</a></p><p>Consistently jQuery's position has been, as Dave stated in <a href="/ticket/3785">#3785</a>, that "Rewriting every for/in loop and object membership test is just too expensive."  Until such time that the position should happen to change on that matter, jQuery will not work in pages that have modifications to Object.prototype.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 05:20PM UTC by <span class="author">willmorgan</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">I would agree that consistency is probably the best thing, though in fact, I&#39;ve seen a few posts from John and Scott in the past saying that bulletproofing jQuery might be on the cards for future releases.&#92;
&#92;
My £0.02 is that a widely used plugin should be as portable and bulletproof as possible, and that there are arguments against extending the Object prototype and also not filtering for loops.. I&#39;ve not seen any too much in depth discussion regarding the issue specific to jQuery, but if that&#39;s what the core team goes with, then fair enough.&#92;
&#92;
Thanks for your time - I can imagine it&#39;s quite frustrating having closed many duplicates in the past hence the initial terseness (albeit 9 months later...)</span> → <span class="change-field-new">1291224050428146</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>_comment1:</th>
                  <td>
                    
                      <span class="change-field-old">I would agree that consistency is probably the best thing, though in fact, I&#39;ve seen a few posts from John and Scott in the past saying that bulletproofing jQuery might be on the cards for future releases.&#92;
&#92;
My £0.02 is that a widely used framework should be as portable and bulletproof as possible, and that there are arguments against extending the Object prototype and also not filtering for loops.. I&#39;ve not seen any too much in depth discussion regarding the issue specific to jQuery, but if that&#39;s what the core team goes with, then fair enough.&#92;
&#92;
Thanks for your time - I can imagine it&#39;s quite frustrating having closed many duplicates in the past hence the initial terseness (albeit 9 months later...)</span> → <span class="change-field-new">1291224072089105</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
        
          
            <div class="ticket-comment-body">
              <p>I would agree that consistency is probably the best thing, though in fact, I've seen a few posts from John and Scott in the past saying that bulletproofing jQuery might be on the cards for future releases.</p><p>My £0.02 is that a widely used framework should be as portable and bulletproof as possible, and that there are arguments against extending the Object prototype and also not filtering for loops.. I've not seen too much in depth discussion regarding the issue specific to jQuery, but if that's what the core team goes with, then fair enough.</p><p>Thanks for your time - I can imagine it's quite frustrating having closed many duplicates in the past hence the initial terseness (albeit 9 months later...)</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
