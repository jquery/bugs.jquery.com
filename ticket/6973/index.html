<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#6973 (Load JS script inside HTML) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/6972/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/6974/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#6973</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">()</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened August 31, 2010 12:32PM UTC</p>
      
        <p>Closed November 11, 2010 11:09PM UTC</p>
      
      
        <p>Last modified March 13, 2012 10:00PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Load JS script inside HTML</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        twisted036
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4.3">1.4.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.4.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>load script</td>
      
        <th>Cc:</th>
      
      <td>snover, dmethvin</td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I want to change from 1.3.2 to 1.4.2 but I block facing unexpected behavior :</p><p>The code &lt;script type="text/javascript"&gt;&lt;/script&gt; is filter when I use $() <a href="http://api.jquery.com/jQuery/" class="ext-link"><span class="icon"></span>http://api.jquery.com/jQuery/</a> with a context. The javascript inside the HTML is not executed.</p><p>An example :</p><p>Page which called another with Ajax</p><p></p><hr><p></p><p>&lt;!DOCTYPE html PUBLIC "-<em>W3C</em>DTD XHTML 1.0 Transitional<em>EN" "http:</em>www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</p><p>&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;</p><p>&lt;head runat="server"&gt;</p><p> &lt;title&gt;&lt;/title&gt;</p><p> &lt;script src="jquery-1.4.2.js" type="text/javascript"&gt;&lt;/script&gt;</p><p> &lt;script type="text/javascript"&gt;</p><p> $.get("load.aspx", function(data) {</p><p> alert("Data Loaded: " + data);</p><p> var content = $("#content", data).html();</p><p> $("#customContainer").html(content);</p><p> alert(data);</p><p> alert(content);</p><p> });</p><p> &lt;/script&gt;</p><p>&lt;/head&gt;</p><p>&lt;body&gt;</p><p> &lt;form id="form1" runat="server"&gt;</p><p> &lt;div&gt;</p><p> &lt;h1&gt;test jquery&lt;/h1&gt;</p><p> &lt;div id="customContainer"&gt;&lt;/div&gt;</p><p> &lt;hr /&gt;</p><p> &lt;div id="result"&gt;&lt;/div&gt;</p><p> &lt;/div&gt;</p><p> &lt;/form&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p><p></p><hr><p></p><p>Page which is called by the first one :</p><p></p><hr><p></p><p>&lt;div&gt;</p><p> &lt;strong&gt;du html&lt;/strong&gt;</p><p> &lt;p id="content"&gt;</p><p> &lt;span style="color: Red"&gt;toto&lt;/span&gt;</p><p> &lt;br /&gt;</p><p> &lt;script type="text/javascript"&gt;</p><p> alert("titi");</p><p> &lt;/script&gt;</p><p> &lt;span&gt;tutu&lt;/span&gt;</p><p> &lt;/p&gt;</p><p>&lt;/div&gt;</p><p></p><hr><p></p><p>The line var content = $("#content", data).html(); delete the JS code.</p><p>This code works great with jQuery 1.3.2</p><p>I can see the code JS disappear with the alerts :</p><p>alert(data); <em> I have all the code of the page with the JS inside the HTML</em></p><p>alert(content);  I want only the content of the div "content" with the JS, but the javascript disappear</p><p>Is it the normal behavior ?</p><p>How load the script when it is located inside the HTML ?</p><p>thanks</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (1)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/6973/jqueryJSProblem.zip/index.html">jqueryJSProblem.zip</a> (77.8 KB) - added by twisted036
        <strong>September 02, 2010 07:57AM UTC</strong>.<br>
        <p>my JS problem</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (5)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 02, 2010 01:40AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">core</span> → <span class="change-field-new">ajax</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old">jquery(),load,script</span> → <span class="change-field-new">load script</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>What content-type is returned by load.aspx?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed September 02, 2010 08:02AM UTC by <span class="author">twisted036</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The content-type is text/html.</p><p>The loading with Ajax works great, I have all the source code (html+js) from the target page in the var "data".</p><p>The problem appear when I want only the code inside the div "content".</p><p>There are some JS inside this div.</p><p>I use var content = $("#content", data).html();</p><p>In my var content, I don't have the JS anymore.</p><p>I have the same problem with the method find().</p><p>I upload my problem in attachment  file.</p><p>I don't know if it's a bug or if I miss something.</p><p>I don't see anything which can be linked to my problem in this page <a href="http://jquery14.com/day-01/jquery-14#backwards" class="ext-link"><span class="icon"></span>http://jquery14.com/day-01/jquery-14#backwards</a></p><p>I also try with the compat file [&lt;script src="http://code.jquery.com/jquery.compat-1.3.js"&gt;&lt;/script&gt;]. But I have the same problem.</p><p>Thanks</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 03, 2010 02:32AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>cc:</th>
                  <td>
                    
                      <span class="change-field-new">→ snover, dmethvin</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.4.2</span> → <span class="change-field-new">1.4.3</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-new">→ low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>type:</th>
                  <td>
                    
                      <span class="change-field-old">feature</span> → <span class="change-field-new">bug</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>We need to do a better job of documenting what happens when you try to load an entire page via AJAX instead of a page fragment—and what happens when you try to load in scripts.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 14, 2010 03:13AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>This ticket has been marked as missing a test case. In an effort to reduce the number of outstanding tickets in the bug tracker, it will be closed automatically in 30 days. In order to prevent this from happening, please provide a working test case. If a test case has already been provided and our records are wrong, please respond to the ticket so that it can be fixed. Thank you!</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 11, 2010 11:09PM UTC by <span class="author">trac-o-bot</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Automatically closed due to 14 days of inactivity.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
