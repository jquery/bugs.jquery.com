<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#5947 (Add JSON.encode capability) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/5946/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/5948/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#5947</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">feature</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened January 26, 2010 08:54PM UTC</p>
      
        <p>Closed October 25, 2010 12:15AM UTC</p>
      
      
        <p>Last modified March 14, 2012 12:44AM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Add JSON.encode capability</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        iros
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        low
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.4.2">1.4.2</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>ajax</td>
      
        <th>Version:</th>
      
      <td>1.4.1</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>json</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>$.parseJSON converts a string -&gt; object</p><p>it would be very helpful to have a:</p><p>$.encodeJSON which would convert an object -&gt; string.</p><p>think it would be more correct to return an array of on/off states: ["on", "off"] etc.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (9)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed June 14, 2010 12:42AM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">ajax</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed October 25, 2010 12:15AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">$.parseJSON converts a string -&gt; object&#92;
&#92;
it would be very helpful to have a:&#92;
$.encodeJSON which would convert an object -&gt; string.&#92;
&#92;
</span> → <span class="change-field-new">$.parseJSON converts a string -&gt; object&#92;
&#92;
it would be very helpful to have a:&#92;
$.encodeJSON which would convert an object -&gt; string.&#92;
&#92;
think it would be more correct to return an array of on/off states: [&quot;on&quot;, &quot;off&quot;] etc.</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">major</span> → <span class="change-field-new">low</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>use JSON.stringify() natively or with json2.js</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 23, 2010 12:13AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/7599">#7599</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 25, 2010 06:37PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Stupid question: why?  Adding a jQuery alias to JSON.stringify would take 2 minutes and 3 lines of code, and it would save tons of developers who are ignorant of JSON.stringify a bunch of time.  Plus, you already have a JSON parser (despite the existence of the built-in eval), so it seems like a no-brainer to have a companion method.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 25, 2010 07:35PM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>1. Not all browsers have a native JSON object. The size of a non-native implementation is not trivial.</p><p>2. There is no point to just alias a normal browser function. This is like saying we should have a <code>jQuery.math</code> alias to the Math object because some people don’t want to use it directly.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 26, 2010 05:39AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The Math object is part of the JS language; if you get the O'Reilly pocket reference, or look at W3Schools, or check any other JS reference, it will include Math.  This is not true for the JSON object; it's more like (for instance) the map function because, as you pointed out, JSON doesn't exist for all browsers (but jQuery DOES include a map implementation).  And isn't the whole idea (or at least one of the core ideas) of jQuery to eliminate cross-browser issues?  The map function is certainly not the only feature jQuery implements to make up for a lack of browser implementation (mouseenter, mouseleave, and the onready events are some other examples, and I'm sure there are more).</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 26, 2010 07:27AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The goal of jQuery is not to "eliminate cross-browser issues" by providing a safe alias for every single thing someone could ever possibly want to do.  </p><p>jQuery regular parses JSON as part of dealing with AJAX responses, as well as parsing JSON-encoded data from data attributes.  jQuery *never* needs to stringify objects internally</p><p>"Adding a jQuery alias to JSON.stringify would take 2 minutes and 3 lines of code"</p><p>Except for the part where you have to write an entire JSON serializer for places where native JSON doesn't exist. </p><p>"and it would save tons of developers who are ignorant of JSON.stringify a bunch of time."</p><p>If someone comes into the jQuery support channel and does not know how to serialize to JSON, we direct them to JSON.stringify.  A lot of jQuery developers are ignorant of a lot of parts of <a href="/wiki/JavaScript">JavaScript</a>, it is not jQuery's purpose to provide them with a magic, comfy jQuery wrapper in order to familiarise them with those aspects.  </p><p>Many people start off with jQuery wondering, for instance, what the "jQuery equivalent" of parseInt is. There isn't one.   You just use the browser's native parseInt method.  The best practise in JS circles for sometime has been to use native JSON, and include Douglas Crockford's json2.js, which provides a fallback in the event there is no JSON object (which is only ie7 and below).  I do believe this should continue to be the case.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 26, 2010 08:31PM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Ok, but map *IS* a core part of JS (as of v1.6; <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/map)." class="ext-link"><span class="icon"></span>https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/map).</a>  It's even more core than the JSON module, in the sense that it's part of the JS spec (vs. JSON, which you won't find here <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects)." class="ext-link"><span class="icon"></span>https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects).</a></p><p>So, you've got a map function, which exists built-in in some browsers and not in others.  Because it's a useful thing to have, jQuery provides an implementation of it (presumably that implementation is just an alias to the real map function on browsers with map support?  I haven't actually checked the source).  Same thing for those events I mentioned (mouseenter/mouseleave/ondomready).</p><p>Then you've got JSON.stringify, which ... exists built-in in some browsers and not in others, and is a useful thing to have, but ... jQuery doesn't provide an implementation of it.  What I'm not understanding is, what criteria are you using to decide that useful things A/B/C/D which only some browsers implement DOES go in to jQuery, but useful thing E that only some browsers implement doesn't?  Is there (for instance) a 50 line cut-off for features implemented in some browsers, and the mouseenter implementation only take 50 lines, but JSON.stringify takes 51?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 26, 2010 09:43PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>"(presumably that implementation is just an alias to the real map function on browsers with map support? I haven't actually checked the source)."</p><p>There's an old adage about assuming that applies just as well to presuming in this case.  jQuery.map *does not* fall back to Array.prototype.map (indeed, many people's complaint about it is that it is not consistent with the Array.prototype.map spec), but is a custom implementation.</p><p>Again, jQuery uses .map internally in a number of places (both the $.fn.map (which falls back to $.map)  and $.map itself) , which it never does for JSON.stringify.  jQuery constantly is working with arrays of elements and using those arrays to generate other arrays.</p><p>FURTHERMORE, people *constantly* complain about the fact that jQuery's size is growing over time, AND that jQuery has code in it only for IE.  Providing a JSON.stringify fallback would ONLY be used for IE, and would add considerable bloat (3.5% of the entire library size).</p><p>FURTHER-ERMORE, jQuery is a DOM/events/AJAX library.  Standardising events across browsers is pretty much its bread and butter.  "jQuery does a document ready handler , therefore it should provide a JSON stringifier" is a rationale that does not hold much water.  </p><p>(FYI:  There is no hard-and-fast rule in terms of LOC count per feature.)</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
