<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#10697 (Sizzle revamp) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/10696/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/10698/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#10697</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened November 07, 2011 02:14AM UTC</p>
      
        <p>Closed May 28, 2012 04:54PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">Sizzle revamp</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        timmywil
      </td>
      <th>Owned by:</th>
      <td>timmywil</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        blocker
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.8">1.8</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>selector</td>
      
        <th>Version:</th>
      
      <td>1.7</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.</p><p>These are my ideas so far:</p><p>1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.</p><p>2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.</p><p>3.  The implementation of prefilters seems a bit wet.  I'd like to dry up some of that code and look into reducing the call stack on that codepath.</p><p>4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.</p><p>5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.</p><p>6.  Combine dirNodeCheck and dirCheck into a single function.</p><p>7.  Add a better fallback for Sizzle.contains.</p><p>8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don't support anymore, for getElementsByClassName.  We could remove that cruft.</p><p>9.  Look into simplifying Sizzle's makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.</p><p>10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.</p><p>11.  Follow spec for acceptable character ranges.  Currently, we use "\\u00c0-\\uFFFF\\", which may not be correct.  third party pull <a href="https://github.com/jquery/sizzle/pull/61" class="ext-link"><span class="icon"></span>https://github.com/jquery/sizzle/pull/61</a></p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (15)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 07, 2011 02:14AM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">selector</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">None</span> → <span class="change-field-new">1.8</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ timmywil</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">blocker</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">assigned</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 07, 2011 01:10PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-new">→ 1.8-discuss</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1 !!!!!!</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 07, 2011 02:12PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByTagName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
</span> → <span class="change-field-new">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 11, 2011 08:49AM UTC by <span class="author">mofle</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p><p>Awesome, sounds great!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 21, 2011 05:07PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
</span> → <span class="change-field-new">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 10, 2011 07:05PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>blocking:</th>
                  <td>
                    
                      <span class="change-field-new">→ 7010</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 01:34PM UTC by <span class="author">mikesherov</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span> → <span class="change-field-new">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, When people think jQuery, they think fast and simple selection. Sounds like this needs to be done.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 02:47PM UTC by <span class="author">jzaefferer</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 04:21PM UTC by <span class="author">jaubourg</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 13, 2011 06:05PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span> → <span class="change-field-new">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1, In the 1.8 theme, it would also be nice if item 1 could be isolated as a "tiny Sizzle" -- let's call it "Small Fry"?</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 15, 2011 11:41PM UTC by <span class="author">hkdobrev@gmail.com</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 19, 2011 05:34PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>+1</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:13">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed January 11, 2012 04:49PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:13">comment:13</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="/ticket/11109">#11109</a> is a duplicate of this ticket.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:14">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 28, 2012 04:45PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:14">comment:14</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
12.  Double check the most up-to-date of w3c selectors and make sure we are not leaving any out that would be easy to support.&#92;
13.  Per Dave&#39;s suggestion, explore a parsed selection cache that would hold 50 (or however many) of the most recent selectors already parsed.  This would remove the need for quickIs in event and make matchesSelector use in event delegation much faster.  This supplements #5.&#92;
</span> → <span class="change-field-new">This ticket is for tracking enhancements and reductions for Sizzle.  Some of these may belong in separate tickets, but I need to compile the list somewhere.  I plan on doing/researching all of this in 1.8.&#92;
&#92;
These are my ideas so far:&#92;
1.  Reorganize the main Sizzle function to be one function that contains shortcuts for id, tag, class, and document.body and an internal select function that uses qsa if available.  Sizzle somewhat does this already, but not completely.  I think it would reduce the size of Sizzle itself.  We also do some of this in jQuery.fn.init and duplicate some of what is already in a qsa Sizzle.  This could remove the need for that duplication and shave even more bytes.&#92;
2.  This may not be feasible, but I want to look into adding local vars for the most common things referenced from within Sizzle instead of using.long.property.accesses internally.&#92;
3.  The implementation of prefilters seems a bit wet.  I&#39;d like to dry up some of that code and look into reducing the call stack on that codepath.&#92;
4.  Add a support-test regex builder for places in which we know QSA will fail, such as with :checked on select elements in webkit (there are about 6 others).  This should not hurt performance at all if done correctly.&#92;
5.  Remove matchesSelector support completely.  I know this sounds scary, but as Dave noticed in his event testing, even the native matchesSelector is really slow.  It may actually be faster, especially in the most common use cases, to do our own filtering all the time.  This could also remove the need for quickIs in event.js.&#92;
6.  Combine dirNodeCheck and dirCheck into a single function.&#92;
7.  Add a better fallback for Sizzle.contains.&#92;
8.  There are a couple tests for Opera 9.6 and Safari 3.2, which we don&#39;t support anymore, for getElementsByClassName.  We could remove that cruft.&#92;
9.  Look into simplifying Sizzle&#39;s makeArray to not use Array slice at all.  When building minimaljs, I noticed that a simple array builder is actually faster than using slice, so it does not seem worth it.&#92;
10.  Check how many bytes it would save to build the chunker and all other regexes using strings to reduce duplication.&#92;
11.  Follow spec for acceptable character ranges.  Currently, we use &quot;&#92;&#92;u00c0-&#92;&#92;uFFFF&#92;&#92;&quot;, which may not be correct.  third party pull https://github.com/jquery/sizzle/pull/61&#92;
&#92;
</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Moving 12 and 13 to their own tickets.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:15">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 28, 2012 04:54PM UTC by <span class="author">timmywil</span></span>
        <a class="ticket-change-link" href="#comment:15">comment:15</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>blocking:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">7010</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>keywords:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">1.8-discuss</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">assigned</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Fixed.</p><p><a href="https://github.com/jquery/sizzle/compare/912a821...5e4e755" class="ext-link"><span class="icon"></span>https://github.com/jquery/sizzle/compare/912a821...5e4e755</a></p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
