<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#7654 (cleaning warnings in jQuery) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/7653/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/7655/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#7654</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened November 29, 2010 07:43PM UTC</p>
      
        <p>Closed November 29, 2010 08:31PM UTC</p>
      
      
        <p>Last modified March 23, 2011 07:01PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">cleaning warnings in jQuery</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        arimbourg@ariworld.eu
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.6">1.6</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.4.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I've cleaned the jQuery core code to avoid the warnings that appears in firefox error console (like "function X don't always return a value" or other "undefined properties").</p><p>You can access these copies here : <a href="http://hq.ariworld.eu/javascript/jquery-1.4.4-clean.js" class="ext-link"><span class="icon"></span>http://hq.ariworld.eu/javascript/jquery-1.4.4-clean.js</a> (and <a href="http://hq.ariworld.eu/javascript/jquery-1.4.2-clean.js" class="ext-link"><span class="icon"></span>http://hq.ariworld.eu/javascript/jquery-1.4.2-clean.js</a> )</p><p>There is one warning remaining : "Unexpected token in attribute selector: &lt; ! &gt;."</p><p>from line 4139 (4159 in my cleaned copy)</p><p>There may be some more warnings but I noticed only those appearing in my scripts.</p><p>I hope next versions could be fully clean...</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (12)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 29, 2010 08:31PM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks for the report, but this is not a jQuery bug. Warnings are <strong>NOT DANGEROUS</strong> and should be ignored. If you can’t deal with ignoring them yourself, please change your error console’s settings so that it only shows errors. We won’t bloat the library to remove superfluous CSS warnings.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 29, 2010 09:48PM UTC by <span class="author">arimbourg@ariworld.eu</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I know I can disable warnings and that they are not dangerous... but I always prefer writing scripts that don't produce any warnings rather than disabling these warnings. It's always better. Now if you don't want these corrections, do as you want... It's not difficult to avoid them... it only take some time to clean your file for each new release...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 01:44AM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm just curious... what are we expected to do with those links above? Have you ever looked at the jQuery source code on github.com? </p><p><a href="https://github.com/jquery/jquery" class="ext-link"><span class="icon"></span>https://github.com/jquery/jquery</a></p><p>A cursory review of your code reveals nothing to me about what you've cleaned... and I did a control+f for "clean" and found no comments left by you.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 03:22AM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p><a href="http://paste.pocoo.org/compare/297742/297741/" class="ext-link"><span class="icon"></span>http://paste.pocoo.org/compare/297742/297741/</a></p><p>his change makes two minor tweaks in property detection for jquery on window, and adds "return null" 40 times.  </p><p>jQuery passes JSLint, it does not need to pass the... "Don't have any Firebug Warnings" test, especially if it just means adding return null to functions that don't need to return anything.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 05:31PM UTC by <span class="author">arimbourg@ariworld.eu</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>To ajpiano</p><p>  I cleaned jQuery to avoid the strict warnings appearing in firefox error console (not firebug).</p><p>  I added "return null" (or sometimes just "null" to existing "return") to avoid "function don't always return a value" warnings. The functions where I added that returned a value yet in a condition or loop. So don't say that I added "return null to function that don't need ...". </p><p>  A "return;" or a "return null;" or a function without "return;" returns the same value (or that could be "undefined"). I used "null" because I saw that you commonly use it in conditions. It don't change anything to the behavior of jQuery... but it's cleaner (... good practice).</p><p>  I also visited JSLint. The validator is stricter than me and display more warnings than me. (I didn't find the "Don't have any Firebug Warnings" option).</p><p>To rwaldron,</p><p>  I just offered to check them and maybe to include these 'cleanings' for the next versions. If you want, I can check the src files form github and clean them and add comments too...</p><p>If you don't want my help, I'll just continue cleaning my copies each time a new version comes...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 05:48PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>The changes you've made are across both jQuery and Sizzle. Also, have you run these against the jQuery test suite?</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 06:16PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">The &quot;Don&#39;t have any Firebug Warnings&quot; test was a made up, figurative test that describes the arbitrary goal of having jQuery not produce any Warnings from the Firefox console.  It is not a real option for JSLint, which is the tool that jQuery uses for checking code for integrity and style.  &#92;
&#92;
This is not a matter of &quot;not wanting your help,&quot; which, if offerred for a different issue, we would gladly accept.  It is simply that the &quot;reward&quot; of jQuery not producing warnings in the Firefox console (warnings which are not DANGEROUS is not worth the bulk of adding these changes to jQuery and Sizzle, which may behave unpredictably as they have not been run against the tests.&#92;
&#92;
Thank you for your time and interest in helping the jQuery project!</span> → <span class="change-field-new">1291141046374547</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>The "Don't have any Firebug Warnings" test was a made up, figurative test that describes the arbitrary goal of having jQuery not produce any Warnings from the Firefox console.  It is not a real option for JSLint, which is the tool that jQuery uses for checking code for integrity and style.  </p><p>This is not a matter of "not wanting your help," which, if offerred for a different issue, we would gladly accept.  It is simply that the "reward" of jQuery not producing warnings in the Firefox console is not worth the bulk of adding these changes to jQuery and Sizzle, which may behave unpredictably as they have not been run against the tests.</p><p>Thank you for your time and interest in helping the jQuery project!</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:8">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 11:05PM UTC by <span class="author">arimbourg@ariworld.eu</span></span>
        <a class="ticket-change-link" href="#comment:8">comment:8</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>To rwaldron</p><p>  I didn't use the jQuery test suite (I didn't even know there's one). Are you talking about "http://jsfiddle.net/" ? I only used my test suite... a remake of window.alert function to test and check results... Just tell me where to find that tool and I'll try it.</p><p>To ajpiano</p><p>  I would be happy to help for the more serious issues. Yesterday, I read some of them. What's the procedure?</p><p>Now, I've added comments to the modifications that I made in jQuery ( <a href="http://hq.ariworld.eu/javascript/jquery-1.4.4-clean+comments.js" class="ext-link"><span class="icon"></span>http://hq.ariworld.eu/javascript/jquery-1.4.4-clean+comments.js</a> ). Reading these comments, you'll understand that it couldn't be any bad issue. Give me the test suite to be sure... or don't if a clean code is really not interesting...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:9">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed November 30, 2010 11:42PM UTC by <span class="author">rwaldron</span></span>
        <a class="ticket-change-link" href="#comment:9">comment:9</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">The jQuery test suite is a collection of 3688 unit tests that jQuery must pass in the browsers I listed above before it can be deemed release worthy. &#92;
&#92;
The tests exist to aid in avoiding major unexpected regressions in the jQuery source (unless the regression is somehow intended ) from one release to another. Imagine, i make one small change - like... returning null when nothing was previously returned. No big deal right? Wrong. Javascript functions ALWAYS return something - if it is no specified then the default behaviour is to return `undefined`. So what happens when some other piece of internal jQuery code is testing a condition in which it expects `undefined` to the result of its evaluation... but now you&#39;re returning null. This is what happens:&#92;
&#92;
16 Failed tests spanning across the data and css modules. Only 2782 tests were allowed to run because the entire suite dies when it gets to the custom JSON-P tests. &#92;
&#92;
So I removed that test block, which is only 2 tests and those count against the total. Now you&#39;re failing 18.&#92;
&#92;
This allowed the rest of the suit to run and finish with 68 failures, plus the removed two for a total of &#39;&#39;&#39;70 failures&#39;&#39;&#39; across the data, css, ajax, effects and dimensions modules. &#92;
&#92;
This test was run in both Chromium 9.0.595.0 and Firefox 4b7 - in both browsers I ran the unmodified test suite to ensure 100% passing. Tomorrow I will run it against the older versions of IE. &#92;
 &#92;
&#92;
&#92;
&#92;
&#92;
&#92;
&#92;
&#92;
&#92;
&#92;
</span> → <span class="change-field-new">1291161625836108</span>
                    
                  </td>
                </tr>
              
            
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>The jQuery test suite is a collection of 3688 unit tests that jQuery must pass in the browsers I listed above before it can be deemed release worthy. </p><p>The tests exist to aid in avoiding major unexpected regressions in the jQuery source (unless the regression is somehow intended ) from one release to another. Imagine, i make one small change - like... returning null when nothing was previously returned. No big deal right? Wrong. Javascript functions ALWAYS return something - if it is not specified then the default behaviour is to return <code>undefined</code>. So what happens when some other piece of internal jQuery code is testing a condition in which it expects <code>undefined</code> to the result of its evaluation... but now you're returning null. This is what happens:</p><p>16 Failed tests spanning across the data and css modules. Only 2782 tests were allowed to run because the entire suite dies when it gets to the custom JSON-P tests. </p><p>So I removed that test block, which is only 2 tests and those count against the total. Now you're failing 18.</p><p>This allowed the rest of the suit to run and finish with 68 failures, plus the removed two for a total of <strong>70 failures</strong> across the data, css, ajax, effects and dimensions modules. </p><p>This test was run in both Chromium 9.0.595.0 and Firefox 4b7 - in both browsers I ran the unmodified test suite to ensure 100% passing. Tomorrow I will run it against the older versions of IE. </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:10">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 02:53AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:10">comment:10</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>You are right... I wrote that before...</p><p>(function () { }) () === undefined</p><p>    true</p><p>(function () { }) () === null</p><p>    false</p><p>(function () { return; }) () === undefined</p><p>    true</p><p>(function () { return; }) () === null</p><p>    false</p><p>(function () { return null; }) () === null</p><p>    false</p><p>(function () { return null; }) () === null</p><p>    true</p><p>(function () { return; }) () === undefined</p><p>    true</p><p>(function () { return; }) () === null</p><p>    false</p><p>(function () { return undefined; }) () === null</p><p>    false</p><p>(function () { return null; }) () === null</p><p>    true</p><p>ok... So let's return undefined...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:11">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 01, 2010 03:12PM UTC by <span class="author">arimbourg@ariworld.eu</span></span>
        <a class="ticket-change-link" href="#comment:11">comment:11</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>No... it's not enough... I test now qunit...</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:12">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 23, 2011 07:01PM UTC by <span class="author">Bill</span></span>
        <a class="ticket-change-link" href="#comment:12">comment:12</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I think the jquery developers need to go through and clean this up.  Return null or undefined, whatever it takes in each case to get it right.  Seems like it's nothing more than lazy/messy coding, and I don't see any technical reason for not fixing this.  Having unnecessary warnings is just bad practice, and not acceptable for many professional users.</p><p>Perhaps jquery should make it a standard to address things like this before releasing, just like testing.</p><p>Don't take me wrong - I love the product and appreciate all the great work the team has done.  But please try to understand the perspective of developers who use this in their professional work and thus can't make excuses or ignore this stuff, as unimportant as it might seem.</p><p>Thanks for taking this into consideration, and hopefully the issue can be straightened out without too much trouble.</p>
            </div>
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
