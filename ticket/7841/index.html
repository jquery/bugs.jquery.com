<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#7841 (Explicitly triggered $(window).scroll() behaves differently on IE8 than on other browsers) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/7840/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/7842/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#7841</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(patchwelcome)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened December 24, 2010 10:57PM UTC</p>
      
        <p>Closed December 27, 2010 10:48PM UTC</p>
      
      
        <p>Last modified March 13, 2012 11:23PM UTC</p>
      
    </div>
  </div>

  <h1 class="ticket-title">Explicitly triggered $(window).scroll() behaves differently on IE8 than on other browsers</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        jquery@jacobrothstein.com
      </td>
      <th>Owned by:</th>
      <td>jquery@jacobrothstein.com</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        undecided
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.6">1.6</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>unfiled</td>
      
        <th>Version:</th>
      
      <td>1.4.4</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>The bug is demonstrated here: <a href="http://jsfiddle.net/fMjpw/" class="ext-link"><span class="icon"></span>http://jsfiddle.net/fMjpw/</a></p><p>My assumption of expected behavior is that jQuery should abstract away simple browser differences.  If </p><pre class="wiki">$(window).scroll()</pre> is explicitly triggered in IE8, the window scrolls to the top (<pre class="wiki">$(window).scrollTop() === 0</pre>).  On other browsers (tested on FF4 and chrome beta 9), <pre class="wiki">$(window).scroll()</pre> does nothing to <pre class="wiki">$(window).scrollTop()</pre>.  If this is indeed a bug, I'm happy to provide a patch.<p></p><p>I'm working around this as follows (and demonstrated at <a href="http://jsfiddle.net/Y3Y3W/1)" class="ext-link"><span class="icon"></span>http://jsfiddle.net/Y3Y3W/1)</a></p><pre class="wiki">
$( window ).scroll(function( event ) {
  if ( 'undefined' === typeof event.originalEvent ) {
    event.preventDefault();
  }
})
</pre></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 27, 2010 06:19AM UTC by <span class="author">snover</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>owner:</th>
                  <td>
                    
                      <span class="change-field-new">→ jquery@jacobrothstein.com</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">pending</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>What is a practical use case for manually triggering the scroll event?</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 27, 2010 06:57AM UTC by <span class="author">Jacob Rothstein &lt;jquery@jacobrothstein.com&gt;</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Replying to [comment:1 snover]:</p><blockquote> What is a practical use case for manually triggering the scroll event?</blockquote><p>A generic argument: Different parts of an application bind window scroll listeners depending on the particular page.  The trigger is used after user behavior modifies the dom such that it is the equivalent of a scroll.  Instead of having to track each of those events or bind them as custom events, the code can just say "do what you would have done if a scroll had occurred," so that the part of the app that knows "we need to do the stuff that would have happened if a scroll had occurred" doesn't need to know what exactly that is.</p><p>Specifically, this manifested as a bug in infinite-scroll-style pagination.  When a user scrolled to within some margin of the bottom, we fetched some more content.  When that content was loaded, we triggered the </p><pre class="wiki">$(window).scroll()</pre> again, to check if their screen was tall enough that we needed to fetch even more content.  In another place, we called <pre class="wiki">$(window).scroll()</pre> on window load for similar reasons, and in another app I've explicitly triggered <pre class="wiki">$(window).resize()</pre> to "do whatever would have been done on window resize" on page load.<p></p><p>Of course there are a myriad of alternatives and workarounds, but it was really surprising to me that when using core functionality like the events system there would be *any* differences between browsers, particularly since $.fn.scroll is documented on <a href="http://api.jquery.com/scroll" class="ext-link"><span class="icon"></span>http://api.jquery.com/scroll</a> .  Part of my confidence in using jQuery is the expectation that behavior will be [mostly] consistent across browsers.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed December 27, 2010 10:48PM UTC by <span class="author">ajpiano</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>_comment0:</th>
                  <td>
                    
                      <span class="change-field-old">Let me first state that I do sympathise with where you&#39;re coming from, and we do appreciate your confidence in and usage of jQuery!&#92;
&#92;
A) WRT to your first point: It is generally considered to be a poor practise to use binding anonymous functions to native events as a method of code organisation.  If there is logic that needs to happen &quot;when a scroll would have occurred,&quot; whether or not a scroll occurred, it makes much more sense to encapsulate that logic in a function and call that function from an actual window scroll, than it does to encapsulate that logic in a window scroll handler and then try to make the app think the window scrolled.&#92;
&#92;
B) You&#39;re right, jQuery does normalise a lot of browser quirks, but because of the very different nature of event handling in different browsers, it is in the events system that these types of issues do pop up.  For instance, jQuery synthetically bubbles the change and submit events in IE altogether, and certainly we have encountered issues with that over time.  I don&#39;t know if you&#39;ve ever tried doing .trigger(&quot;click&quot;) to simulate click events, but it is not, in fact ,the same as an actual user clicking the element - certain native behaviours (like following a link) simply do not happen.  The reasoning that jQuery is a library that normalizes cross-browser issues, therefore if you find a cross-browser issue, jQuery should automatically find a way to normalise, in a word, circular.&#92;
&#92;
C) Your fix of adding a preventDefault call is a perfectly reasonable fix - for your application.  If you want to stop IE8&#39;s default behaviour on a synthetic scroll event, it is typical: people have to use  event.preventDefault in myriad contexts and applications for just this type of problem.  Whether it is an appropriate solution to be added to every single scroll event jQuery ever binds in any application ever cannot be determined readily.&#92;
&#92;
By the same token, if you are indeed willing to look at this issue further to see if you can find a solution that solves the problem and does not have other ramifications, we would surely welcome your effort and input.  So for the time being, after conferring with other members of the ticket triage team, I am going to close this ticket with a &quot;patchwelcome&quot; status.  Thanks!&#92;
</span> → <span class="change-field-new">1293490179332511</span>
                    
                  </td>
                </tr>
              
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ patchwelcome</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">pending</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
            <div class="ticket-comment-body">
              <p>Let me first state that I do sympathise with where you're coming from, and we do appreciate your confidence in and usage of jQuery!</p><p>A) WRT to your first point: It is generally considered to be a poor practise to use binding anonymous functions to native events as a method of code organisation.  If there is logic that needs to happen "when a scroll would have occurred," whether or not a scroll occurred, it makes much more sense to encapsulate that logic in a function and call that function from an actual window scroll, than it does to encapsulate that logic in a window scroll handler and then try to make the app think the window scrolled.</p><p>B) You're right, jQuery does normalise a lot of browser quirks, but because of the very different nature of event handling in different browsers, it is in the events system that these types of issues do pop up.  For instance, jQuery synthetically bubbles the change and submit events in IE altogether, and certainly we have encountered issues with that over time.  I don't know if you've ever tried doing .trigger("click") to simulate click events, but it is not, in fact ,the same as an actual user clicking the element - certain native behaviours (like following a link) simply do not happen.  The reasoning that jQuery is a library that normalizes cross-browser issues, therefore if you find a cross-browser issue, jQuery should automatically find a way to normalise it, in a word, circular.</p><p>C) Your fix of adding a preventDefault call is a perfectly reasonable fix - for your application.  If you want to stop IE8's default behaviour on a synthetic scroll event, it is typical: people have to use  event.preventDefault in myriad contexts and applications for just this type of problem.  Whether it is an appropriate solution to be added to every single scroll event jQuery ever binds in any application ever cannot be determined readily.</p><p>By the same token, if you are indeed willing to look at this issue further to see if you can find a solution that solves the problem and does not have other ramifications, we would surely welcome your effort and input.  So for the time being, after conferring with other members of the ticket triage team, I am going to close this ticket with a "patchwelcome" status.  Thanks!</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
