<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#929 (DraggableDestroy does not restore standard browser click/drag reactions) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/928/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/930/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#929</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(wontfix)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 08, 2007 07:02AM UTC</p>
      
        <p>Closed March 31, 2008 01:29AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">DraggableDestroy does not restore standard browser click/drag reactions</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        KDan on freenode #jQ
      </td>
      <th>Owned by:</th>
      <td>stefan</td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.1.3">1.1.3</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>interface</td>
      
        <th>Version:</th>
      
      <td>1.1a</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>Detected in interface 1.1.2, latest version downloaded 08/02/2007.</p><p>When a previously draggable item is marked is <a href="/wiki/DraggableDestroy">DraggableDestroy</a>()ed, it correctly loses its drag'n'drop functionality, but does not regain standard browser functionality, such as the ability to select text. </p><p>-</p><p>Possible cause:</p><p>I believe this is due to the fact that the jQuery.iDrag.build() method overrides a large number of browser events (onselectstart, ondragstart, ondrag...), but the jQuery.iDrag.destroy() method just unbinds the iDrag init and resets a couple of variables, and does not restore the browser events.</p><p>-</p><p>Desired situation:</p><p>I believe that in this situation, the Draggables plugin should restore standard browser functionality (e.g. selection) when the Draggable is destroyed.</p><p>-</p><p>Possible solution:</p><p>Alter iDrag.destroy() to ensure it restores browser events.</p><p>-</p><p>Why this is important:</p><p>Although this does not affect the operation of the Draggable plugin on its own, it does affect its interaction with other plugins, and  with more basic browser functions. Essentially, anything that is draggable cannot have any other useful functionality that relies on the browser's drag and drop. The example I'm hitting is the attempt to have an Editable field inside a draggable item (drag and drop items between folders, click on their name to rename them, like Explorer). In this case, the Editable plugin works fine and creates the input field, but the input field itself is broken - visual feedback of text selection is missing, and it's not possible to select the text inside the field with the mouse.</p><p>-</p><p>How to contact me for more info: </p><p>I can be found on #jQuery on freenode under name KDan in very early UK morning (3am-&gt;6am) and some evenings, or emailed at: </p><p>daniel      /</p><p>at            /</p><p>tenner     /</p><p>dot          /</p><p>org         /</p><p>I'll check this ticket every few days to see if more information is requested, too.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (4)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/929/test.2.html/index.html">test.2.html</a> (4.7 KB) - added by KDan
        <strong>February 12, 2007 04:34AM UTC</strong>.<br>
        <p>Test file for Bug <a href="/ticket/929">#929</a></p>
      </li>
    
      <li>
        <a href="/attachment/ticket/929/test.3.html/index.html">test.3.html</a> (4.7 KB) - added by KDan
        <strong>February 12, 2007 04:35AM UTC</strong>.<br>
        <p>A test file for Bug <a href="/ticket/929">#929</a></p>
      </li>
    
      <li>
        <a href="/attachment/ticket/929/test.4.html/index.html">test.4.html</a> (4.7 KB) - added by KDan
        <strong>February 12, 2007 04:44AM UTC</strong>.<br>
        <p>Test file for <a href="/ticket/929">#929</a></p>
      </li>
    
      <li>
        <a href="/attachment/ticket/929/test.html/index.html">test.html</a> (4.7 KB) - added by KDan
        <strong>February 12, 2007 04:31AM UTC</strong>.<br>
        <p>Test file for Bug <a href="/ticket/929">#929</a></p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (7)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2007 07:16AM UTC by <span class="author">stefan</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 08, 2007 10:39AM UTC by <span class="author">KDan</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hello, me again, not sure why this has been marked as fixed. It is not fixed in the current release. If it has been fixed, when is it due to be released, and would it be possible to gain access to the fix early?</p><p>Thanks.</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 09, 2007 09:35AM UTC by <span class="author">stefan</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>It is not fixed in current release but it is fixed in SVN.</p><p>A new release will be out this week</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2007 03:59AM UTC by <span class="author">KDan</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Thanks :-)</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:5">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2007 04:34AM UTC by <span class="author">KDan</span></span>
        <a class="ticket-change-link" href="#comment:5">comment:5</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-old strikethrough">fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">closed</span> → <span class="change-field-new">reopened</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi Stefan,</p><p>I've downloaded the CVS fix and tested it on my (currently internal-only) page, and I'm afraid it didn't work. So I created a test page, to illustrate the problem. I'm trying to attach it to this bug, and if I don't manage I'll post it up externally instead. Since you already implemented my proposed fix it may be that the actual fix is more complicated than I thought.</p><p>Will post again once I've managed to attach a file!</p><p>Thanks,</p><p>Daniel</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:6">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 12, 2007 04:57AM UTC by <span class="author">anonymous</span></span>
        <a class="ticket-change-link" href="#comment:6">comment:6</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>For some reason trying to attach a file says: </p><p>Invalid Attachment</p><p>Attachment bugs/bug/929: test.4.html does not exist. </p><p>-</p><p>So instead I've pasted it here:</p><p><a href="http://paste.pocoo.org/show/957/" class="ext-link"><span class="icon"></span>http://paste.pocoo.org/show/957/</a></p><p>-</p><p>Description of the linked file:</p><p>To make it work, make sure jQuery files are in the correct subdirectory (from headers) - or modify the script tags to point to the correct place. Only plugin used other than jQuery and iface is a simple modified version of one of the editable plugins, included inline.</p><p>Basically all that the code does is make the lists Sortable, and then make the list items editable. The editable plugin is written so that you can provide a callin function which is called at the beginning. In that callin I call <a href="/wiki/DraggableDestroy">DraggableDestroy</a> in hope of restoring normal browser functionality on the field before it is edited. I do not call <a href="/wiki/SortableAddItem">SortableAddItem</a> afterwards because that is not needed to illustrate the issue.</p><p>The issue is that once you click on the item and it loses its Draggable abilities, becoming an input field, it still doesn't recover standard functionality like being able to select text inside the input field. This can be seen by clicking on one of the items, then pressing shift and the left cursor key a few times, then typing something - the selection works, it just doesn't display visual feedback.</p><p>This can also be seen after you click off the editable field - since the Draggable aspect is not restored, if you then attempt to click and drag the item it won't drag (expected), but it also won't allow you to select the text (not expected).</p><p>The expected behaviour would be for <a href="/wiki/DraggableDestroy">DraggableDestroy</a> to restore whatever selection/highlighting functionality existed before the item became a Draggable.</p><p>Please let me know if I can further clarify the issue.</p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:7">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed March 31, 2008 01:29AM UTC by <span class="author">scott.gonzal</span></span>
        <a class="ticket-change-link" href="#comment:7">comment:7</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>description:</th>
                  <td>
                    
                      <span class="change-field-old">Detected in interface 1.1.2, latest version downloaded 08/02/2007.&#92;
&#92;
When a previously draggable item is marked is DraggableDestroy()ed, it correctly loses its drag&#39;n&#39;drop functionality, but does not regain standard browser functionality, such as the ability to select text. &#92;
&#92;
-&#92;
&#92;
Possible cause:&#92;
&#92;
I believe this is due to the fact that the jQuery.iDrag.build() method overrides a large number of browser events (onselectstart, ondragstart, ondrag...), but the jQuery.iDrag.destroy() method just unbinds the iDrag init and resets a couple of variables, and does not restore the browser events.&#92;
&#92;
-&#92;
&#92;
Desired situation:&#92;
&#92;
I believe that in this situation, the Draggables plugin should restore standard browser functionality (e.g. selection) when the Draggable is destroyed.&#92;
&#92;
-&#92;
&#92;
Possible solution:&#92;
&#92;
Alter iDrag.destroy() to ensure it restores browser events.&#92;
&#92;
-&#92;
&#92;
Why this is important:&#92;
&#92;
Although this does not affect the operation of the Draggable plugin on its own, it does affect its interaction with other plugins, and  with more basic browser functions. Essentially, anything that is draggable cannot have any other useful functionality that relies on the browser&#39;s drag and drop. The example I&#39;m hitting is the attempt to have an Editable field inside a draggable item (drag and drop items between folders, click on their name to rename them, like Explorer). In this case, the Editable plugin works fine and creates the input field, but the input field itself is broken - visual feedback of text selection is missing, and it&#39;s not possible to select the text inside the field with the mouse.&#92;
&#92;
-&#92;
&#92;
How to contact me for more info: &#92;
&#92;
I can be found on #jQuery on freenode under name KDan in very early UK morning (3am-&gt;6am) and some evenings, or emailed at: &#92;
daniel      /&#92;
at            /&#92;
tenner     /&#92;
dot          /&#92;
org         /&#92;
&#92;
I&#39;ll check this ticket every few days to see if more information is requested, too.</span> → <span class="change-field-new">Detected in interface 1.1.2, latest version downloaded 08/02/2007.&#92;
&#92;
When a previously draggable item is marked is DraggableDestroy()ed, it correctly loses its drag&#39;n&#39;drop functionality, but does not regain standard browser functionality, such as the ability to select text. &#92;
&#92;
-&#92;
&#92;
Possible cause:&#92;
&#92;
I believe this is due to the fact that the jQuery.iDrag.build() method overrides a large number of browser events (onselectstart, ondragstart, ondrag...), but the jQuery.iDrag.destroy() method just unbinds the iDrag init and resets a couple of variables, and does not restore the browser events.&#92;
&#92;
-&#92;
&#92;
Desired situation:&#92;
&#92;
I believe that in this situation, the Draggables plugin should restore standard browser functionality (e.g. selection) when the Draggable is destroyed.&#92;
&#92;
-&#92;
&#92;
Possible solution:&#92;
&#92;
Alter iDrag.destroy() to ensure it restores browser events.&#92;
&#92;
-&#92;
&#92;
Why this is important:&#92;
&#92;
Although this does not affect the operation of the Draggable plugin on its own, it does affect its interaction with other plugins, and  with more basic browser functions. Essentially, anything that is draggable cannot have any other useful functionality that relies on the browser&#39;s drag and drop. The example I&#39;m hitting is the attempt to have an Editable field inside a draggable item (drag and drop items between folders, click on their name to rename them, like Explorer). In this case, the Editable plugin works fine and creates the input field, but the input field itself is broken - visual feedback of text selection is missing, and it&#39;s not possible to select the text inside the field with the mouse.&#92;
&#92;
-&#92;
&#92;
How to contact me for more info: &#92;
&#92;
I can be found on #jQuery on freenode under name KDan in very early UK morning (3am-&gt;6am) and some evenings, or emailed at: &#92;
daniel      /&#92;
at            /&#92;
tenner     /&#92;
dot          /&#92;
org         /&#92;
&#92;
I&#39;ll check this ticket every few days to see if more information is requested, too.</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-new">→ Review</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ wontfix</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">reopened</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Interface is no longer supported; consider switching to <a href="http://ui.jquery.com/" class="ext-link"><span class="icon"></span>jQuery UI</a>.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
