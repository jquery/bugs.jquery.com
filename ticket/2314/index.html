<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#2314 (document.getSelection() message from error consol of FF 2.0.0.1x) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/2313/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/2315/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#2314</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(worksforme)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 09, 2008 09:04PM UTC</p>
      
        <p>Closed May 09, 2008 03:14AM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">document.getSelection() message from error consol of FF 2.0.0.1x</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        saidbakr
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        major
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.2.4">1.2.4</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>core</td>
      
        <th>Version:</th>
      
      <td>1.2.2</td>
    </tr>
    <tr>
      
        <th>Keywords:</th>
      
      <td>getSelection, firefox, bug, compatability</td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>hi,</p><p><strong>Deprecated method document.getSelection() called.  Please use window.getSelection() instead.</strong></p><p>The following is the code that generates the error:</p><p>function chkAva(lnk,id){</p><p>el = document.getElementById(id).value;</p><p>if (el == ''){</p><p>alert('The user id should have a value before check');</p><p>return;</p><p>}</p><p>av = "Available";</p><p>na =  "Not Available, choose another one!"</p><p>$(document).ready(function(){</p><p>$("#"+lnk).before("&lt;img src='imgs/wait.gif' id='waitImg' /&gt; ");</p><p>$.ajax({url: 'chk_user.php',type:'GET', data: 'Id='+ el, cache: false, dataType: "script", success: function(data, textStatus){</p><p>    $("#waitImg").remove()</p><p>	if (data == 0){</p><p>		if (document.getElementById('av') == null){		</p><p>		$("#"+lnk).after(" &lt;span id='av' class='hint'&gt; "+av+"&lt;/span&gt;");</p><p>		}</p><p>		else{</p><p>			$("#av").empty();</p><p>			$("#"+lnk).after(" &lt;span id='av' class='hint'&gt; "+av+"&lt;/span&gt;");</p><p>		}</p><p>	}</p><p>	else{</p><p>		if (document.getElementById('av') != null){</p><p>			$("#av").empty();</p><p>		}</p><p>		$("#"+lnk).after(" &lt;span id='av' class='hint'&gt; "+na+"&lt;/span&gt;");</p><p>		}</p><p>	},</p><p>	error: function(x,txt,err){</p><p>	$("#waitImg").remove();</p><p>	alert('Could not check...'+"\\n"+'The server may down or busy. Retry again after a while.');</p><p>	}</p><p>});</p><p>});</p><p>//the html:</p><p>&lt;form method="post" id="form2"&gt;</p><p>            &lt;table cellpadding="2" cellspacing="0" class="KT_tngtable"&gt;</p><p>              &lt;tr&gt;</p><p>                &lt;td class="KT_th"&gt;&lt;label for="userId"&gt;User ID&lt;/label&gt;&lt;/td&gt;</p><p>                &lt;td&gt;&lt;input type="text" name="userId" id="userId" size="32" /&gt; </p><p>                  &lt;a id="chk1" href="javascript:chkAva('chk1','userId')"&gt;check&lt;/a&gt; &lt;/td&gt;</p><p>              &lt;/tr&gt;</p><p>              &lt;tr&gt;....</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (2)</summary>

  <ul class="ticket-attachments">
    
      <li>
        <a href="/attachment/ticket/2314/main_js.js/index.html">main_js.js</a> (0.6 KB) - added by saidbakr
        <strong>February 10, 2008 02:25AM UTC</strong>.<br>
        <p>the remaing linked js file</p>
      </li>
    
      <li>
        <a href="/attachment/ticket/2314/register.php/index.html">register.php</a> (14.0 KB) - added by saidbakr
        <strong>February 09, 2008 09:05PM UTC</strong>.<br>
        <p>The file that contains the code</p>
      </li>
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (4)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 09, 2008 10:28PM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>need:</th>
                  <td>
                    
                      <span class="change-field-old">Patch</span> → <span class="change-field-new">Test Case</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I'm not aware of jquery using the method getSelection() at all and doing a search of jquery.js didn't show anything either.  You are including half a dozen javascript files.  Do you have some reason to believe jquery is the culprit?</p><p>If you do have such a reason I think you'll need to post a link to a working copy of your test case.  I can't figure out what the problem is with the information you've provided so far.</p>
            </div>
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed February 10, 2008 02:24AM UTC by <span class="author">saidbakr</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Hi,</p><p>I removed any linked scripts namely:</p><p>&lt;script src="../includes/common/js/base.js" type="text/javascript"&gt;&lt;/script&gt;</p><p>&lt;script src="../includes/common/js/utility.js" type="text/javascript"&gt;&lt;/script&gt;</p><p>&lt;script src="../includes/skins/style.js" type="text/javascript"&gt;&lt;/script&gt;</p><p>but I kept </p><p>&lt;script language="javascript" src="scripts/main_js.js" type="text/javascript"&gt;&lt;/script&gt;</p><p>it is very simple and does not have any getSelection</p><p>Again FF error console report the same message. the message appears onload and also when the function chkAva() is invoked.</p><p>The script works fine with MSIE. Finally, I think it may be a bug in FF this approach may be abroved when I disabled all plug-ins and add on in FF including web developers tools, the message does not be displayed by the error console, however, the chkAva() function does not able running the portion inwhich Jquery used.</p><p>Replying to [comment:1 davidserduke]:</p><blockquote> I'm not aware of jquery using the method getSelection() at all and doing a search of jquery.js didn't show anything either.  You are including half a dozen javascript files.  Do you have some reason to believe jquery is the culprit?  If you do have such a reason I think you'll need to post a link to a working copy of your test case.  I can't figure out what the problem is with the information you've provided so far.</blockquote>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 09, 2008 12:09AM UTC by <span class="author">nopuck4you</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I just had the same error message which did not appear this morning nor yesterday. I realized I installed a new toolbar into Firefox from johnq.com. This toolbar was the culprit. After disabling the toolbar the error went away. Toolbar is at: <a href="http://www.johnq.com/" class="ext-link"><span class="icon"></span>http://www.johnq.com/</a> (Streaming TV shows web site - work and family safe as long as you don't go into the "after hours" section)</p><p>This should hopefully give you guys a test scenario of an extenal entity interfering with the code functionality.</p><ul><li>Dmitryw</li></ul>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:4">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed May 09, 2008 03:14AM UTC by <span class="author">davidserduke</span></span>
        <a class="ticket-change-link" href="#comment:4">comment:4</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">1.2.3</span> → <span class="change-field-new">1.2.4</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ worksforme</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>I was unable to reproduce the error just using jquery so I'm going to go with Dmitryw's idea that it is a plugin in FF.  If that proves not to be the case go ahead and reopen the ticket with a test case where this happens on a clean install of firefox.</p>
            </div>
          
        
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
