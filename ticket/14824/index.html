<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-pagefind-meta="title">#14824 (jQuery v1.11 and v2.1 slideUp and slideDown not respecting css display property on non-block elements) - jQuery - Bug Tracker</title>
    <meta name="description" content="Static archive of the old bugs.jquery.com Trac site.">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="/bundle/SEeiGkT-TJ.css">
  </head>
  <body>
    <div class="banner flex-center">
      <span>jQuery issues have moved to <a href="https://github.com/jquery/jquery/issues">GitHub</a>. This site is now a static archive of the old <a href="https://trac.edgewall.org/">Trac</a> bugs site. Some functions and pages are no longer available.</span>
    </div>
    <div class="container">
      <a href="#skip" class="visually-hidden">Skip to main content</a>
      <header class="flex-column">
        <div class="flex-row flex-between-start">
          <a id="jq-siteLogo" href="/" title="jQuery Home">
            <img src="/img/logo.svg" width="215" alt="jQuery: Write Less, Do More.">
          </a>
          <input class="hamburger-toggle visually-hidden" id="jq-menutoggle" type="checkbox">
          <label aria-label="Toggle Menu" for="jq-menutoggle" class="hamburger-lines flex-column flex-between-center">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </label>
          <div id="jq-menus">
            <nav id="jq-primaryNavigation">
              <h2 class="visually-hidden">jQuery sites navigation menu</h2>
              <ul class="nav">
                <li class="jq-jquery active">
                  <a href="https://jquery.com/" title="jQuery Home">jQuery</a>
                </li>
                <li class="jq-plugins">
                  <a href="https://plugins.jquery.com/" title="jQuery Plugins">Plugins</a>
                </li>
                <li class="jq-ui">
                  <a href="https://jqueryui.com/" title="jQuery UI">UI</a>
                </li>
                <li class="jq-meetup">
                  <a href="https://meetups.jquery.com/" title="jQuery Meetups">Meetups</a>
                </li>
                <li class="jq-forum">
                  <a href="https://forum.jquery.com/" title="jQuery Forum">Forum</a>
                </li>
                <li class="jq-blog">
                  <a href="https://blog.jquery.com/" title="jQuery Blog">Blog</a>
                </li>
                <li class="jq-about">
                  <a href="https://openjsf.org" title="About jQuery and OpenJS">About</a>
                </li>
                <li class="jq-donate">
                  <a href="https://openjsf.org/about/project-funding-opportunities/" title="Donate to OpenJS">Donate</a>
                </li>
              </ul>
            </nav>
            <nav id="jq-secondaryNavigation">
              <h2 class="visually-hidden">jQuery Core navigation menu</h2>
              <ul class="nav">
                <li class="jq-download">
                  <a href="https://jquery.com/download/">
                    Download
                  </a>
                </li>
                <li class="jq-documentation">
                  <a href="https://api.jquery.com/">
                    Documentation
                  </a>
                </li>
                <li class="jq-tutorials">
                  <a href="https://learn.jquery.com/">
                    Tutorials
                  </a>
                </li>
                <li class="jq-bugTracker">
                  <a href="https://github.com/jquery/jquery/issues">
                    Bug Tracker
                  </a>
                </li>
                <li class="jq-discussion">
                  <a href="https://forum.jquery.com/">
                    Discussion
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div id="bug-tracker-form" class="flex-column flex-between-center">
          <h1>Bug Tracker</h1>
          <div id="search"></div>
          
        </div>
      </header>
      <main id="skip" class="flex-column">
        <h2 class="visually-hidden">Side navigation</h2>
        <nav id="jq-sidenav" class="flex-column white-box">
          <h5 class="sidenav-header">Bug Tracker</h5>
          <a href="/newticket">New Ticket</a>
          <a href="/report">View Tickets</a>
          <a href="/ticketgraph">Ticket Graph</a>
          <a href="/roadmap">Roadmap</a>
          <a href="/timeline">Recent Changes</a>
        </nav>
        <div id="jq-content" class="white-box">
          

<div class="flex-column" data-pagefind-body="">
  

  <nav class="content-nav">
    <ul class="flex-row">
      
        <li>
          <a href="/ticket/14823/">← Previous Ticket</a>
        
      
      
        </li><li>
          <a href="/ticket/14825/">Next Ticket →</a>
        </li>
      
    </ul>
  </nav>


<div class="ticket-info">
  <div class="flex-row flex-between-start">
    <h3>
      <a href="" class="ticket-number">#14824</a>
      <span class="ticket-status">closed</span>
      <span class="ticket-type">bug</span>
      <span class="ticket-resolution">(fixed)</span>
    </h3>

    <div class="ticket-dates">
      <p>Opened February 20, 2014 07:17PM UTC</p>
      
        <p>Closed April 30, 2014 01:15PM UTC</p>
      
      
    </div>
  </div>

  <h1 class="ticket-title">jQuery v1.11 and v2.1 slideUp and slideDown not respecting css display property on non-block elements</h1>

  <table class="ticket-properties">
    <tr>
      <th>Reported by:</th>
      <td>
        jason.frank@cadre5.com
      </td>
      <th>Owned by:</th>
      <td></td>
    </tr>
    <tr>
      <th>
        Priority:
      </th>
      <td>
        high
      </td>
      
        <th class="missing">Milestone:</th>
      
      <td>
        <a href="/milestone/1.11.1/2.1.1">1.11.1/2.1.1</a>
      </td>
    </tr>
    <tr>
      <th>Component:</th>
      <td>effects</td>
      
        <th>Version:</th>
      
      <td>1.11.0</td>
    </tr>
    <tr>
      
        <th class="missing">Keywords:</th>
      
      <td></td>
      
        <th class="missing">Cc:</th>
      
      <td></td>
    </tr>
    <tr>
      <th class="missing">
        Blocked by:
      </th>
      <td></td>
      <th class="missing">
        Blocking:
      </th>
      <td></td>
    </tr>
  </table>
  <div class="ticket-info-bottom">
    <h5 class="ticket-description-title">Description</h5>
    <div class="ticket-description"><p>I noticed that after upgrading from jQuery version 1.9 to version 1.11 that the behavior of methods like <code>slideUp</code>, <code>slideDown</code>, and <code>slideToggle</code> has changed when applied to non-block elements (i.e., <code>span</code>) which have a css <code>display</code> value specified.  In the previous versions, such as v1.9, the <code>display</code> value would get set (after its animation had completed) **to whatever we specifed in our CSS definition**.  In version 1.11 and 2.1, the <code>display</code> value is not respected in this way (at least not for non-block elements).</p><p>**Is this a new bug in jQuery 1.11 and 2.1?**  I saw that in older versions of jQuery, other people reported similar problems, such as <a href="https://forum.jquery.com/topic/jquery-effects-like-slidedown-that-leave-display-set-to-inline" class="ext-link"><span class="icon"></span>this</a> and <a href="http://bugs.jquery.com/ticket/2185" class="ext-link"><span class="icon"></span>this</a>.  Those problems seem to have been reported as fixed, and in our experience with jQuery 1.9, that seemed to be the case.  But it seems like its broken again in 1.11 and 2.1.  Here is a simple reproducible example:</p><p>HTML:</p><pre class="wiki">
    &lt;span class="b"&gt;block&lt;/span&gt; &lt;!-- notice this is not a block-level element... --&gt;
    &lt;a href="#" class="toggle"&gt;toggle it&lt;/a&gt;
</pre><p>CSS:</p><pre class="wiki">
    .b {
        display:block; /* ... but I need it to display like a block-level element */
        background:red;
    }
</pre><p>Javascript:</p><pre class="wiki">
    var isExpanded = true;

    $(".toggle").bind("click", function(){
        if(isExpanded) {   
            $(".b").slideUp();
            isExpanded = false;
        }
        else {
            $(".b").slideDown();
            isExpanded = true;
        }    
    });
</pre><p>See it working in this jsFiddle <a href="http://jsfiddle.net/jasonkylefrank/pqrdS/120/" class="ext-link"><span class="icon"></span>example</a>, which uses jQuery 1.9.</p><p>This produces the expected result when toggled open:</p><p>[[Image(<a href="http://i.stack.imgur.com/MwEiS.png)" class="ext-link"><span class="icon"></span>http://i.stack.imgur.com/MwEiS.png)</a>]]</p><p>Unfortunately, jQuery version 1.11 (or 2.1) is not respecting our <code>display</code> value, instead setting it to <code>inline-block</code>:</p><p>[[Image(<a href="http://i.stack.imgur.com/Zcqym.png)" class="ext-link"><span class="icon"></span>http://i.stack.imgur.com/Zcqym.png)</a>]]</p><p>This can be seen in <a href="http://jsfiddle.net/jasonkylefrank/pqrdS/121/" class="ext-link"><span class="icon"></span>this jsFiddle example</a>, where the only thing changed is the jQuery version.</p><p>Did I miss a statement from jQuery telling us that this behavior would be different in this new version?  <a href="http://blog.jquery.com/2014/01/24/jquery-1-11-and-2-1-released/" class="ext-link"><span class="icon"></span>These release notes</a> didn't seem to say anything as such, indicating that with this upgrade... "Your code shouldn’t break, it should just run a little faster."  But I may have missed a statement somewhere.</p><p>Thank you for your help.</p><p>Note: I realize that changing the <code>span</code> in this contrived example to a <code>div</code> may solve this problem, but there are times when we need to use a <code>span</code> that is given block-level style (i.e., you can't nest a <code>div</code> inside of a <code>span</code>), and we have a large production application with many such cases.</p></div>
  </div>
</div>

<details>
  <summary class="ticket-details-summary">Attachments (0)</summary>

  <ul class="ticket-attachments">
    
  </ul>
</details>

<details open="">
  <summary class="ticket-details-summary">Change History (3)</summary>
  
    <div class="ticket-change flex-column" id="comment:1">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 08, 2014 04:19PM UTC by <span class="author">Curtis</span></span>
        <a class="ticket-change-link" href="#comment:1">comment:1</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Is there any update regarding this issue? </p>
            </div>
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:2">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 10, 2014 03:44PM UTC by <span class="author">dmethvin</span></span>
        <a class="ticket-change-link" href="#comment:2">comment:2</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>component:</th>
                  <td>
                    
                      <span class="change-field-old">unfiled</span> → <span class="change-field-new">effects</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>milestone:</th>
                  <td>
                    
                      <span class="change-field-old">None</span> → <span class="change-field-new">1.11.1/2.1.1</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>priority:</th>
                  <td>
                    
                      <span class="change-field-old">undecided</span> → <span class="change-field-new">high</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">new</span> → <span class="change-field-new">open</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Yes, confirmed.</p>
            </div>
          
        
          
        
          
        
          
        
          
        
      </div>
    </div>
  
    <div class="ticket-change flex-column" id="comment:3">
      <h3 class="flex-row flex-between-start ticket-change-header">
        <span>Changed April 30, 2014 01:15PM UTC by <span class="author">Oleg Gaidarenko</span></span>
        <a class="ticket-change-link" href="#comment:3">comment:3</a>
      </h3>

      <div class="ticket-change-content">
        <table class="ticket-changes">
          <tbody>
            
              
            
              
                <tr>
                  <th>resolution:</th>
                  <td>
                    
                      <span class="change-field-new">→ fixed</span>
                    
                  </td>
                </tr>
              
            
              
                <tr>
                  <th>status:</th>
                  <td>
                    
                      <span class="change-field-old">open</span> → <span class="change-field-new">closed</span>
                    
                  </td>
                </tr>
              
            
          </tbody>
        </table>
        
          
            <div class="ticket-comment-body">
              <p>Effects: Respect display value on inline elements</p><p>Take "olddisplay" value into the account</p><p>Fixes <a href="/ticket/14824">#14824</a></p><p>Closes gh-1566</p><p>Ref 73fe17299a840a8a7f3ffffcac15e32a88bd3d66 </p><p> Changeset: c34dbf5a8d135e0f873ab7a76d1c8f8e316f31e4</p>
            </div>
          
        
          
        
          
        
      </div>
    </div>
  
</details>
</div>
        </div>
      </main>
      <footer>
        Copyright &copy; 2024
        <a href="https://openjsf.org">The OpenJS Foundation</a>
      </footer>
    </div>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  </body>
</html>
